if(function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w,x,_,C,S,k,E,T,A,M,N,D,I,L,P,O,R,H,F,z,B,W,j,$,q,U,V,Y,X,G=[].slice,K={}.hasOwnProperty,Q=function(t,e){function n(){this.constructor=t}for(var i in e)K.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Z=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};for(w={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},A=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},N=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,b=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==N&&(N=function(t){return setTimeout(t,50)},b=function(t){return clearTimeout(t)}),I=function(t){var e,n;return e=A(),(n=function(){var i;return(i=A()-e)>=33?(e=A(),t(i,function(){return N(n)})):setTimeout(n,33-i)})()},D=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?G.call(arguments,2):[],"function"==typeof n[e]?n[e].apply(n,t):n[e]},x=function(){var t,e,n,i,r,o,s;for(e=arguments[0],o=0,s=(i=2<=arguments.length?G.call(arguments,1):[]).length;s>o;o++)if(n=i[o])for(t in n)K.call(n,t)&&(r=n[t],null!=e[t]&&"object"==typeof e[t]&&null!=r&&"object"==typeof r?x(e[t],r):e[t]=r);return e},m=function(t){var e,n,i,r,o;for(n=e=0,r=0,o=t.length;o>r;r++)i=t[r],n+=Math.abs(i),e++;return n/e},C=function(t,e){var n,i,r;if(null==t&&(t="options"),null==e&&(e=!0),r=document.querySelector("[data-pace-"+t+"]")){if(n=r.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(t){return i=t,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},s=function(){function t(){}return t.prototype.on=function(t,e,n,i){var r;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[t]&&(r[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,i,r;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,r=[];n<this.bindings[t].length;)r.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return r}},t.prototype.trigger=function(){var t,e,n,i,r,o,s,a,l;if(n=arguments[0],t=2<=arguments.length?G.call(arguments,1):[],null!=(s=this.bindings)?s[n]:void 0){for(r=0,l=[];r<this.bindings[n].length;)a=this.bindings[n][r],i=a.handler,e=a.ctx,o=a.once,i.apply(null!=e?e:this,t),l.push(o?this.bindings[n].splice(r,1):r++);return l}},t}(),c=window.Pace||{},window.Pace=c,x(c,s.prototype),M=c.options=x({},w,window.paceOptions,C()),j=0,q=(V=["ajax","document","eventLag","elements"]).length;q>j;j++)R=V[j],!0===M[R]&&(M[R]=w[R]);l=function(t){function e(){return Y=e.__super__.constructor.apply(this,arguments)}return Q(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(!(t=document.querySelector(M.target)))throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){l=t}return this.el=void 0},t.prototype.render=function(){var t,e,n,i,r,o,s;if(null==document.querySelector(M.target))return!1;for(t=this.getElement(),i="translate3d("+this.progress+"%, 0, 0)",r=0,o=(s=["webkitTransform","msTransform","transform"]).length;o>r;r++)e=s[r],t.children[0].style[e]=i;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),t.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),a=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,i,r,o,s;if(null!=this.bindings[t]){for(s=[],i=0,r=(o=this.bindings[t]).length;r>i;i++)n=o[i],s.push(n.call(this,e));return s}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),W=window.XMLHttpRequest,B=window.XDomainRequest,z=window.WebSocket,_=function(t,e){var n,i;i=[];for(n in e.prototype)try{i.push(null==t[n]&&"function"!=typeof e[n]?"function"==typeof Object.defineProperty?Object.defineProperty(t,n,{get:function(){return e.prototype[n]},configurable:!0,enumerable:!0}):t[n]=e.prototype[n]:void 0)}catch(t){t}return i},E=[],c.ignore=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?G.call(arguments,1):[],E.unshift("ignore"),n=e.apply(null,t),E.shift(),n},c.track=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?G.call(arguments,1):[],E.unshift("track"),n=e.apply(null,t),E.shift(),n},O=function(t){var e;if(null==t&&(t="GET"),"track"===E[0])return"force";if(!E.length&&M.ajax){if("socket"===t&&M.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),Z.call(M.ajax.trackMethods,e)>=0)return!0}return!1},u=function(t){function e(){var t,n=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(i,r){return O(i)&&n.trigger("request",{type:i,url:r,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var n;return n=new W(e),t(n),n};try{_(window.XMLHttpRequest,W)}catch(t){}if(null!=B){window.XDomainRequest=function(){var e;return e=new B,t(e),e};try{_(window.XDomainRequest,B)}catch(t){}}if(null!=z&&M.ajax.trackWebSockets){window.WebSocket=function(t,e){var i;return i=null!=e?new z(t,e):new z(t),O("socket")&&n.trigger("request",{type:"socket",url:t,protocols:e,request:i}),i};try{_(window.WebSocket,z)}catch(t){}}}return Q(e,a),e}(),$=null,P=function(t){var e,n,i,r;for(n=0,i=(r=M.ajax.ignoreURLs).length;i>n;n++)if("string"==typeof(e=r[n])){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},(S=function(){return null==$&&($=new u),$})().on("request",function(e){var n,i,r,o,s;return o=e.type,r=e.request,s=e.url,P(s)?void 0:c.running||!1===M.restartOnRequestAfter&&"force"!==O(o)?void 0:(i=arguments,"boolean"==typeof(n=M.restartOnRequestAfter||0)&&(n=0),setTimeout(function(){var e,n,s,a,l;if("socket"===o?r.readyState<2:0<(s=r.readyState)&&4>s){for(c.restart(),l=[],e=0,n=(a=c.sources).length;n>e;e++){if((R=a[e])instanceof t){R.watch.apply(R,i);break}l.push(void 0)}return l}},n))}),t=function(){function t(){var t=this;this.elements=[],S().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,n,i,r;return i=t.type,e=t.request,r=t.url,P(r)?void 0:(n="socket"===i?new f(e):new p(e),this.elements.push(n))},t}(),p=function(){return function(t){var e,n,i,r,o,s=this;if(this.progress=0,null!=window.ProgressEvent)for(t.addEventListener("progress",function(t){return s.progress=t.lengthComputable?100*t.loaded/t.total:s.progress+(100-s.progress)/2},!1),o=["load","abort","timeout","error"],n=0,i=o.length;i>n;n++)e=o[n],t.addEventListener(e,function(){return s.progress=100},!1);else r=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?s.progress=100:3===t.readyState&&(s.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}}}(),f=function(){return function(t){var e,n,i,r,o=this;for(this.progress=0,n=0,i=(r=["error","open"]).length;i>n;n++)e=r[n],t.addEventListener(e,function(){return o.progress=100},!1)}}(),i=function(){return function(t){var e,n,i,o;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),n=0,i=(o=t.selectors).length;i>n;n++)e=o[n],this.elements.push(new r(e))}}(),r=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},M.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),n=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),o=function(){return function(){var t,e,n,i,r,o=this;this.progress=0,t=0,r=[],i=0,n=A(),e=setInterval(function(){var s;return s=A()-n-50,n=A(),r.push(s),r.length>M.eventLag.sampleCount&&r.shift(),t=m(r),++i>=M.eventLag.minSamples&&t<M.eventLag.lagThreshold?(o.progress=100,clearInterval(e)):o.progress=3/(t+3)*100},50)}}(),d=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=M.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=D(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=D(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/M.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,M.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+M.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),H=null,L=null,v=null,F=null,g=null,y=null,c.running=!1,k=function(){return M.restartOnPushState?c.restart():void 0},null!=window.history.pushState&&(U=window.history.pushState,window.history.pushState=function(){return k(),U.apply(window.history,arguments)}),null!=window.history.replaceState&&(X=window.history.replaceState,window.history.replaceState=function(){return k(),X.apply(window.history,arguments)}),h={ajax:t,elements:i,document:n,eventLag:o},(T=function(){var t,n,i,r,o,s,a,l;for(c.sources=H=[],n=0,r=(s=["ajax","elements","document","eventLag"]).length;r>n;n++)t=s[n],!1!==M[t]&&H.push(new h[t](M[t]));for(i=0,o=(l=null!=(a=M.extraSources)?a:[]).length;o>i;i++)R=l[i],H.push(new R(M));return c.bar=v=new e,L=[],F=new d})(),c.stop=function(){return c.trigger("stop"),c.running=!1,v.destroy(),y=!0,null!=g&&("function"==typeof b&&b(g),g=null),T()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var t;return c.running=!0,v.render(),t=A(),y=!1,g=I(function(e,n){var i,r,o,s,a,l,u,h,f,p,g,m,b,w,x;for(100-v.progress,r=p=0,o=!0,l=g=0,b=H.length;b>g;l=++g)for(R=H[l],f=null!=L[l]?L[l]:L[l]=[],a=null!=(x=R.elements)?x:[R],u=m=0,w=a.length;w>m;u=++m)s=a[u],h=null!=f[u]?f[u]:f[u]=new d(s),o&=h.done,h.done||(r++,p+=h.tick(e));return i=p/r,v.update(F.tick(e,i)),v.done()||o||y?(v.update(100),c.trigger("done"),setTimeout(function(){return v.finish(),c.running=!1,c.trigger("hide")},Math.max(M.ghostTime,Math.max(M.minTime-(A()-t),0)))):n()})},c.start=function(t){x(M,t),c.running=!0;try{v.render()}catch(t){l=t}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return c}):"object"==typeof exports?module.exports=c:M.startOnPageLoad&&c.start()}.call(this),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=it.type(t);return"function"!==n&&!it.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function i(t,e,n){if(it.isFunction(e))return it.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return it.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ht.test(e))return it.filter(e,t,n);e=it.filter(e,t)}return it.grep(t,function(t){return it.inArray(t,e)>=0!==n})}function r(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function o(t){var e=yt[t]={};return it.each(t.match(vt)||[],function(t,n){e[n]=!0}),e}function s(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(ft.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(s(),it.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(Ct,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:_t.test(n)?it.parseJSON(n):n)}catch(t){}it.data(t,e,n)}else n=void 0}return n}function c(t){var e;for(e in t)if(("data"!==e||!it.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,i){if(it.acceptData(t)){var r,o,s=it.expando,a=t.nodeType,l=a?it.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof e)return c||(c=a?t[s]=Y.pop()||it.guid++:s),l[c]||(l[c]=a?{}:{toJSON:it.noop}),("object"==typeof e||"function"==typeof e)&&(i?l[c]=it.extend(l[c],e):l[c].data=it.extend(l[c].data,e)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[it.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[it.camelCase(e)]):r=o,r}}function h(t,e,n){if(it.acceptData(t)){var i,r,o=t.nodeType,s=o?it.cache:t,a=o?t[it.expando]:it.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){it.isArray(e)?e=e.concat(it.map(e,it.camelCase)):e in i?e=[e]:(e=it.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!c(i):!it.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(o?it.cleanData([t],!0):et.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function d(){return!0}function f(){return!1}function p(){try{return ft.activeElement}catch(t){}}function g(t){var e=Pt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function m(t,e){var n,i,r=0,o=typeof t.getElementsByTagName!==xt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==xt?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||it.nodeName(i,e)?o.push(i):it.merge(o,m(i,e));return void 0===e||e&&it.nodeName(t,e)?it.merge([t],o):o}function v(t){At.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return it.nodeName(t,"table")&&it.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function b(t){return t.type=(null!==it.find.attr(t,"type"))+"/"+t.type,t}function w(t){var e=Ut.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){for(var n,i=0;null!=(n=t[i]);i++)it._data(n,"globalEval",!e||it._data(e[i],"globalEval"))}function _(t,e){if(1===e.nodeType&&it.hasData(t)){var n,i,r,o=it._data(t),s=it._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)it.event.add(e,n,a[n][i])}s.data&&(s.data=it.extend({},s.data))}}function C(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!et.noCloneEvent&&e[it.expando]){r=it._data(e);for(i in r.events)it.removeEvent(e,i,r.handle);e.removeAttribute(it.expando)}"script"===n&&e.text!==t.text?(b(e).text=t.text,w(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),et.html5Clone&&t.innerHTML&&!it.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&At.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function S(e,n){var i,r=it(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:it.css(r[0],"display");return r.detach(),o}function k(t){var e=ft,n=Kt[t];return n||("none"!==(n=S(t,e))&&n||(Gt=(Gt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),(e=(Gt[0].contentWindow||Gt[0].contentDocument).document).write(),e.close(),n=S(t,e),Gt.detach()),Kt[t]=n),n}function E(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function T(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=ce.length;r--;)if((e=ce[r]+n)in t)return e;return i}function A(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)(i=t[s]).style&&(o[s]=it._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Et(i)&&(o[s]=it._data(i,"olddisplay",k(i.nodeName)))):(r=Et(i),(n&&"none"!==n||!r)&&it._data(i,"olddisplay",r?n:it.css(i,"display"))));for(s=0;a>s;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function M(t,e,n){var i=oe.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function N(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=it.css(t,n+kt[o],!0,r)),i?("content"===n&&(s-=it.css(t,"padding"+kt[o],!0,r)),"margin"!==n&&(s-=it.css(t,"border"+kt[o]+"Width",!0,r))):(s+=it.css(t,"padding"+kt[o],!0,r),"padding"!==n&&(s+=it.css(t,"border"+kt[o]+"Width",!0,r)));return s}function D(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Qt(t),s=et.boxSizing&&"border-box"===it.css(t,"boxSizing",!1,o);if(0>=r||null==r){if((0>(r=Zt(t,e,o))||null==r)&&(r=t.style[e]),te.test(r))return r;i=s&&(et.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+N(t,e,n||(s?"border":"content"),i,o)+"px"}function I(t,e,n,i,r){return new I.prototype.init(t,e,n,i,r)}function L(){return setTimeout(function(){ue=void 0}),ue=it.now()}function P(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=kt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function O(t,e,n){for(var i,r=(me[e]||[]).concat(me["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function R(t,e){var n,i,r,o,s;for(n in t)if(i=it.camelCase(n),r=e[i],o=t[n],it.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=it.cssHooks[i])&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function H(t,e,n){var i,r,o=0,s=ge.length,a=it.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ue||L(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,s=c.tweens.length;s>o;o++)c.tweens[o].run(i);return a.notifyWith(t,[c,i,n]),1>i&&s?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:it.extend({},e),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:ue||L(),duration:n.duration,tweens:[],createTween:function(e,n){var i=it.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(R(u,c.opts.specialEasing);s>o;o++)if(i=ge[o].call(c,t,u,c.opts))return i;return it.map(u,O,c),it.isFunction(c.opts.start)&&c.opts.start.call(t,c),it.fx.timer(it.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(vt)||[];if(it.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function z(t,e,n,i){function r(a){var l;return o[a]=!0,it.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=t===Be;return r(e.dataTypes[0])||!o["*"]&&r("*")}function B(t,e){var n,i,r=it.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&it.extend(!0,t,n),t}function W(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function j(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function $(t,e,n,i){var r;if(it.isArray(e))it.each(e,function(e,r){n||$e.test(t)?i(t,r):$(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==it.type(e))i(t,e);else for(r in e)$(t+"["+r+"]",e[r],n,i)}function q(){try{return new t.XMLHttpRequest}catch(t){}}function U(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(t){return it.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var Y=[],X=Y.slice,G=Y.concat,K=Y.push,Q=Y.indexOf,Z={},J=Z.toString,tt=Z.hasOwnProperty,et={},nt="1.11.1",it=function(t,e){return new it.fn.init(t,e)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,st=/-([\da-z])/gi,at=function(t,e){return e.toUpperCase()};it.fn=it.prototype={jquery:nt,constructor:it,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=it.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return it.each(this,t,e)},map:function(t){return this.pushStack(it.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:Y.sort,splice:Y.splice},it.extend=it.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||it.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],n=r[i],s!==n&&(c&&n&&(it.isPlainObject(n)||(e=it.isArray(n)))?(e?(e=!1,o=t&&it.isArray(t)?t:[]):o=t&&it.isPlainObject(t)?t:{},s[i]=it.extend(c,o,n)):void 0!==n&&(s[i]=n));return s},it.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===it.type(t)},isArray:Array.isArray||function(t){return"array"===it.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!it.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==it.type(t)||t.nodeType||it.isWindow(t))return!1;try{if(t.constructor&&!tt.call(t,"constructor")&&!tt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(et.ownLast)for(e in t)return tt.call(t,e);for(e in t);return void 0===e||tt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[J.call(t)]||"object":typeof t},globalEval:function(e){e&&it.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ot,"ms-").replace(st,at)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r=0,o=t.length,s=n(t);if(i){if(s)for(;o>r&&!1!==e.apply(t[r],i);r++);else for(r in t)if(!1===e.apply(t[r],i))break}else if(s)for(;o>r&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(rt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?it.merge(i,"string"==typeof t?[t]:t):K.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(Q)return Q.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;o>r;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,i){var r,o=0,s=t.length,a=[];if(n(t))for(;s>o;o++)null!=(r=e(t[o],o,i))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,i))&&a.push(r);return G.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),it.isFunction(t)?(n=X.call(arguments,2),i=function(){return t.apply(e||this,n.concat(X.call(arguments)))},i.guid=t.guid=t.guid||it.guid++,i):void 0},now:function(){return+new Date},support:et}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var lt=function(t){function e(t,e,n,i){var r,o,s,a,c,h,d,f,p,g;if((e?e.ownerDocument||e:F)!==N&&M(e),e=e||N,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(I&&!i){if(r=mt.exec(t))if(s=r[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&R(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&b.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(s)),n}if(b.qsa&&(!L||!L.test(t))){if(f=d=H,p=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(h=C(t),(d=e.getAttribute("id"))?f=d.replace(yt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",c=h.length;c--;)h[c]=f+u(h[c]);p=vt.test(t)&&l(e.parentNode)||e,g=h.join(",")}if(g)try{return Q.apply(n,p.querySelectorAll(g)),n}catch(t){}finally{d||e.removeAttribute("id")}}}return k(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[H]=!0,t}function r(t){var e=N.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)w.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function l(t){return t&&typeof t.getElementsByTagName!==U&&t}function c(){}function u(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function h(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=B++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c=[z,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[H]||(e[H]={}),(a=l[i])&&a[0]===z&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function f(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function p(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),c&&e.push(a));return s}function g(t,e,n,r,o,s){return r&&!r[H]&&(r=g(r)),o&&!o[H]&&(o=g(o,s)),i(function(i,s,a,l){var c,u,h,d=[],g=[],m=s.length,v=i||f(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:p(v,d,t,a,l),b=n?o||(i?t:m||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(c=p(b,g),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(b[g[u]]=!(y[g[u]]=h));if(i){if(o||t){if(o){for(c=[],u=b.length;u--;)(h=b[u])&&c.push(y[u]=h);o(null,b=[],c,l)}for(u=b.length;u--;)(h=b[u])&&(c=o?J.call(i,h):d[u])>-1&&(i[c]=!(s[c]=h))}}else b=p(b===s?b.splice(m,b.length):b),o?o(null,s,b,l):Q.apply(s,b)})}function m(t){for(var e,n,i,r=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,l=h(function(t){return t===e},s,!0),c=h(function(t){return J.call(e,t)>-1},s,!0),f=[function(t,n,i){return!o&&(i||n!==E)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];r>a;a++)if(n=w.relative[t[a].type])f=[h(d(f),n)];else{if((n=w.filter[t[a].type].apply(null,t[a].matches))[H]){for(i=++a;r>i&&!w.relative[t[i].type];i++);return g(a>1&&d(f),a>1&&u(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),n,i>a&&m(t.slice(a,i)),r>i&&m(t=t.slice(i)),r>i&&u(t))}f.push(n)}return d(f)}function v(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,c){var u,h,d,f=0,g="0",m=i&&[],v=[],y=E,b=i||o&&w.find.TAG("*",c),x=z+=null==y?1:Math.random()||.1,_=b.length;for(c&&(E=s!==N&&s);g!==_&&null!=(u=b[g]);g++){if(o&&u){for(h=0;d=t[h++];)if(d(u,s,a)){l.push(u);break}c&&(z=x)}r&&((u=!d&&u)&&f--,i&&m.push(u))}if(f+=g,r&&g!==f){for(h=0;d=n[h++];)d(m,v,s,a);if(i){if(f>0)for(;g--;)m[g]||v[g]||(v[g]=G.call(l));v=p(v)}Q.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return c&&(z=x,E=y),m};return r?i(s):s}var y,b,w,x,_,C,S,k,E,T,A,M,N,D,I,L,P,O,R,H="sizzle"+-new Date,F=t.document,z=0,B=0,W=n(),j=n(),$=n(),q=function(t,e){return t===e&&(A=!0),0},U="undefined",V=1<<31,Y={}.hasOwnProperty,X=[],G=X.pop,K=X.push,Q=X.push,Z=X.slice,J=X.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",et="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=nt.replace("w","w#"),rt="\\["+et+"*("+nt+")(?:"+et+"*([*^$|!~]?=)"+et+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+et+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),at=new RegExp("^"+et+"*,"+et+"*"),lt=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),ct=new RegExp("="+et+"*([^\\]'\"]*?)"+et+"*\\]","g"),ut=new RegExp(ot),ht=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,yt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+et+"?|("+et+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Q.apply(X=Z.call(F.childNodes),F.childNodes),X[F.childNodes.length].nodeType}catch(t){Q={apply:X.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}b=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},M=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:F,i=n.defaultView;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,D=n.documentElement,I=!_(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){M()},!1):i.attachEvent&&i.attachEvent("onunload",function(){M()})),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=gt.test(n.getElementsByClassName)&&r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),b.getById=r(function(t){return D.appendChild(t).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),b.getById?(w.find.ID=function(t,e){if(typeof e.getElementById!==U&&I){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n=typeof t.getAttributeNode!==U&&t.getAttributeNode("id");return n&&n.value===e}}),w.find.TAG=b.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==U?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=b.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==U&&I?e.getElementsByClassName(t):void 0},P=[],L=[],(b.qsa=gt.test(n.querySelectorAll))&&(r(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&L.push("[*^$]="+et+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+et+"*(?:value|"+tt+")"),t.querySelectorAll(":checked").length||L.push(":checked")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+et+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(b.matchesSelector=gt.test(O=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(t){b.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),P.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),P=P.length&&new RegExp(P.join("|")),e=gt.test(D.compareDocumentPosition),R=e||gt.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return A=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!b.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===F&&R(F,t)?-1:e===n||e.ownerDocument===F&&R(F,e)?1:T?J.call(T,t)-J.call(T,e):0:4&i?-1:1)}:function(t,e){if(t===e)return A=!0,0;var i,r=0,o=t.parentNode,a=e.parentNode,l=[t],c=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:T?J.call(T,t)-J.call(T,e):0;if(o===a)return s(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===F?-1:c[r]===F?1:0},n):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&M(t),n=n.replace(ct,"='$1']"),!(!b.matchesSelector||!I||P&&P.test(n)||L&&L.test(n)))try{var i=O.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&M(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&M(t);var n=w.attrHandle[e.toLowerCase()],i=n&&Y.call(w.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:b.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(A=!b.detectDuplicates,T=!b.sortStable&&t.slice(0),t.sort(q),A){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return T=null,t},x=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=x(e);return n},(w=e.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ut.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+et+")"+t+"("+et+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==U&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(f=(c=(u=m[H]||(m[H]={}))[t]||[])[0]===z&&c[1],d=c[0]===z&&c[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[z,f,d];break}}else if(y&&(c=(e[H]||(e[H]={}))[t])&&c[0]===z)d=c[1];else for(;(h=++f&&h&&h[g]||(d=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[H]||(h[H]={}))[t]=[z,d]),h!==e)););return(d-=r)===i||d%i==0&&d/i>=0}}},PSEUDO:function(t,n){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(n):o.length>1?(r=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=J.call(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(st,"$1"));return r[H]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do{if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[0>n?n+e:n]}),even:a(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(y);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,C=e.tokenize=function(t,n){var i,r,o,s,a,l,c,u=j[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=w.preFilter;a;){(!i||(r=at.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=lt.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),a=a.slice(i.length));for(s in w.filter)!(r=dt[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):j(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=$[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)(o=m(e[n]))[H]?i.push(o):r.push(o);(o=$(t,v(r,i))).selector=t}return o},k=e.select=function(t,e,n,i){var r,o,s,a,c,h="function"==typeof t&&t,d=!i&&C(t=h.selector||t);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&b.getById&&9===e.nodeType&&I&&w.relative[o[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(bt,wt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((c=w.find[a])&&(i=c(s.matches[0].replace(bt,wt),vt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&u(o)))return Q.apply(n,i),n;break}}return(h||S(t,d))(i,e,!I,n,vt.test(t)&&l(e.parentNode)||e),n},b.sortStable=H.split("").sort(q).join("")===H,b.detectDuplicates=!!A,M(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(tt,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);it.find=lt,it.expr=lt.selectors,it.expr[":"]=it.expr.pseudos,it.unique=lt.uniqueSort,it.text=lt.getText,it.isXMLDoc=lt.isXML,it.contains=lt.contains;var ct=it.expr.match.needsContext,ut=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;it.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?it.find.matchesSelector(i,t)?[i]:[]:it.find.matches(t,it.grep(e,function(t){return 1===t.nodeType}))},it.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(it(t).filter(function(){for(e=0;r>e;e++)if(it.contains(i[e],this))return!0}));for(e=0;r>e;e++)it.find(t,i[e],n);return n=this.pushStack(r>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ct.test(t)?it(t):t||[],!1).length}});var dt,ft=t.document,pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(it.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:pt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||dt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof it?e[0]:e,it.merge(this,it.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:ft,!0)),ut.test(n[1])&&it.isPlainObject(e))for(n in e)it.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((i=ft.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return dt.find(t);this.length=1,this[0]=i}return this.context=ft,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):it.isFunction(t)?void 0!==dt.ready?dt.ready(t):t(it):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),it.makeArray(t,this))}).prototype=it.fn,dt=it(ft);var gt=/^(?:parents|prev(?:Until|All))/,mt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!it(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),it.fn.extend({has:function(t){var e,n=it(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(it.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ct.test(t)||"string"!=typeof t?it(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?it.unique(o):o)},index:function(t){return t?"string"==typeof t?it.inArray(this[0],it(t)):it.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(it.unique(it.merge(this.get(),it(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),it.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return it.dir(t,"parentNode")},parentsUntil:function(t,e,n){return it.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return it.dir(t,"nextSibling")},prevAll:function(t){return it.dir(t,"previousSibling")},nextUntil:function(t,e,n){return it.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return it.dir(t,"previousSibling",n)},siblings:function(t){return it.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return it.sibling(t.firstChild)},contents:function(t){return it.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:it.merge([],t.childNodes)}},function(t,e){it.fn[t]=function(n,i){var r=it.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=it.filter(i,r)),this.length>1&&(mt[t]||(r=it.unique(r)),gt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var vt=/\S+/g,yt={};it.Callbacks=function(t){var e,n,i,r,s,a,l=[],c=!(t="string"==typeof t?yt[t]||o(t):it.extend({},t)).once&&[],u=function(o){for(n=t.memory&&o,i=!0,s=a||0,a=0,r=l.length,e=!0;l&&r>s;s++)if(!1===l[s].apply(o[0],o[1])&&t.stopOnFalse){n=!1;break}e=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function e(n){it.each(n,function(n,i){var r=it.type(i);"function"===r?t.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==r&&e(i)})}(arguments),e?r=l.length:n&&(a=i,u(n))}return this},remove:function(){return l&&it.each(arguments,function(t,n){for(var i;(i=it.inArray(n,l,i))>-1;)l.splice(i,1),e&&(r>=i&&r--,s>=i&&s--)}),this},has:function(t){return t?it.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||h.disable(),this},locked:function(){return!c},fireWith:function(t,n){return!l||i&&!c||(n=n||[],n=[t,n.slice?n.slice():n],e?c.push(n):u(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},it.extend({Deferred:function(t){var e=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return it.Deferred(function(n){it.each(e,function(e,o){var s=it.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&it.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?it.extend(t,i):i}},r={};return i.pipe=i.then,it.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=X.call(arguments),s=o.length,a=1!==s||t&&it.isFunction(t.promise)?s:0,l=1===a?t:it.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?X.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&it.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}});var bt;it.fn.ready=function(t){return it.ready.promise().done(t),this},it.extend({isReady:!1,readyWait:1,holdReady:function(t){t?it.readyWait++:it.ready(!0)},ready:function(t){if(!0===t?!--it.readyWait:!it.isReady){if(!ft.body)return setTimeout(it.ready);it.isReady=!0,!0!==t&&--it.readyWait>0||(bt.resolveWith(ft,[it]),it.fn.triggerHandler&&(it(ft).triggerHandler("ready"),it(ft).off("ready")))}}}),it.ready.promise=function(e){if(!bt)if(bt=it.Deferred(),"complete"===ft.readyState)setTimeout(it.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{ft.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&ft.documentElement}catch(t){}n&&n.doScroll&&function t(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}s(),it.ready()}}()}return bt.promise(e)};var wt,xt="undefined";for(wt in it(et))break;et.ownLast="0"!==wt,et.inlineBlockNeedsLayout=!1,it(function(){var t,e,n,i;(n=ft.getElementsByTagName("body")[0])&&n.style&&(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==xt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",et.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=ft.createElement("div");if(null==et.deleteExpando){et.deleteExpando=!0;try{delete t.test}catch(t){et.deleteExpando=!1}}t=null}(),it.acceptData=function(t){var e=it.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var _t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ct=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?it.cache[t[it.expando]]:t[it.expando])&&!c(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),it.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=it.data(o),1===o.nodeType&&!it._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=it.camelCase(i.slice(5)),l(o,i,r[i]));it._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){it.data(this,t)}):arguments.length>1?this.each(function(){it.data(this,t,e)}):o?l(o,t,it.data(o,t)):void 0},removeData:function(t){return this.each(function(){it.removeData(this,t)})}}),it.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=it._data(t,e),n&&(!i||it.isArray(n)?i=it._data(t,e,it.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=it.queue(t,e),i=n.length,r=n.shift(),o=it._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){it.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return it._data(t,n)||it._data(t,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(t,e+"queue"),it._removeData(t,n)})})}}),it.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?it.queue(this[0],t):void 0===e?this:this.each(function(){var n=it.queue(this,t,e);it._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&it.dequeue(this,t)})},dequeue:function(t){return this.each(function(){it.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=it.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=it._data(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=["Top","Right","Bottom","Left"],Et=function(t,e){return t=e||t,"none"===it.css(t,"display")||!it.contains(t.ownerDocument,t)},Tt=it.access=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===it.type(n)){r=!0;for(a in n)it.access(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,it.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(it(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},At=/^(?:checkbox|radio)$/i;!function(){var t=ft.createElement("input"),e=ft.createElement("div"),n=ft.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",et.leadingWhitespace=3===e.firstChild.nodeType,et.tbody=!e.getElementsByTagName("tbody").length,et.htmlSerialize=!!e.getElementsByTagName("link").length,et.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),et.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",et.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",et.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,et.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){et.noCloneEvent=!1}),e.cloneNode(!0).click()),null==et.deleteExpando){et.deleteExpando=!0;try{delete e.test}catch(t){et.deleteExpando=!1}}}(),function(){var e,n,i=ft.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(et[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),et[e+"Bubbles"]=!1===i.attributes[n].expando);i=null}();var Mt=/^(?:input|select|textarea)$/i,Nt=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,Lt=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=it._data(t);if(m){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=it.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||(u=m.handle=function(t){return typeof it===xt||t&&it.event.triggered===t.type?void 0:it.event.dispatch.apply(u.elem,arguments)},u.elem=t),a=(e=(e||"").match(vt)||[""]).length;a--;)o=Lt.exec(e[a])||[],f=g=o[1],p=(o[2]||"").split(".").sort(),f&&(c=it.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=it.event.special[f]||{},h=it.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&it.expr.match.needsContext.test(r),namespace:p.join(".")},l),(d=s[f])||(d=s[f]=[],d.delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,u)||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),it.event.global[f]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=it.hasData(t)&&it._data(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(vt)||[""]).length;c--;)if(a=Lt.exec(e[c])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(h=it.event.special[f]||{},d=u[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||it.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)it.event.remove(t,f+e[c],n,i,!0);it.isEmptyObject(u)&&(delete m.handle,it._removeData(t,"events"))}},trigger:function(e,n,i,r){var o,s,a,l,c,u,h,d=[i||ft],f=tt.call(e,"type")?e.type:e,p=tt.call(e,"namespace")?e.namespace.split("."):[];if(a=u=i=i||ft,3!==i.nodeType&&8!==i.nodeType&&!It.test(f+it.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,e=e[it.expando]?e:new it.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:it.makeArray(n,[e]),c=it.event.special[f]||{},r||!c.trigger||!1!==c.trigger.apply(i,n))){if(!r&&!c.noBubble&&!it.isWindow(i)){for(l=c.delegateType||f,It.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(i.ownerDocument||ft)&&d.push(u.defaultView||u.parentWindow||t)}for(h=0;(a=d[h++])&&!e.isPropagationStopped();)e.type=h>1?l:c.bindType||f,(o=(it._data(a,"events")||{})[e.type]&&it._data(a,"handle"))&&o.apply(a,n),(o=s&&a[s])&&o.apply&&it.acceptData(a)&&(e.result=o.apply(a,n),!1===e.result&&e.preventDefault());if(e.type=f,!r&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(d.pop(),n))&&it.acceptData(i)&&s&&i[f]&&!it.isWindow(i)){(u=i[s])&&(i[s]=null),it.event.triggered=f;try{i[f]()}catch(t){}it.event.triggered=void 0,u&&(i[s]=u)}return e.result}},dispatch:function(t){t=it.event.fix(t);var e,n,i,r,o,s=[],a=X.call(arguments),l=(it._data(this,"events")||{})[t.type]||[],c=it.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(s=it.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,void 0!==(n=((it.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(r=[],o=0;a>o;o++)i=e[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?it(n,this).index(l)>=0:it.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[it.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Dt.test(r)?this.mouseHooks:Nt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new it.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||ft),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||ft,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return it.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=it.extend(new it.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?it.event.trigger(r,null,e):it.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=ft.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===xt&&(t[i]=null),t.detachEvent(i,n))},it.Event=function(t,e){return this instanceof it.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?d:f):this.type=t,e&&it.extend(this,e),this.timeStamp=t&&t.timeStamp||it.now(),void(this[it.expando]=!0)):new it.Event(t,e)},it.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){it.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!it.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),et.submitBubbles||(it.event.special.submit={setup:function(){return!it.nodeName(this,"form")&&void it.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=it.nodeName(e,"input")||it.nodeName(e,"button")?e.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),it._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&it.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!it.nodeName(this,"form")&&void it.event.remove(this,"._submit")}}),et.changeBubbles||(it.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,t,!0)})),!1):void it.event.add(this,"beforeactivate._change",function(t){var e=t.target;Mt.test(e.nodeName)&&!it._data(e,"changeBubbles")&&(it.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||it.event.simulate("change",this.parentNode,t,!0)}),it._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),et.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){it.event.simulate(e,t.target,it.event.fix(t),!0)};it.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=it._data(i,e);r||i.addEventListener(t,n,!0),it._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=it._data(i,e)-1;r?it._data(i,e,r):(i.removeEventListener(t,n,!0),it._removeData(i,e))}}}),it.fn.extend({on:function(t,e,n,i,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=f;else if(!i)return this;return 1===r&&(s=i,i=function(t){return it().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=it.guid++)),this.each(function(){it.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,it(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=f),this.each(function(){it.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){it.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?it.event.trigger(t,e,n,!0):void 0}});var Pt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Rt=new RegExp("<(?:"+Pt+")[\\s/>]","i"),Ht=/^\s+/,Ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,Bt=/<tbody/i,Wt=/<|&#?\w+;/,jt=/<(?:script|style|link)/i,$t=/checked\s*(?:[^=]|=\s*.checked.)/i,qt=/^$|\/(?:java|ecma)script/i,Ut=/^true\/(.*)/,Vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:et.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xt=g(ft).appendChild(ft.createElement("div"));Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,it.extend({clone:function(t,e,n){var i,r,o,s,a,l=it.contains(t.ownerDocument,t);if(et.html5Clone||it.isXMLDoc(t)||!Rt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Xt.innerHTML=t.outerHTML,Xt.removeChild(o=Xt.firstChild)),!(et.noCloneEvent&&et.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||it.isXMLDoc(t)))for(i=m(o),a=m(t),s=0;null!=(r=a[s]);++s)i[s]&&C(r,i[s]);if(e)if(n)for(a=a||m(t),i=i||m(o),s=0;null!=(r=a[s]);s++)_(r,i[s]);else _(t,o);return(i=m(o,"script")).length>0&&x(i,!l&&m(t,"script")),i=a=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,s,a,l,c,u,h=t.length,d=g(e),f=[],p=0;h>p;p++)if((o=t[p])||0===o)if("object"===it.type(o))it.merge(f,o.nodeType?[o]:o);else if(Wt.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(zt.exec(o)||["",""])[1].toLowerCase(),u=Yt[l]||Yt._default,a.innerHTML=u[1]+o.replace(Ft,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!et.leadingWhitespace&&Ht.test(o)&&f.push(e.createTextNode(Ht.exec(o)[0])),!et.tbody)for(r=(o="table"!==l||Bt.test(o)?"<table>"!==u[1]||Bt.test(o)?0:a:a.firstChild)&&o.childNodes.length;r--;)it.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(it.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(e.createTextNode(o));for(a&&d.removeChild(a),et.appendChecked||it.grep(m(f,"input"),v),p=0;o=f[p++];)if((!i||-1===it.inArray(o,i))&&(s=it.contains(o.ownerDocument,o),a=m(d.appendChild(o),"script"),s&&x(a),n))for(r=0;o=a[r++];)qt.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(t,e){for(var n,i,r,o,s=0,a=it.expando,l=it.cache,c=et.deleteExpando,u=it.event.special;null!=(n=t[s]);s++)if((e||it.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?it.event.remove(n,i):it.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==xt?n.removeAttribute(a):n[a]=null,Y.push(r))}}}),it.fn.extend({text:function(t){return Tt(this,function(t){return void 0===t?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||y(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?it.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||it.cleanData(m(n)),n.parentNode&&(e&&it.contains(n.ownerDocument,n)&&x(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&it.cleanData(m(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&it.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return it.clone(this,t,e)})},html:function(t){return Tt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Ot,""):void 0;if(!("string"!=typeof t||jt.test(t)||!et.htmlSerialize&&Rt.test(t)||!et.leadingWhitespace&&Ht.test(t)||Yt[(zt.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ft,"<$1></$2>");try{for(;i>n;n++)1===(e=this[n]||{}).nodeType&&(it.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,it.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=G.apply([],t);var n,i,r,o,s,a,l=0,c=this.length,u=this,h=c-1,d=t[0],f=it.isFunction(d);if(f||c>1&&"string"==typeof d&&!et.checkClone&&$t.test(d))return this.each(function(n){var i=u.eq(n);f&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(c&&(a=it.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(r=(o=it.map(m(a,"script"),b)).length;c>l;l++)i=a,l!==h&&(i=it.clone(i,!0,!0),r&&it.merge(o,m(i,"script"))),e.call(this[l],i,l);if(r)for(s=o[o.length-1].ownerDocument,it.map(o,w),l=0;r>l;l++)i=o[l],qt.test(i.type||"")&&!it._data(i,"globalEval")&&it.contains(s,i)&&(i.src?it._evalUrl&&it._evalUrl(i.src):it.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Vt,"")));a=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){it.fn[t]=function(t){for(var n,i=0,r=[],o=it(t),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),it(o[i])[e](n),K.apply(r,n.get());return this.pushStack(r)}});var Gt,Kt={};!function(){var t;et.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return(n=ft.getElementsByTagName("body")[0])&&n.style?(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==xt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ft.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var Qt,Zt,Jt=/^margin/,te=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),ee=/^(top|right|bottom|left)$/;t.getComputedStyle?(Qt=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},Zt=function(t,e,n){var i,r,o,s,a=t.style;return n=n||Qt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==s||it.contains(t.ownerDocument,t)||(s=it.style(t,e)),te.test(s)&&Jt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):ft.documentElement.currentStyle&&(Qt=function(t){return t.currentStyle},Zt=function(t,e,n){var i,r,o,s,a=t.style;return n=n||Qt(t),null==(s=n?n[e]:void 0)&&a&&a[e]&&(s=a[e]),te.test(s)&&!ee.test(e)&&(i=a.left,r=t.runtimeStyle,(o=r&&r.left)&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function e(){var e,n,i,r;(n=ft.getElementsByTagName("body")[0])&&n.style&&(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,s="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,r=e.appendChild(ft.createElement("div")),r.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=e.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===r[0].offsetHeight)&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,s,a,l;(n=ft.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(i=(r=n.getElementsByTagName("a")[0])&&r.style)&&(i.cssText="float:left;opacity:.5",et.opacity="0.5"===i.opacity,et.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",et.clearCloneStyle="content-box"===n.style.backgroundClip,et.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,it.extend(et,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==s&&e(),s},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),it.swap=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r};var ne=/alpha\([^)]*\)/i,ie=/opacity\s*=\s*([^)]*)/,re=/^(none|table(?!-c[ea]).+)/,oe=new RegExp("^("+St+")(.*)$","i"),se=new RegExp("^([+-])=("+St+")","i"),ae={position:"absolute",visibility:"hidden",display:"block"},le={letterSpacing:"0",fontWeight:"400"},ce=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Zt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:et.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=it.camelCase(e),l=t.style;if(e=it.cssProps[a]||(it.cssProps[a]=T(l,a)),s=it.cssHooks[e]||it.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];if("string"===(o=typeof n)&&(r=se.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(it.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||it.cssNumber[a]||(n+="px"),et.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var r,o,s,a=it.camelCase(e);return e=it.cssProps[a]||(it.cssProps[a]=T(t.style,a)),(s=it.cssHooks[e]||it.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=Zt(t,e,i)),"normal"===o&&e in le&&(o=le[e]),""===n||n?(r=parseFloat(o),!0===n||it.isNumeric(r)?r||0:o):o}}),it.each(["height","width"],function(t,e){it.cssHooks[e]={get:function(t,n,i){return n?re.test(it.css(t,"display"))&&0===t.offsetWidth?it.swap(t,ae,function(){return D(t,e,i)}):D(t,e,i):void 0},set:function(t,n,i){var r=i&&Qt(t);return M(0,n,i?N(t,e,i,et.boxSizing&&"border-box"===it.css(t,"boxSizing",!1,r),r):0)}}}),et.opacity||(it.cssHooks.opacity={get:function(t,e){return ie.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=it.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===it.trim(o.replace(ne,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=ne.test(o)?o.replace(ne,r):o+" "+r)}}),it.cssHooks.marginRight=E(et.reliableMarginRight,function(t,e){return e?it.swap(t,{display:"inline-block"},Zt,[t,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(t,e){it.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+kt[i]+e]=o[i]||o[i-2]||o[0];return r}},Jt.test(t)||(it.cssHooks[t+e].set=M)}),it.fn.extend({css:function(t,e){return Tt(this,function(t,e,n){var i,r,o={},s=0;if(it.isArray(e)){for(i=Qt(t),r=e.length;r>s;s++)o[e[s]]=it.css(t,e[s],!1,i);return o}return void 0!==n?it.style(t,e,n):it.css(t,e)},t,e,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Et(this)?it(this).show():it(this).hide()})}}),it.Tween=I,I.prototype={constructor:I,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(it.cssNumber[n]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,n=I.propHooks[this.prop];return this.pos=e=this.options.duration?it.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=it.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){it.fx.step[t.prop]?it.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[it.cssProps[t.prop]]||it.cssHooks[t.prop])?it.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},it.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},it.fx=I.prototype.init,it.fx.step={};var ue,he,de=/^(?:toggle|show|hide)$/,fe=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),pe=/queueHooks$/,ge=[function(t,e,n){var i,r,o,s,a,l,c,u=this,h={},d=t.style,f=t.nodeType&&Et(t),p=it._data(t,"fxshow");n.queue||(null==(a=it._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,it.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=it.css(t,"display"))?it._data(t,"olddisplay")||k(t.nodeName):c)&&"none"===it.css(t,"float")&&(et.inlineBlockNeedsLayout&&"inline"!==k(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",et.shrinkWrapBlocks()||u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],de.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}h[i]=p&&p[i]||it.style(t,i)}else c=void 0;if(it.isEmptyObject(h))"inline"===("none"===c?k(t.nodeName):c)&&(d.display=c);else{p?"hidden"in p&&(f=p.hidden):p=it._data(t,"fxshow",{}),o&&(p.hidden=!f),f?it(t).show():u.done(function(){it(t).hide()}),u.done(function(){var e;it._removeData(t,"fxshow");for(e in h)it.style(t,e,h[e])});for(i in h)s=O(f?p[i]:0,i,u),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}],me={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=fe.exec(e),o=r&&r[3]||(it.cssNumber[t]?"":"px"),s=(it.cssNumber[t]||"px"!==o&&+i)&&fe.exec(it.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do{a=a||".5",s/=a,it.style(n.elem,t,s+o)}while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};it.Animation=it.extend(H,{tweener:function(t,e){it.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],me[n]=me[n]||[],me[n].unshift(e)},prefilter:function(t,e){e?ge.unshift(t):ge.push(t)}}),it.speed=function(t,e,n){var i=t&&"object"==typeof t?it.extend({},t):{complete:n||!n&&e||it.isFunction(t)&&t,duration:t,easing:n&&e||e&&!it.isFunction(e)&&e};return i.duration=it.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in it.fx.speeds?it.fx.speeds[i.duration]:it.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){it.isFunction(i.old)&&i.old.call(this),i.queue&&it.dequeue(this,i.queue)},i},it.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Et).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=it.isEmptyObject(t),o=it.speed(e,n,i),s=function(){var e=H(this,it.extend({},t),o);(r||it._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=it.timers,s=it._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&pe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&it.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=it._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=it.timers,s=i?i.length:0;for(n.finish=!0,it.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(t,e){var n=it.fn[e];it.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(P(e,!0),t,i,r)}}),it.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){it.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),it.timers=[],it.fx.tick=function(){var t,e=it.timers,n=0;for(ue=it.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||it.fx.stop(),ue=void 0},it.fx.timer=function(t){it.timers.push(t),t()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){he||(he=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(he),he=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(t,e){return t=it.fx?it.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,r;(e=ft.createElement("div")).setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=e.getElementsByTagName("a")[0],r=(n=ft.createElement("select")).appendChild(ft.createElement("option")),t=e.getElementsByTagName("input")[0],i.style.cssText="top:1px",et.getSetAttribute="t"!==e.className,et.style=/top/.test(i.getAttribute("style")),et.hrefNormalized="/a"===i.getAttribute("href"),et.checkOn=!!t.value,et.optSelected=r.selected,et.enctype=!!ft.createElement("form").enctype,n.disabled=!0,et.optDisabled=!r.disabled,(t=ft.createElement("input")).setAttribute("value",""),et.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),et.radioValue="t"===t.value}();var ve=/\r/g;it.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=it.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,it(this).val()):t)?r="":"number"==typeof r?r+="":it.isArray(r)&&(r=it.map(r,function(t){return null==t?"":t+""})),(e=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=it.valHooks[r.type]||it.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ve,""):null==n?"":n:void 0}}),it.extend({valHooks:{option:{get:function(t){var e=it.find.attr(t,"value");return null!=e?e:it.trim(it.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(!(!(n=i[l]).selected&&l!==r||(et.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(e=it(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=it.makeArray(e),s=r.length;s--;)if(i=r[s],it.inArray(it.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(t,e){return it.isArray(e)?t.checked=it.inArray(it(t).val(),e)>=0:void 0}},et.checkOn||(it.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ye,be,we=it.expr.attrHandle,xe=/^(?:checked|selected)$/i,_e=et.getSetAttribute,Ce=et.input;it.fn.extend({attr:function(t,e){return Tt(this,it.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){it.removeAttr(this,t)})}}),it.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===xt?it.prop(t,e,n):(1===o&&it.isXMLDoc(t)||(e=e.toLowerCase(),i=it.attrHooks[e]||(it.expr.match.bool.test(e)?be:ye)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=it.find.attr(t,e))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void it.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(vt);if(o&&1===t.nodeType)for(;n=o[r++];)i=it.propFix[n]||n,it.expr.match.bool.test(n)?Ce&&_e||!xe.test(n)?t[i]=!1:t[it.camelCase("default-"+n)]=t[i]=!1:it.attr(t,n,""),t.removeAttribute(_e?n:i)},attrHooks:{type:{set:function(t,e){if(!et.radioValue&&"radio"===e&&it.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),be={set:function(t,e,n){return!1===e?it.removeAttr(t,n):Ce&&_e||!xe.test(n)?t.setAttribute(!_e&&it.propFix[n]||n,n):t[it.camelCase("default-"+n)]=t[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(t,e){var n=we[e]||it.find.attr;we[e]=Ce&&_e||!xe.test(e)?function(t,e,i){var r,o;return i||(o=we[e],we[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,we[e]=o),r}:function(t,e,n){return n?void 0:t[it.camelCase("default-"+e)]?e.toLowerCase():null}}),Ce&&_e||(it.attrHooks.value={set:function(t,e,n){return it.nodeName(t,"input")?void(t.defaultValue=e):ye&&ye.set(t,e,n)}}),_e||(ye={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},we.id=we.name=we.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},it.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:ye.set},it.attrHooks.contenteditable={set:function(t,e,n){ye.set(t,""!==e&&e,n)}},it.each(["width","height"],function(t,e){it.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),et.style||(it.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Se=/^(?:input|select|textarea|button|object)$/i,ke=/^(?:a|area)$/i;it.fn.extend({prop:function(t,e){return Tt(this,it.prop,t,e,arguments.length>1)},removeProp:function(t){return t=it.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),it.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!it.isXMLDoc(t))&&(e=it.propFix[e]||e,r=it.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=it.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||ke.test(t.nodeName)&&t.href?0:-1}}}}),et.hrefNormalized||it.each(["href","src"],function(t,e){it.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),et.optSelected||(it.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),et.enctype||(it.propFix.enctype="encoding");var Ee=/[\t\r\n\f]/g;it.fn.extend({addClass:function(t){var e,n,i,r,o,s,a=0,l=this.length,c="string"==typeof t&&t;if(it.isFunction(t))return this.each(function(e){it(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(vt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ee," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=it.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,r,o,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(it.isFunction(t))return this.each(function(e){it(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(vt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ee," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=t?it.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(it.isFunction(t)?function(n){it(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,r=it(this),o=t.match(vt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===xt||"boolean"===n)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||!1===t?"":it._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ee," ").indexOf(e)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){it.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),it.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Te=it.now(),Ae=/\?/,Me=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=it.trim(e+"");return r&&!it.trim(r.replace(Me,function(t,e,r,o){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!o-!r,"")}))?Function("return "+r)():it.error("Invalid JSON: "+e)},it.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(t){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+e),n};var Ne,De,Ie=/#.*$/,Le=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Re=/^(?:GET|HEAD)$/,He=/^\/\//,Fe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ze={},Be={},We="*/".concat("*");try{De=location.href}catch(t){(De=ft.createElement("a")).href="",De=De.href}Ne=Fe.exec(De.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:De,type:"GET",isLocal:Oe.test(Ne[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?B(B(t,it.ajaxSettings),e):B(it.ajaxSettings,t)},ajaxPrefilter:F(ze),ajaxTransport:F(Be),ajax:function(t,e){function n(t,e,n,i){var r,u,v,y,w,_=e;2!==b&&(b=2,a&&clearTimeout(a),c=void 0,s=i||"",x.readyState=t>0?4:0,r=t>=200&&300>t||304===t,n&&(y=W(h,x,n)),y=j(h,y,x,r),r?(h.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(it.lastModified[o]=w),(w=x.getResponseHeader("etag"))&&(it.etag[o]=w)),204===t||"HEAD"===h.type?_="nocontent":304===t?_="notmodified":(_=y.state,u=y.data,v=y.error,r=!v)):(v=_,(t||!_)&&(_="error",0>t&&(t=0))),x.status=t,x.statusText=(e||_)+"",r?p.resolveWith(d,[u,_,x]):p.rejectWith(d,[x,_,v]),x.statusCode(m),m=void 0,l&&f.trigger(r?"ajaxSuccess":"ajaxError",[x,h,r?u:v]),g.fireWith(d,[x,_]),l&&(f.trigger("ajaxComplete",[x,h]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,l,c,u,h=it.ajaxSetup({},e),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?it(d):it.event,p=it.Deferred(),g=it.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!u)for(u={};e=Pe.exec(s);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return c&&c.abort(e),n(0,e),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||De)+"").replace(Ie,"").replace(He,Ne[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=it.trim(h.dataType||"*").toLowerCase().match(vt)||[""],null==h.crossDomain&&(i=Fe.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===Ne[1]&&i[2]===Ne[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Ne[3]||("http:"===Ne[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=it.param(h.data,h.traditional)),z(ze,h,e,x),2===b)return x;(l=h.global)&&0==it.active++&&it.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Re.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(Ae.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Le.test(o)?o.replace(Le,"$1_="+Te++):o+(Ae.test(o)?"&":"?")+"_="+Te++)),h.ifModified&&(it.lastModified[o]&&x.setRequestHeader("If-Modified-Since",it.lastModified[o]),it.etag[o]&&x.setRequestHeader("If-None-Match",it.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+We+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)x.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(!1===h.beforeSend.call(d,x,h)||2===b))return x.abort();w="abort";for(r in{success:1,error:1,complete:1})x[r](h[r]);if(c=z(Be,h,e,x)){x.readyState=1,l&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,c.send(v,n)}catch(t){if(!(2>b))throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return it.get(t,e,n,"json")},getScript:function(t,e){return it.get(t,void 0,e,"script")}}),it.each(["get","post"],function(t,e){it[e]=function(t,n,i,r){return it.isFunction(n)&&(r=r||i,i=n,n=void 0),it.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){it.fn[e]=function(t){return this.on(e,t)}}),it._evalUrl=function(t){return it.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},it.fn.extend({wrapAll:function(t){if(it.isFunction(t))return this.each(function(e){it(this).wrapAll(t.call(this,e))});if(this[0]){var e=it(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(it.isFunction(t)?function(e){it(this).wrapInner(t.call(this,e))}:function(){var e=it(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=it.isFunction(t);return this.each(function(n){it(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!et.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||it.css(t,"display"))},it.expr.filters.visible=function(t){return!it.expr.filters.hidden(t)};var je=/%20/g,$e=/\[\]$/,qe=/\r?\n/g,Ue=/^(?:submit|button|image|reset|file)$/i,Ve=/^(?:input|select|textarea|keygen)/i;it.param=function(t,e){var n,i=[],r=function(t,e){e=it.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(t)||t.jquery&&!it.isPlainObject(t))it.each(t,function(){r(this.name,this.value)});else for(n in t)$(n,t[n],e,r);return i.join("&").replace(je,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=it.prop(this,"elements");return t?it.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!it(this).is(":disabled")&&Ve.test(this.nodeName)&&!Ue.test(t)&&(this.checked||!At.test(t))}).map(function(t,e){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(t){return{name:e.name,value:t.replace(qe,"\r\n")}}):{name:e.name,value:n.replace(qe,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||U()}:q;var Ye=0,Xe={},Ge=it.ajaxSettings.xhr();t.ActiveXObject&&it(t).on("unload",function(){for(var t in Xe)Xe[t](void 0,!0)}),et.cors=!!Ge&&"withCredentials"in Ge,(Ge=et.ajax=!!Ge)&&it.ajaxTransport(function(t){if(!t.crossDomain||et.cors){var e;return{send:function(n,i){var r,o=t.xhr(),s=++Ye;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(t.hasContent&&t.data||null),e=function(n,r){var a,l,c;if(e&&(r||4===o.readyState))if(delete Xe[s],e=void 0,o.onreadystatechange=it.noop,r)4!==o.readyState&&o.abort();else{c={},a=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(t){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&i(a,l,c,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Xe[s]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return it.globalEval(t),t}}}),it.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),it.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=ft.head||it("head")[0]||ft.documentElement;return{send:function(i,r){(e=ft.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var Ke=[],Qe=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||it.expando+"_"+Te++;return this[t]=!0,t}}),it.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(Qe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=it.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Qe,"$1"+r):!1!==e.jsonp&&(e.url+=(Ae.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||it.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Ke.push(r)),s&&it.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),it.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||ft;var i=ut.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=it.buildFragment([t],e,r),r&&r.length&&it(r).remove(),it.merge([],i.childNodes))};var Ze=it.fn.load;it.fn.load=function(t,e,n){if("string"!=typeof t&&Ze)return Ze.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>=0&&(i=it.trim(t.slice(a,t.length)),t=t.slice(0,a)),it.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&it.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?it("<div>").append(it.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},it.expr.filters.animated=function(t){return it.grep(it.timers,function(e){return t===e.elem}).length};var Je=t.document.documentElement;it.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=it.css(t,"position"),u=it(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=it.css(t,"top"),l=it.css(t,"left"),("absolute"===c||"fixed"===c)&&it.inArray("auto",[o,l])>-1?(i=u.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),it.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):u.css(h)}},it.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){it.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,it.contains(e,r)?(typeof r.getBoundingClientRect!==xt&&(i=r.getBoundingClientRect()),n=V(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===it.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),it.nodeName(t[0],"html")||(n=t.offset()),n.top+=it.css(t[0],"borderTopWidth",!0),n.left+=it.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-it.css(i,"marginTop",!0),left:e.left-n.left-it.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Je;t&&!it.nodeName(t,"html")&&"static"===it.css(t,"position");)t=t.offsetParent;return t||Je})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);it.fn[t]=function(i){return Tt(this,function(t,i,r){var o=V(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[i]:t[i]:void(o?o.scrollTo(n?it(o).scrollLeft():r,n?r:it(o).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),it.each(["top","left"],function(t,e){it.cssHooks[e]=E(et.pixelPosition,function(t,n){return n?(n=Zt(t,e),te.test(n)?it(t).position()[e]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(t,e){it.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){it.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return Tt(this,function(e,n,i){var r;return it.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?it.css(e,n,s):it.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var tn=t.jQuery,en=t.$;return it.noConflict=function(e){return t.$===it&&(t.$=en),e&&t.jQuery===it&&(t.jQuery=tn),it},typeof e===xt&&(t.jQuery=t.$=it),it}),window.Modernizr=function(t,e,n){function i(t){g.cssText=t}function r(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var i in t){var r=t[i];if(!o(r,"-")&&g[r]!==n)return"pfx"!=e||r}return!1}function a(t,e,i){for(var o in t){var s=e[t[o]];if(s!==n)return!1===i?t[o]:r(s,"function")?s.bind(i||e):s}return!1}function l(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+y.join(i+" ")+i).split(" ");return r(e,"string")||r(e,"undefined")?s(o,e):(o=(t+" "+b.join(i+" ")+i).split(" "),a(o,e,n))}var c,u,h={},d=e.documentElement,f="modernizr",p=e.createElement(f),g=p.style,m=" -webkit- -moz- -o- -ms- ".split(" "),v="Webkit Moz O ms",y=v.split(" "),b=v.toLowerCase().split(" "),w={},x=[],_=x.slice,C=function(t,n,i,r){var o,s,a,l,c=e.createElement("div"),u=e.body,h=u||e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=r?r[i]:f+(i+1),c.appendChild(a);return o=["&#173;",'<style id="s',f,'">',t,"</style>"].join(""),c.id=f,(u?c:h).innerHTML+=o,h.appendChild(c),u||(h.style.background="",h.style.overflow="hidden",l=d.style.overflow,d.style.overflow="hidden",d.appendChild(h)),s=n(c,t),u?c.parentNode.removeChild(c):(h.parentNode.removeChild(h),d.style.overflow=l),!!s},S={}.hasOwnProperty;u=r(S,"undefined")||r(S.call,"undefined")?function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")}:function(t,e){return S.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=_.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,s=e.apply(o,n.concat(_.call(arguments)));return Object(s)===s?s:o}return e.apply(t,n.concat(_.call(arguments)))};return i}),w.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:C(["@media (",m.join("touch-enabled),("),f,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},w.csstransforms3d=function(){var t=!!l("perspective");return t&&"webkitPerspective"in d.style&&C("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight}),t},w.csstransitions=function(){return l("transition")};for(var k in w)u(w,k)&&(c=k.toLowerCase(),h[c]=w[k](),x.push((h[c]?"":"no-")+c));return h.addTest=function(t,e){if("object"==typeof t)for(var i in t)u(t,i)&&h.addTest(i,t[i]);else{if(t=t.toLowerCase(),h[t]!==n)return h;e="function"==typeof e?e():e,d.className+=" "+(e?"":"no-")+t,h[t]=e}return h},i(""),p=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=m.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=g[t[f]];return e||(e={},p++,t[f]=p,g[p]=e),e}function o(t,n,i){if(n||(n=e),c)return n.createElement(t);i||(i=r(n));var o;return!(o=i.cache[t]?i.cache[t].cloneNode():d.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t)).canHaveChildren||h.test(t)||o.tagUrn?o:i.frag.appendChild(o)}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return m.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(m,e.frag)}function a(t){t||(t=e);var i=r(t);return m.shivCSS&&!l&&!i.hasCSS&&(i.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||s(t,i),t}var l,c,u=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",p=0,g={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",l="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){l=!0,c=!0}}();var m={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==u.shivCSS,supportsUnknownElements:c,shivMethods:!1!==u.shivMethods,type:"default",shivDocument:a,createElement:o,createDocumentFragment:function(t,n){if(t||(t=e),c)return t.createDocumentFragment();for(var o=(n=n||r(t)).frag.cloneNode(),s=0,a=i(),l=a.length;s<l;s++)o.createElement(a[s]);return o}};t.html5=m,a(e)}(this,e),h._version="2.8.3",h._prefixes=m,h._domPrefixes=b,h._cssomPrefixes=y,h.testProp=function(t){return s([t])},h.testAllProps=l,h.testStyles=C,h.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+x.join(" "),h}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==m.call(t)}function r(t){return"string"==typeof t}function o(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();y=1,t?t.t?p(function(){("c"==t.t?d.injectCss:d.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):y=0}function l(t,n,i,r,o,l,c){function u(e){if(!f&&s(h.readyState)&&(b.r=f=1,!y&&a(),h.onload=h.onreadystatechange=null,e)){"img"!=t&&p(function(){x.removeChild(h)},50);for(var i in E[n])E[n].hasOwnProperty(i)&&E[n][i].onload()}}var c=c||d.errorTimeout,h=e.createElement(t),f=0,m=0,b={t:i,s:n,e:o,a:l,x:c};1===E[n]&&(m=1,E[n]=[]),"object"==t?h.data=n:(h.src=n,h.type=t),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){u.call(this,m)},v.splice(r,0,b),"img"!=t&&(m||2===E[n]?(x.insertBefore(h,w?null:g),p(u,c)):E[n].push(h))}function c(t,e,n,i,o){return y=0,e=e||"j",r(t)?l("c"==e?C:_,t,e,this.i++,n,i,o):(v.splice(this.i++,0,t),1==v.length&&a()),this}function u(){var t=d;return t.loader={load:c,i:0},t}var h,d,f=e.documentElement,p=t.setTimeout,g=e.getElementsByTagName("script")[0],m={}.toString,v=[],y=0,b="MozAppearance"in f.style,w=b&&!!e.createRange().compareNode,x=w?f:g.parentNode,f=t.opera&&"[object Opera]"==m.call(t.opera),f=!!e.attachEvent&&!f,_=b?"object":f?"script":"img",C=f?"script":_,S=Array.isArray||function(t){return"[object Array]"==m.call(t)},k=[],E={},T={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};(d=function(t){function e(t){var e,n,i,t=t.split("!"),r=k.length,o=t.pop(),s=t.length,o={url:o,origUrl:o,prefixes:t};for(n=0;n<s;n++)i=t[n].split("="),(e=T[i.shift()])&&(o=e(o,i));for(n=0;n<r;n++)o=k[n](o);return o}function s(t,r,o,s,a){var l=e(t),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=i(r)?r:r[t]||r[s]||r[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,r,o,s,a):(E[l.url]?l.noexec=!0:E[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(r)||i(c))&&o.load(function(){u(),r&&r(l.origUrl,a,s),c&&c(l.origUrl,a,s),E[l.url]=2})))}function a(t,e){function n(t,n){if(t){if(r(t))n||(h=function(){var t=[].slice.call(arguments);d.apply(this,t),f()}),s(t,h,e,0,c);else if(Object(t)===t)for(l in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!n&&!--a&&(i(h)?h=function(){var t=[].slice.call(arguments);d.apply(this,t),f()}:h[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),f()}}(d[l])),s(t[l],h,e,l,c))}else!n&&f()}var a,l,c=!!t.test,u=t.load||t.both,h=t.callback||o,d=h,f=t.complete||o;n(c?t.yep:t.nope,!!u),u&&n(u)}var l,c,h=this.yepnope.loader;if(r(t))s(t,0,h,0);else if(S(t))for(l=0;l<t.length;l++)c=t[l],r(c)?s(c,0,h,0):S(c)?d(c):Object(c)===c&&a(c,h);else Object(t)===t&&a(t,h)}).addPrefix=function(t,e){T[t]=e},d.addFilter=function(t){k.push(t)},d.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",h=function(){e.removeEventListener("DOMContentLoaded",h,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,i,r,l,c){var u,h,f=e.createElement("script"),r=r||d.errorTimeout;f.src=t;for(h in i)f.setAttribute(h,i[h]);n=c?a:n||o,f.onreadystatechange=f.onload=function(){!u&&s(f.readyState)&&(u=1,n(),f.onload=f.onreadystatechange=null)},p(function(){u||(u=1,n(1))},r),l?f.onload():g.parentNode.insertBefore(f,g)},t.yepnope.injectCss=function(t,n,i,r,s,l){var c,r=e.createElement("link"),n=l?a:n||o;r.href=t,r.rel="stylesheet",r.type="text/css";for(c in i)r.setAttribute(c,i[c]);s||(g.parentNode.insertBefore(r,g),p(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(s=t("img[usemap='#"+o+"']")[0])&&n(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var i=0,r=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,l={},c=e.split(".")[0];return e=e.split(".")[1],r=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},o=t[c][e],s=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),s=0,a=o.length;a>s;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return o=!s&&a.length?t.widget.extend.apply(null,[o].concat(a)):o,s?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(l=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a))!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):n.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget;var o=!1;t(document).mouseup(function(){o=!1}),t.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):e.which?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,n){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var r,o,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,f=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=t.extend({},r);var f,g,m,v,y,b,w=t(r.of),x=t.position.getWithinInfo(r.within),_=t.position.getScrollInfo(x),C=(r.collision||"flip").split(" "),S={};return b=i(w),w[0].preventDefault&&(r.at="left top"),g=b.width,m=b.height,v=b.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",t=h.exec(n[0]),e=h.exec(n[1]),S[this]=[t?t[0]:0,e?e[0]:0],r[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===r.at[0]?y.left+=g:"center"===r.at[0]&&(y.left+=g/2),"bottom"===r.at[1]?y.top+=m:"center"===r.at[1]&&(y.top+=m/2),f=e(S.at,g,m),y.left+=f[0],y.top+=f[1],this.each(function(){var i,c,u=t(this),h=u.outerWidth(),d=u.outerHeight(),p=n(this,"marginLeft"),b=n(this,"marginTop"),k=h+p+n(this,"marginRight")+_.width,E=d+b+n(this,"marginBottom")+_.height,T=t.extend({},y),A=e(S.my,u.outerWidth(),u.outerHeight());"right"===r.my[0]?T.left-=h:"center"===r.my[0]&&(T.left-=h/2),"bottom"===r.my[1]?T.top-=d:"center"===r.my[1]&&(T.top-=d/2),T.left+=A[0],T.top+=A[1],o||(T.left=l(T.left),T.top=l(T.top)),i={marginLeft:p,marginTop:b},t.each(["left","top"],function(e,n){t.ui.position[C[e]]&&t.ui.position[C[e]][n](T,{targetWidth:g,targetHeight:m,elemWidth:h,elemHeight:d,collisionPosition:i,collisionWidth:k,collisionHeight:E,offset:[f[0]+A[0],f[1]+A[1]],my:r.my,at:r.at,within:x,elem:u})}),r.using&&(c=function(t){var e=v.left-T.left,n=e+g-h,i=v.top-T.top,o=i+m-d,l={target:{element:w,left:v.left,top:v.top,width:g,height:m},element:{element:u,left:T.left,top:T.top,width:h,height:d},horizontal:0>n?"left":e>0?"right":"center",vertical:0>o?"top":i>0?"bottom":"middle"};h>g&&g>a(e+n)&&(l.horizontal="center"),d>m&&m>a(i+o)&&(l.vertical="middle"),l.important=s(a(e),a(n))>s(a(i),a(o))?"horizontal":"vertical",r.using.call(this,t,l)}),u.offset(t.extend(T,{using:c}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,c=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&0>=c?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):t.left=c>0&&0>=l?r:l>c?r+o-e.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=s(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,c=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&0>=c?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):t.top=c>0&&0>=l?r:l>c?r+o-e.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-s-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>u?(0>(n=t.left+d+f+p+e.collisionWidth-s-o)||a(u)>n)&&(t.left+=d+f+p):h>0&&((i=t.left-e.collisionPosition.marginLeft+d+f+p-l)>0||h>a(i))&&(t.left+=d+f+p)},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-s-l,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];0>u?(i=t.top+d+f+p+e.collisionHeight-s-o,t.top+d+f+p>u&&(0>i||a(u)>i)&&(t.top+=d+f+p)):h>0&&(n=t.top-e.collisionPosition.marginTop+d+f+p-l,t.top+d+f+p>h&&(n>0||h>a(n))&&(t.top+=d+f+p))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,r,s,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in i)e.style[s]=i[s];e.appendChild(l),(n=a||document.documentElement).insertBefore(e,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=t(l).offset().left,o=r>10&&11>r,e.innerHTML="",n.removeChild(e)}()}(),t.ui.position,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.document[0],i=this.options;try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(t){}return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),void((i=n[0])&&(e="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=i.options,o=t.extend({},n,{item:i.element});i.sortables=[],t(r.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});t.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,n,i){var r=this;t.each(i.sortables,function(){var o=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,c,u,h,d,f,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)l=i.snapElements[d].left,c=l+i.snapElements[d].width,u=i.snapElements[d].top,h=u+i.snapElements[d].height,l-g>v||m>c+g||u-g>b||y>h+g||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(r=g>=Math.abs(u-b),o=g>=Math.abs(h-y),s=g>=Math.abs(l-v),a=g>=Math.abs(c-m),r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top-i.margins.top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top-i.margins.top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left-i.margins.left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left-i.margins.left)),f=r||o||s||a,"outer"!==p.snapMode&&(r=g>=Math.abs(u-y),o=g>=Math.abs(h-b),s=g>=Math.abs(l-m),a=g>=Math.abs(c-v),r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top-i.margins.top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top-i.margins.top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left-i.margins.left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left-i.margins.left)),!i.snapElements[d].snapping&&(r||o||s||a||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||o||s||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left,s=(e.positionAbs||e.position.absolute).top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,c=n.offset.left,u=n.offset.top,h=c+n.proportions().width,d=u+n.proportions().height;switch(i){case"fit":return o>=c&&h>=a&&s>=u&&d>=l;case"intersect":return o+e.helperProportions.width/2>c&&h>a-e.helperProportions.width/2&&s+e.helperProportions.height/2>u&&d>l-e.helperProportions.height/2;case"pointer":return t(r.pageY,u,n.proportions().height)&&t(r.pageX,c,n.proportions().width);case"touch":return(s>=u&&d>=s||l>=u&&d>=l||u>s&&l>d)&&(o>=c&&h>=o||a>=c&&h>=a||c>o&&a>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;a.length>r;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=t.ui.intersect(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n,i,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;e.length>n;n++)i=t.trim(e[n]),o="ui-resizable-"+i,(r=t("<div class='ui-resizable-handle "+o+"'></div>")).css({zIndex:a.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),t(this.handles[n]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(r[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof t?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,h={top:0,left:0},d=s.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,f=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,f=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,f=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio,f=!1)),f||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?n(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],n(e.alsoResize)):t.each(e.alsoResize,function(t){n(t)})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},l=function(e,i){t(e).each(function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),o={},s=i&&i.length?i:e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var n=(r[e]||0)+(a[e]||0);n&&n>=0&&(o[e]=n||null)}),e.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):t.each(r.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,h=Math.round((r.width-o.width)/c)*c,d=Math.round((r.height-o.height)/u)*u,f=o.width+h,p=o.height+d,g=i.maxWidth&&f>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,v=i.minWidth&&i.minWidth>f,y=i.minHeight&&i.minHeight>p;i.grid=l,v&&(f+=c),y&&(p+=u),g&&(f-=c),m&&(p-=u),/^(se|s|e)$/.test(a)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.left=s.left-h):((0>=p-u||0>=f-c)&&(e=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=s.top-d):(p=u-e.height,n.size.height=p,n.position.top=s.top+o.height-p),f-c>0?(n.size.width=f,n.position.left=s.left-h):(f=u-e.height,n.size.width=f,n.position.left=s.left+o.width-f))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=t(n.options.filter,n.element[0])).addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");return r?(i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?c=!(n.left>a||o>n.right||n.top>l||s>n.bottom):"fit"===r.tolerance&&(c=n.left>o&&a>n.right&&n.top>s&&l>n.bottom),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&l>i+c,d="y"===this.options.axis||e+u>o&&s>e+u,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,s=[],a=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(r=t(l[n]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(function(){s.push(this)});return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=t(d[n]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,c=a.length;c>i;i++)(l=t(a[i])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var n,i,r,o,s,a,l,c,u,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,s=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",h=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,e[h]-l>this.items[i][a]/2&&(c=!0),r>Math.abs(e[h]-l)&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.getBoundingClientRect(),n={};for(var i in e)n[i]=e[i];if(t.ownerDocument!==document){var o=t.ownerDocument.defaultView.frameElement;if(o){var s=r(o);n.top+=s.top,n.bottom+=s.top,n.left+=s.left,n.right+=s.left}}return n}function o(t){var e=(getComputedStyle(t)||{}).position,n=[];if("fixed"===e)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var r=void 0;try{r=getComputedStyle(i)}catch(t){}if(void 0===r||null===r)return n.push(i),n;var o=r,s=o.overflow,a=o.overflowX,l=o.overflowY;/(auto|scroll)/.test(s+l+a)&&("absolute"!==e||["relative","absolute","fixed"].indexOf(r.position)>=0)&&n.push(i)}return n.push(t.ownerDocument.body),t.ownerDocument!==document&&n.push(t.ownerDocument.defaultView),n}function s(){k&&document.body.removeChild(k),k=null}function a(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i=r(t),o=A();return i.top-=o.top,i.left-=o.left,void 0===i.width&&(i.width=document.body.scrollWidth-i.left-i.right),void 0===i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function l(t){return t.offsetParent||document.documentElement}function c(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");u(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return{width:r,height:r}}function u(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function h(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=p(t).replace(n," ");g(t,i)}}function d(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{h(t,e);var n=p(t)+" "+e;g(t,n)}}function f(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=p(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function p(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function g(t,e){t.setAttribute("class",e)}function m(t,e,n){n.forEach(function(n){-1===e.indexOf(n)&&f(t,n)&&h(t,n)}),e.forEach(function(e){f(t,e)||d(t,e)})}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function b(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function w(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];return n.forEach(function(e){var n=e.top,i=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),t.top+=n,t.left+=i}),t}function x(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function _(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,n=a(e),i=n,r=getComputedStyle(e);if(e=[i.left,i.top,n.width+i.left,n.height+i.top],t.ownerDocument!==document){var o=t.ownerDocument.defaultView;e[0]+=o.pageXOffset,e[1]+=o.pageYOffset,e[2]+=o.pageXOffset,e[3]+=o.pageYOffset}X.forEach(function(t,n){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?e[n]+=parseFloat(r["border"+t+"Width"]):e[n]-=parseFloat(r["border"+t+"Width"])})}(),e}var C=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),S=void 0;void 0===S&&(S={modules:[]});var k=null,E=function(){var t=0;return function(){return++t}}(),T={},A=function(){var t=k;t||((t=document.createElement("div")).setAttribute("data-tether-id",E()),u(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),k=t);var e=t.getAttribute("data-tether-id");return void 0===T[e]&&(T[e]=r(t),N(function(){delete T[e]})),T[e]},M=[],N=function(t){M.push(t)},D=function(){for(var t=void 0;t=M.pop();)t()},I=function(){function t(){i(this,t)}return C(t,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],s=o.handler,a=o.ctx,l=o.once,c=a;void 0===c&&(c=this),s.apply(c,i),l?this.bindings[t].splice(e,1):++e}}}}]),t}();S.Utils={getActualBoundingClientRect:r,getScrollParents:o,getBounds:a,getOffsetParent:l,extend:u,addClass:d,removeClass:h,hasClass:f,updateClasses:m,defer:N,flush:D,uniqueId:E,Evented:I,getScrollBarSize:c,removeUtilElements:s};var L=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),P=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=s,i=!0,a=c=void 0}};if(void 0===S)throw new Error("You must include the utils.js file before tether.js");var O=S.Utils,o=O.getScrollParents,a=O.getBounds,l=O.getOffsetParent,u=O.extend,d=O.addClass,h=O.removeClass,m=O.updateClasses,N=O.defer,D=O.flush,c=O.getScrollBarSize,s=O.removeUtilElements,R=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),H=[],F=function(){H.forEach(function(t){t.position(!1)}),D()};!function(){var t=null,e=null,n=null,i=function i(){return void 0!==e&&e>16?(e=Math.min(e-16,250),void(n=setTimeout(i,250))):void(void 0!==t&&b()-t<10||(null!=n&&(clearTimeout(n),n=null),t=b(),F(),e=b()-t))};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,i)})}();var z={center:"center",left:"right",right:"left"},B={middle:"middle",top:"bottom",bottom:"top"},W={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},j=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=z[e.left]),"auto"===i&&(i=B[e.top]),{left:n,top:i}},$=function(t){var e=t.left,n=t.top;return void 0!==W[t.left]&&(e=W[t.left]),void 0!==W[t.top]&&(n=W[t.top]),{left:e,top:n}},q=function(t){var e=t.split(" "),n=L(e,2);return{top:n[0],left:n[1]}},U=q,V=function(t){function e(t){var n=this;i(this,e),P(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),H.push(this),this.history=[],this.setOptions(t,!1),S.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(n)}),this.position()}return v(e,I),C(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=u(i,t);var r=this.options,s=r.element,a=r.target,l=r.targetModifier;if(this.element=s,this.target=a,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),d(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&d(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=U(this.options.targetAttachment),this.attachment=U(this.options.attachment),this.offset=q(this.options.offset),this.targetOffset=q(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return a(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((o={height:(t=a(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(o.height,t.height-(pageYOffset-t.top)),o.height=Math.min(o.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),o.height=Math.min(innerHeight,o.height),o.height-=2,o.width=Math.min(o.width,t.width-(pageXOffset-t.left)),o.width=Math.min(o.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),o.width=Math.min(innerWidth,o.width),o.width-=2,o.top<pageYOffset&&(o.top=pageYOffset),o.left<pageXOffset&&(o.left=pageXOffset),o);if("scroll-handle"===this.targetModifier){var t=void 0,e=this.target;e===document.body?(e=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=a(e);var n=getComputedStyle(e),i=0;(e.scrollWidth>e.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(i=15);var r=t.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-i,o={width:15,height:.975*r*(r/e.scrollHeight),left:t.left+t.width-parseFloat(n.borderLeftWidth)-15},s=0;408>r&&this.target===document.body&&(s=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(o.height=Math.max(o.height,24));var l=this.target.scrollTop/(e.scrollHeight-r);return o.top=l*(r-o.height-s)+t.top+parseFloat(n.borderTopWidth),this.target===document.body&&(o.height=Math.max(o.height,24)),o}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),H.forEach(function(e,n){e===t&&H.splice(n,1)}),0===H.length&&s()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;t.top&&r.push(this.getClass("element-attached")+"-"+t.top),t.left&&r.push(this.getClass("element-attached")+"-"+t.left),e.top&&r.push(this.getClass("target-attached")+"-"+e.top),e.left&&r.push(this.getClass("target-attached")+"-"+e.left);var o=[];i.forEach(function(t){o.push(n.getClass("element-attached")+"-"+t),o.push(n.getClass("target-attached")+"-"+t)}),N(function(){void 0!==n._addAttachClasses&&(m(n.element,n._addAttachClasses,o),!1!==n.options.addTargetClasses&&m(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=j(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",function(){return a(t.element)}),r=i.width,o=i.height;if(0===r&&0===o&&void 0!==this.lastSize){var s=this.lastSize;r=s.width,o=s.height}else this.lastSize={width:r,height:o};var u=this.cache("target-bounds",function(){return t.getTargetBounds()}),h=u,d=x($(this.attachment),{width:r,height:o}),f=x($(n),h),p=x(this.offset,{width:r,height:o}),g=x(this.targetOffset,h);d=w(d,p),f=w(f,g);for(var m=u.left+f.left-d.left,v=u.top+f.top-d.top,y=0;y<S.modules.length;++y){var b=S.modules[y].position.call(this,{left:m,top:v,targetAttachment:n,targetPos:u,elementPos:i,offset:d,targetOffset:f,manualOffset:p,manualTargetOffset:g,scrollbarSize:E,attachment:this.attachment});if(!1===b)return!1;void 0!==b&&"object"==typeof b&&(v=b.top,m=b.left)}var _={page:{top:v,left:m},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-o+innerHeight,left:m-pageXOffset,right:pageXOffset-m-r+innerWidth}},C=this.target.ownerDocument,k=C.defaultView,E=void 0;return C.body.scrollWidth>k.innerWidth&&(E=this.cache("scrollbar-size",c),_.viewport.bottom-=E.height),C.body.scrollHeight>k.innerHeight&&(E=this.cache("scrollbar-size",c),_.viewport.right-=E.width),(-1===["","static"].indexOf(C.body.style.position)||-1===["","static"].indexOf(C.body.parentElement.style.position))&&(_.page.bottom=C.body.scrollHeight-v-o,_.page.right=C.body.scrollWidth-m-r),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return l(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return a(e)}),i=getComputedStyle(e),r=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])}),n.right=C.body.scrollWidth-n.left-r.width+o.right,n.bottom=C.body.scrollHeight-n.top-r.height+o.bottom,_.page.top>=n.top+o.top&&_.page.bottom>=n.bottom&&_.page.left>=n.left+o.left&&_.page.right>=n.right){var s=e.scrollTop,c=e.scrollLeft;_.offset={top:_.page.top-n.top+s-o.top,left:_.page.left-n.left+c-o.left}}}(),this.move(_),this.history.unshift(_),this.history.length>3&&this.history.pop(),e&&D(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var n={};for(var i in t){n[i]={};for(var r in t[i]){for(var o=!1,s=0;s<this.history.length;++s){var a=this.history[s];if(void 0!==a[i]&&!y(a[i][r],t[i][r])){o=!0;break}}o||(n[i][r]=!0)}}var c={top:"",left:"",right:"",bottom:""},h=function(t,n){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var i=void 0,r=void 0;t.top?(c.top=0,i=n.top):(c.bottom=0,i=-n.bottom),t.left?(c.left=0,r=n.left):(c.right=0,r=-n.right),c[R]="translateX("+Math.round(r)+"px) translateY("+Math.round(i)+"px)","msTransform"!==R&&(c[R]+=" translateZ(0)")}else t.top?c.top=n.top+"px":c.bottom=n.bottom+"px",t.left?c.left=n.left+"px":c.right=n.right+"px"},d=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(c.position="absolute",h(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(c.position="fixed",h(n.viewport,t.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){c.position="absolute";var i=e.cache("target-offsetparent",function(){return l(e.target)});l(e.element)!==i&&N(function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)}),h(n.offset,t.offset),d=!0}():(c.position="absolute",h({top:!0,left:!0},t.page)),!d){for(var f=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){f=!1;break}p=p.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},m=!1;for(var r in c){var v=c[r];this.element.style[r]!==v&&(m=!0,g[r]=v)}m&&N(function(){u(e.element.style,g)})}}}]),e}();V.modules=[],S.position=F;var Y=u(V,S),L=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=(O=S.Utils).getBounds,u=O.extend,m=O.updateClasses,N=O.defer,X=["left","top","right","bottom"];S.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=t.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return a(e.element)}),s=o.height,l=o.width;if(0===l&&0===s&&void 0!==this.lastSize){var c=this.lastSize;l=c.width,s=c.height}var h=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=h.height,f=h.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&p.push(e),n&&p.push(n)}),p.forEach(function(t){["left","top","right","bottom"].forEach(function(e){p.push(t+"-"+e)})});var g=[],v=u({},r),y=u({},this.attachment);return this.options.constraints.forEach(function(t){var o=t.to,a=t.attachment,c=t.pin;void 0===a&&(a="");var u=void 0,h=void 0;if(a.indexOf(" ")>=0){var p=a.split(" "),m=L(p,2);h=m[0],u=m[1]}else u=h=a;var b=_(e,o);("target"===h||"both"===h)&&(n<b[1]&&"top"===v.top&&(n+=d,v.top="bottom"),n+s>b[3]&&"bottom"===v.top&&(n-=d,v.top="top")),"together"===h&&("top"===v.top&&("bottom"===y.top&&n<b[1]?(n+=d,v.top="bottom",n+=s,y.top="top"):"top"===y.top&&n+s>b[3]&&n-(s-d)>=b[1]&&(n-=s-d,v.top="bottom",y.top="bottom")),"bottom"===v.top&&("top"===y.top&&n+s>b[3]?(n-=d,v.top="top",n-=s,y.top="bottom"):"bottom"===y.top&&n<b[1]&&n+(2*s-d)<=b[3]&&(n+=s-d,v.top="top",y.top="top")),"middle"===v.top&&(n+s>b[3]&&"top"===y.top?(n-=s,y.top="bottom"):n<b[1]&&"bottom"===y.top&&(n+=s,y.top="top"))),("target"===u||"both"===u)&&(i<b[0]&&"left"===v.left&&(i+=f,v.left="right"),i+l>b[2]&&"right"===v.left&&(i-=f,v.left="left")),"together"===u&&(i<b[0]&&"left"===v.left?"right"===y.left?(i+=f,v.left="right",i+=l,y.left="left"):"left"===y.left&&(i+=f,v.left="right",i-=l,y.left="right"):i+l>b[2]&&"right"===v.left?"left"===y.left?(i-=f,v.left="left",i-=l,y.left="right"):"right"===y.left&&(i-=f,v.left="left",i+=l,y.left="left"):"center"===v.left&&(i+l>b[2]&&"left"===y.left?(i-=l,y.left="right"):i<b[0]&&"right"===y.left&&(i+=l,y.left="left"))),("element"===h||"both"===h)&&(n<b[1]&&"bottom"===y.top&&(n+=s,y.top="top"),n+s>b[3]&&"top"===y.top&&(n-=s,y.top="bottom")),("element"===u||"both"===u)&&(i<b[0]&&("right"===y.left?(i+=l,y.left="left"):"center"===y.left&&(i+=l/2,y.left="left")),i+l>b[2]&&("left"===y.left?(i-=l,y.left="right"):"center"===y.left&&(i-=l/2,y.left="right"))),"string"==typeof c?c=c.split(",").map(function(t){return t.trim()}):!0===c&&(c=["top","left","right","bottom"]),c=c||[];var w=[],x=[];n<b[1]&&(c.indexOf("top")>=0?(n=b[1],w.push("top")):x.push("top")),n+s>b[3]&&(c.indexOf("bottom")>=0?(n=b[3]-s,w.push("bottom")):x.push("bottom")),i<b[0]&&(c.indexOf("left")>=0?(i=b[0],w.push("left")):x.push("left")),i+l>b[2]&&(c.indexOf("right")>=0?(i=b[2]-l,w.push("right")):x.push("right")),w.length&&function(){var t=void 0;t=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),g.push(t),w.forEach(function(e){g.push(t+"-"+e)})}(),x.length&&function(){var t=void 0;t=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),g.push(t),x.forEach(function(e){g.push(t+"-"+e)})}(),(w.indexOf("left")>=0||w.indexOf("right")>=0)&&(y.left=v.left=!1),(w.indexOf("top")>=0||w.indexOf("bottom")>=0)&&(y.top=v.top=!1),(v.top!==r.top||v.left!==r.left||y.top!==e.attachment.top||y.left!==e.attachment.left)&&(e.updateAttachClasses(y,v),e.trigger("update",{attachment:y,targetAttachment:v}))}),N(function(){!1!==e.options.addTargetClasses&&m(e.target,g,p),m(e.element,g,p)}),{top:n,left:i}}});var a=(O=S.Utils).getBounds,m=O.updateClasses,N=O.defer;S.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=this.cache("element-bounds",function(){return a(e.element)}),o=r.height,s=r.width,l=this.getTargetBounds(),c=n+o,u=i+s,h=[];n<=l.bottom&&c>=l.top&&["left","right"].forEach(function(t){var e=l[t];(e===i||e===u)&&h.push(t)}),i<=l.right&&u>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];(e===n||e===c)&&h.push(t)});var d=[],f=[],p=["left","top","right","bottom"];return d.push(this.getClass("abutted")),p.forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),h.length&&f.push(this.getClass("abutted")),h.forEach(function(t){f.push(e.getClass("abutted")+"-"+t)}),N(function(){!1!==e.options.addTargetClasses&&m(e.target,f,d),m(e.element,f,d)}),!0}});L=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return S.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,o=void 0;if("string"==typeof i){(i=i.split(" "))[1]=i[1]||i[0];var s=L(i,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return e+=r,n+=o,{top:e,left:n}}}}),Y}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");+function(t){var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),function(){function t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(t){return(t[0]||t).nodeType}function i(){return{bindType:s.end,delegateType:s.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function r(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in a)if(void 0!==t.style[e])return{end:a[e]};return!1}function o(e){var n=this,i=!1;return t(this).one(l.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||l.triggerTransitionEnd(n)},e),this}var s=!1,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(s.end)},supportsTransitionEnd:function(){return Boolean(s)},typeCheckConfig:function(t,i,r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o],a=i[o],l=a&&n(a)?"element":e(a);if(!new RegExp(s).test(l))throw new Error(t.toUpperCase()+': Option "'+o+'" provided type "'+l+'" but expected type "'+s+'".')}}};return s=r(),t.fn.emulateTransitionEnd=o,l.supportsTransitionEnd()&&(t.event.special[l.TRANSITION_END]=i()),l}(jQuery),s=(function(t){var e="alert",i="bs.alert",s="."+i,a=t.fn[e],l={DISMISS:'[data-dismiss="alert"]'},c={CLOSE:"close"+s,CLOSED:"closed"+s,CLICK_DATA_API:"click"+s+".data-api"},u={ALERT:"alert",FADE:"fade",SHOW:"show"},h=function(){function e(t){n(this,e),this._element=t}return e.prototype.close=function(t){t=t||this._element;var e=this._getRootElement(t);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.prototype.dispose=function(){t.removeData(this._element,i),this._element=null},e.prototype._getRootElement=function(e){var n=o.getSelectorFromElement(e),i=!1;return n&&(i=t(n)[0]),i||(i=t(e).closest("."+u.ALERT)[0]),i},e.prototype._triggerCloseEvent=function(e){var n=t.Event(c.CLOSE);return t(e).trigger(n),n},e.prototype._removeElement=function(e){var n=this;return t(e).removeClass(u.SHOW),o.supportsTransitionEnd()&&t(e).hasClass(u.FADE)?void t(e).one(o.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(150):void this._destroyElement(e)},e.prototype._destroyElement=function(e){t(e).detach().trigger(c.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),o=r.data(i);o||(o=new e(this),r.data(i,o)),"close"===n&&o[n](this)})},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(c.CLICK_DATA_API,l.DISMISS,h._handleDismiss(new h)),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=a,h._jQueryInterface}}(jQuery),function(t){var e="button",i="bs.button",o="."+i,s=".data-api",a=t.fn[e],l={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},c={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},u={CLICK_DATA_API:"click"+o+s,FOCUS_BLUR_DATA_API:"focus"+o+s+" blur"+o+s},h=function(){function e(t){n(this,e),this._element=t}return e.prototype.toggle=function(){var e=!0,n=t(this._element).closest(c.DATA_TOGGLE)[0];if(n){var i=t(this._element).find(c.INPUT)[0];if(i){if("radio"===i.type)if(i.checked&&t(this._element).hasClass(l.ACTIVE))e=!1;else{var r=t(n).find(c.ACTIVE)[0];r&&t(r).removeClass(l.ACTIVE)}e&&(i.checked=!t(this._element).hasClass(l.ACTIVE),t(i).trigger("change")),i.focus()}}this._element.setAttribute("aria-pressed",!t(this._element).hasClass(l.ACTIVE)),e&&t(this._element).toggleClass(l.ACTIVE)},e.prototype.dispose=function(){t.removeData(this._element,i),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var r=t(this).data(i);r||(r=new e(this),t(this).data(i,r)),"toggle"===n&&r[n]()})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(u.CLICK_DATA_API,c.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var n=e.target;t(n).hasClass(l.BUTTON)||(n=t(n).closest(c.BUTTON)),h._jQueryInterface.call(t(n),"toggle")}).on(u.FOCUS_BLUR_DATA_API,c.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(c.BUTTON)[0];t(n).toggleClass(l.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=a,h._jQueryInterface}}(jQuery),function(t){var e="carousel",s="bs.carousel",a="."+s,l=".data-api",c=t.fn[e],u={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},h={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},d={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},f={SLIDE:"slide"+a,SLID:"slid"+a,KEYDOWN:"keydown"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a,LOAD_DATA_API:"load"+a+l,CLICK_DATA_API:"click"+a+l},p={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},g={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},m=function(){function l(e,i){n(this,l),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this._config=this._getConfig(i),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(g.INDICATORS)[0],this._addEventListeners()}return l.prototype.next=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(d.NEXT)},l.prototype.nextWhenVisible=function(){document.hidden||this.next()},l.prototype.prev=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(d.PREVIOUS)},l.prototype.pause=function(e){e||(this._isPaused=!0),t(this._element).find(g.NEXT_PREV)[0]&&o.supportsTransitionEnd()&&(o.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},l.prototype.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},l.prototype.to=function(e){var n=this;this._activeElement=t(this._element).find(g.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(this._isSliding)return void t(this._element).one(f.SLID,function(){return n.to(e)});if(i===e)return this.pause(),void this.cycle();var r=e>i?d.NEXT:d.PREVIOUS;this._slide(r,this._items[e])}},l.prototype.dispose=function(){t(this._element).off(a),t.removeData(this._element,s),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},l.prototype._getConfig=function(n){return n=t.extend({},u,n),o.typeCheckConfig(e,n,h),n},l.prototype._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(f.KEYDOWN,function(t){return e._keydown(t)}),"hover"!==this._config.pause||"ontouchstart"in document.documentElement||t(this._element).on(f.MOUSEENTER,function(t){return e.pause(t)}).on(f.MOUSELEAVE,function(t){return e.cycle(t)})},l.prototype._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next();break;default:return}},l.prototype._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(g.ITEM)),this._items.indexOf(e)},l.prototype._getItemByDirection=function(t,e){var n=t===d.NEXT,i=t===d.PREVIOUS,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=(r+(t===d.PREVIOUS?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},l.prototype._triggerSlideEvent=function(e,n){var i=t.Event(f.SLIDE,{relatedTarget:e,direction:n});return t(this._element).trigger(i),i},l.prototype._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(g.ACTIVE).removeClass(p.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(p.ACTIVE)}},l.prototype._slide=function(e,n){var i=this,r=t(this._element).find(g.ACTIVE_ITEM)[0],s=n||r&&this._getItemByDirection(e,r),a=Boolean(this._interval),l=void 0,c=void 0,u=void 0;if(e===d.NEXT?(l=p.LEFT,c=p.NEXT,u=d.LEFT):(l=p.RIGHT,c=p.PREV,u=d.RIGHT),s&&t(s).hasClass(p.ACTIVE))this._isSliding=!1;else if(!this._triggerSlideEvent(s,u).isDefaultPrevented()&&r&&s){this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(s);var h=t.Event(f.SLID,{relatedTarget:s,direction:u});o.supportsTransitionEnd()&&t(this._element).hasClass(p.SLIDE)?(t(s).addClass(c),o.reflow(s),t(r).addClass(l),t(s).addClass(l),t(r).one(o.TRANSITION_END,function(){t(s).removeClass(l+" "+c).addClass(p.ACTIVE),t(r).removeClass(p.ACTIVE+" "+c+" "+l),i._isSliding=!1,setTimeout(function(){return t(i._element).trigger(h)},0)}).emulateTransitionEnd(600)):(t(r).removeClass(p.ACTIVE),t(s).addClass(p.ACTIVE),this._isSliding=!1,t(this._element).trigger(h)),a&&this.cycle()}},l._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),r=t.extend({},u,t(this).data());"object"===(void 0===e?"undefined":i(e))&&t.extend(r,e);var o="string"==typeof e?e:r.slide;if(n||(n=new l(this,r),t(this).data(s,n)),"number"==typeof e)n.to(e);else if("string"==typeof o){if(void 0===n[o])throw new Error('No method named "'+o+'"');n[o]()}else r.interval&&(n.pause(),n.cycle())})},l._dataApiClickHandler=function(e){var n=o.getSelectorFromElement(this);if(n){var i=t(n)[0];if(i&&t(i).hasClass(p.CAROUSEL)){var r=t.extend({},t(i).data(),t(this).data()),a=this.getAttribute("data-slide-to");a&&(r.interval=!1),l._jQueryInterface.call(t(i),r),a&&t(i).data(s).to(a),e.preventDefault()}}},r(l,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return u}}]),l}();t(document).on(f.CLICK_DATA_API,g.DATA_SLIDE,m._dataApiClickHandler),t(window).on(f.LOAD_DATA_API,function(){t(g.DATA_RIDE).each(function(){var e=t(this);m._jQueryInterface.call(e,e.data())})}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=c,m._jQueryInterface}}(jQuery),function(t){var e="collapse",s="bs.collapse",a="."+s,l=t.fn[e],c={toggle:!0,parent:""},u={toggle:"boolean",parent:"string"},h={SHOW:"show"+a,SHOWN:"shown"+a,HIDE:"hide"+a,HIDDEN:"hidden"+a,CLICK_DATA_API:"click"+a+".data-api"},d={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},f={WIDTH:"width",HEIGHT:"height"},p={ACTIVES:".card > .show, .card > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},g=function(){function a(e,i){n(this,a),this._isTransitioning=!1,this._element=e,this._config=this._getConfig(i),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]')),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return a.prototype.toggle=function(){t(this._element).hasClass(d.SHOW)?this.hide():this.show()},a.prototype.show=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(!t(this._element).hasClass(d.SHOW)){var n=void 0,i=void 0;if(this._parent&&((n=t.makeArray(t(this._parent).find(p.ACTIVES))).length||(n=null)),!(n&&(i=t(n).data(s))&&i._isTransitioning)){var r=t.Event(h.SHOW);if(t(this._element).trigger(r),!r.isDefaultPrevented()){n&&(a._jQueryInterface.call(t(n),"hide"),i||t(n).data(s,null));var l=this._getDimension();t(this._element).removeClass(d.COLLAPSE).addClass(d.COLLAPSING),this._element.style[l]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&t(this._triggerArray).removeClass(d.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var c=function(){t(e._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).addClass(d.SHOW),e._element.style[l]="",e.setTransitioning(!1),t(e._element).trigger(h.SHOWN)};if(!o.supportsTransitionEnd())return void c();var u="scroll"+(l[0].toUpperCase()+l.slice(1));t(this._element).one(o.TRANSITION_END,c).emulateTransitionEnd(600),this._element.style[l]=this._element[u]+"px"}}}},a.prototype.hide=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(t(this._element).hasClass(d.SHOW)){var n=t.Event(h.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension(),r=i===f.WIDTH?"offsetWidth":"offsetHeight";this._element.style[i]=this._element[r]+"px",o.reflow(this._element),t(this._element).addClass(d.COLLAPSING).removeClass(d.COLLAPSE).removeClass(d.SHOW),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&t(this._triggerArray).addClass(d.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var s=function(){e.setTransitioning(!1),t(e._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).trigger(h.HIDDEN)};return this._element.style[i]="",o.supportsTransitionEnd()?void t(this._element).one(o.TRANSITION_END,s).emulateTransitionEnd(600):void s()}}},a.prototype.setTransitioning=function(t){this._isTransitioning=t},a.prototype.dispose=function(){t.removeData(this._element,s),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},a.prototype._getConfig=function(n){return n=t.extend({},c,n),n.toggle=Boolean(n.toggle),o.typeCheckConfig(e,n,u),n},a.prototype._getDimension=function(){return t(this._element).hasClass(f.WIDTH)?f.WIDTH:f.HEIGHT},a.prototype._getParent=function(){var e=this,n=t(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(i).each(function(t,n){e._addAriaAndCollapsedClass(a._getTargetFromElement(n),[n])}),n},a.prototype._addAriaAndCollapsedClass=function(e,n){if(e){var i=t(e).hasClass(d.SHOW);e.setAttribute("aria-expanded",i),n.length&&t(n).toggleClass(d.COLLAPSED,!i).attr("aria-expanded",i)}},a._getTargetFromElement=function(e){var n=o.getSelectorFromElement(e);return n?t(n)[0]:null},a._jQueryInterface=function(e){return this.each(function(){var n=t(this),r=n.data(s),o=t.extend({},c,n.data(),"object"===(void 0===e?"undefined":i(e))&&e);if(!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||(r=new a(this,o),n.data(s,r)),"string"==typeof e){if(void 0===r[e])throw new Error('No method named "'+e+'"');r[e]()}})},r(a,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}}]),a}();t(document).on(h.CLICK_DATA_API,p.DATA_TOGGLE,function(e){e.preventDefault();var n=g._getTargetFromElement(this),i=t(n).data(s)?"toggle":t(this).data();g._jQueryInterface.call(t(n),i)}),t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=l,g._jQueryInterface}}(jQuery),function(t){var e="dropdown",i="bs.dropdown",s="."+i,a=".data-api",l=t.fn[e],c={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,CLICK:"click"+s,CLICK_DATA_API:"click"+s+a,FOCUSIN_DATA_API:"focusin"+s+a,KEYDOWN_DATA_API:"keydown"+s+a},u={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",SHOW:"show"},h={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},d=function(){function e(t){n(this,e),this._element=t,this._addEventListeners()}return e.prototype.toggle=function(){if(this.disabled||t(this).hasClass(u.DISABLED))return!1;var n=e._getParentFromElement(this),i=t(n).hasClass(u.SHOW);if(e._clearMenus(),i)return!1;if("ontouchstart"in document.documentElement&&!t(n).closest(h.NAVBAR_NAV).length){var r=document.createElement("div");r.className=u.BACKDROP,t(r).insertBefore(this),t(r).on("click",e._clearMenus)}var o={relatedTarget:this},s=t.Event(c.SHOW,o);return t(n).trigger(s),!s.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded",!0),t(n).toggleClass(u.SHOW),t(n).trigger(t.Event(c.SHOWN,o)),!1)},e.prototype.dispose=function(){t.removeData(this._element,i),t(this._element).off(s),this._element=null},e.prototype._addEventListeners=function(){t(this._element).on(c.CLICK,this.toggle)},e._jQueryInterface=function(n){return this.each(function(){var r=t(this).data(i);if(r||(r=new e(this),t(this).data(i,r)),"string"==typeof n){if(void 0===r[n])throw new Error('No method named "'+n+'"');r[n].call(this)}})},e._clearMenus=function(n){if(!n||3!==n.which){var i=t(h.BACKDROP)[0];i&&i.parentNode.removeChild(i);for(var r=t.makeArray(t(h.DATA_TOGGLE)),o=0;o<r.length;o++){var s=e._getParentFromElement(r[o]),a={relatedTarget:r[o]};if(t(s).hasClass(u.SHOW)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"focusin"===n.type)&&t.contains(s,n.target))){var l=t.Event(c.HIDE,a);t(s).trigger(l),l.isDefaultPrevented()||(r[o].setAttribute("aria-expanded","false"),t(s).removeClass(u.SHOW).trigger(t.Event(c.HIDDEN,a)))}}}},e._getParentFromElement=function(e){var n=void 0,i=o.getSelectorFromElement(e);return i&&(n=t(i)[0]),n||e.parentNode},e._dataApiKeydownHandler=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!t(this).hasClass(u.DISABLED))){var i=e._getParentFromElement(this),r=t(i).hasClass(u.SHOW);if(!r&&27!==n.which||r&&27===n.which){if(27===n.which){var o=t(i).find(h.DATA_TOGGLE)[0];t(o).trigger("focus")}return void t(this).trigger("click")}var s=t(i).find(h.VISIBLE_ITEMS).get();if(s.length){var a=s.indexOf(n.target);38===n.which&&a>0&&a--,40===n.which&&a<s.length-1&&a++,a<0&&(a=0),s[a].focus()}}},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(c.KEYDOWN_DATA_API,h.DATA_TOGGLE,d._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,h.ROLE_MENU,d._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,h.ROLE_LISTBOX,d._dataApiKeydownHandler).on(c.CLICK_DATA_API+" "+c.FOCUSIN_DATA_API,d._clearMenus).on(c.CLICK_DATA_API,h.DATA_TOGGLE,d.prototype.toggle).on(c.CLICK_DATA_API,h.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=l,d._jQueryInterface}}(jQuery),function(t){var e="modal",s="bs.modal",a="."+s,l=t.fn[e],c={backdrop:!0,keyboard:!0,focus:!0,show:!0},u={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},h={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,FOCUSIN:"focusin"+a,RESIZE:"resize"+a,CLICK_DISMISS:"click.dismiss"+a,KEYDOWN_DISMISS:"keydown.dismiss"+a,MOUSEUP_DISMISS:"mouseup.dismiss"+a,MOUSEDOWN_DISMISS:"mousedown.dismiss"+a,CLICK_DATA_API:"click"+a+".data-api"},d={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},f={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"},p=function(){function l(e,i){n(this,l),this._config=this._getConfig(i),this._element=e,this._dialog=t(e).find(f.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return l.prototype.toggle=function(t){return this._isShown?this.hide():this.show(t)},l.prototype.show=function(e){var n=this;if(this._isTransitioning)throw new Error("Modal is transitioning");o.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE)&&(this._isTransitioning=!0);var i=t.Event(h.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),t(document.body).addClass(d.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(h.CLICK_DISMISS,f.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(h.MOUSEDOWN_DISMISS,function(){t(n._element).one(h.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))},l.prototype.hide=function(e){var n=this;if(e&&e.preventDefault(),this._isTransitioning)throw new Error("Modal is transitioning");var i=o.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE);i&&(this._isTransitioning=!0);var r=t.Event(h.HIDE);t(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),t(document).off(h.FOCUSIN),t(this._element).removeClass(d.SHOW),t(this._element).off(h.CLICK_DISMISS),t(this._dialog).off(h.MOUSEDOWN_DISMISS),i?t(this._element).one(o.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(300):this._hideModal())},l.prototype.dispose=function(){t.removeData(this._element,s),t(window,document,this._element,this._backdrop).off(a),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null},l.prototype._getConfig=function(n){return n=t.extend({},c,n),o.typeCheckConfig(e,n,u),n},l.prototype._showElement=function(e){var n=this,i=o.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&o.reflow(this._element),t(this._element).addClass(d.SHOW),this._config.focus&&this._enforceFocus();var r=t.Event(h.SHOWN,{relatedTarget:e}),s=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(r)};i?t(this._dialog).one(o.TRANSITION_END,s).emulateTransitionEnd(300):s()},l.prototype._enforceFocus=function(){var e=this;t(document).off(h.FOCUSIN).on(h.FOCUSIN,function(n){document===n.target||e._element===n.target||t(e._element).has(n.target).length||e._element.focus()})},l.prototype._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(h.KEYDOWN_DISMISS,function(t){27===t.which&&e.hide()}):this._isShown||t(this._element).off(h.KEYDOWN_DISMISS)},l.prototype._setResizeEvent=function(){var e=this;this._isShown?t(window).on(h.RESIZE,function(t){return e._handleUpdate(t)}):t(window).off(h.RESIZE)},l.prototype._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(d.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(h.HIDDEN)})},l.prototype._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},l.prototype._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(d.FADE)?d.FADE:"";if(this._isShown&&this._config.backdrop){var r=o.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement("div"),this._backdrop.className=d.BACKDROP,i&&t(this._backdrop).addClass(i),t(this._backdrop).appendTo(document.body),t(this._element).on(h.CLICK_DISMISS,function(t){return n._ignoreBackdropClick?void(n._ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide()))}),r&&o.reflow(this._backdrop),t(this._backdrop).addClass(d.SHOW),!e)return;if(!r)return void e();t(this._backdrop).one(o.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(d.SHOW);var s=function(){n._removeBackdrop(),e&&e()};o.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE)?t(this._backdrop).one(o.TRANSITION_END,s).emulateTransitionEnd(150):s()}else e&&e()},l.prototype._handleUpdate=function(){this._adjustDialog()},l.prototype._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},l.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},l.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},l.prototype._setScrollbar=function(){var e=parseInt(t(f.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=e+this._scrollbarWidth+"px")},l.prototype._resetScrollbar=function(){document.body.style.paddingRight=this._originalBodyPadding},l.prototype._getScrollbarWidth=function(){var t=document.createElement("div");t.className=d.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},l._jQueryInterface=function(e,n){return this.each(function(){var r=t(this).data(s),o=t.extend({},l.Default,t(this).data(),"object"===(void 0===e?"undefined":i(e))&&e);if(r||(r=new l(this,o),t(this).data(s,r)),"string"==typeof e){if(void 0===r[e])throw new Error('No method named "'+e+'"');r[e](n)}else o.show&&r.show(n)})},r(l,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}}]),l}();t(document).on(h.CLICK_DATA_API,f.DATA_TOGGLE,function(e){var n=this,i=void 0,r=o.getSelectorFromElement(this);r&&(i=t(r)[0]);var a=t(i).data(s)?"toggle":t.extend({},t(i).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var l=t(i).one(h.SHOW,function(e){e.isDefaultPrevented()||l.one(h.HIDDEN,function(){t(n).is(":visible")&&n.focus()})});p._jQueryInterface.call(t(i),a,this)}),t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=l,p._jQueryInterface}}(jQuery),function(t){var e="scrollspy",s="bs.scrollspy",a="."+s,l=t.fn[e],c={offset:10,method:"auto",target:""},u={offset:"number",method:"string",target:"(string|element)"},h={ACTIVATE:"activate"+a,SCROLL:"scroll"+a,LOAD_DATA_API:"load"+a+".data-api"},d={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",NAV:"nav",ACTIVE:"active"},f={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",LIST_ITEM:".list-item",LI:"li",LI_DROPDOWN:"li.dropdown",NAV_LINKS:".nav-link",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},p={OFFSET:"offset",POSITION:"position"},g=function(){function l(e,i){var r=this;n(this,l),this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(i),this._selector=this._config.target+" "+f.NAV_LINKS+","+this._config.target+" "+f.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(h.SCROLL,function(t){return r._process(t)}),this.refresh(),this._process()}return l.prototype.refresh=function(){var e=this,n=this._scrollElement!==this._scrollElement.window?p.POSITION:p.OFFSET,i="auto"===this._config.method?n:this._config.method,r=i===p.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(function(e){var n=void 0,s=o.getSelectorFromElement(e);return s&&(n=t(s)[0]),n&&(n.offsetWidth||n.offsetHeight)?[t(n)[i]().top+r,s]:null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},l.prototype.dispose=function(){t.removeData(this._element,s),t(this._scrollElement).off(a),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},l.prototype._getConfig=function(n){if("string"!=typeof(n=t.extend({},c,n)).target){var i=t(n.target).attr("id");i||(i=o.getUID(e),t(n.target).attr("id",i)),n.target="#"+i}return o.typeCheckConfig(e,n,u),n},l.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},l.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},l.prototype._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.offsetHeight},l.prototype._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},l.prototype._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var i=t(n.join(","));i.hasClass(d.DROPDOWN_ITEM)?(i.closest(f.DROPDOWN).find(f.DROPDOWN_TOGGLE).addClass(d.ACTIVE),i.addClass(d.ACTIVE)):i.parents(f.LI).find("> "+f.NAV_LINKS).addClass(d.ACTIVE),t(this._scrollElement).trigger(h.ACTIVATE,{relatedTarget:e})},l.prototype._clear=function(){t(this._selector).filter(f.ACTIVE).removeClass(d.ACTIVE)},l._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),r="object"===(void 0===e?"undefined":i(e))&&e;if(n||(n=new l(this,r),t(this).data(s,n)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},r(l,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}}]),l}();t(window).on(h.LOAD_DATA_API,function(){for(var e=t.makeArray(t(f.DATA_SPY)),n=e.length;n--;){var i=t(e[n]);g._jQueryInterface.call(i,i.data())}}),t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=l,g._jQueryInterface}}(jQuery),function(t){var e="tab",i="bs.tab",s="."+i,a=t.fn[e],l={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,CLICK_DATA_API:"click"+s+".data-api"},c={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},u={A:"a",LI:"li",DROPDOWN:".dropdown",LIST:"ul:not(.dropdown-menu), ol:not(.dropdown-menu), nav:not(.dropdown-menu)",FADE_CHILD:"> .nav-item .fade, > .fade",ACTIVE:".active",ACTIVE_CHILD:"> .nav-item > .active, > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},h=function(){function e(t){n(this,e),this._element=t}return e.prototype.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(c.ACTIVE)||t(this._element).hasClass(c.DISABLED))){var n=void 0,i=void 0,r=t(this._element).closest(u.LIST)[0],s=o.getSelectorFromElement(this._element);r&&(i=t.makeArray(t(r).find(u.ACTIVE)),i=i[i.length-1]);var a=t.Event(l.HIDE,{relatedTarget:this._element}),h=t.Event(l.SHOW,{relatedTarget:i});if(i&&t(i).trigger(a),t(this._element).trigger(h),!h.isDefaultPrevented()&&!a.isDefaultPrevented()){s&&(n=t(s)[0]),this._activate(this._element,r);var d=function(){var n=t.Event(l.HIDDEN,{relatedTarget:e._element}),r=t.Event(l.SHOWN,{relatedTarget:i});t(i).trigger(n),t(e._element).trigger(r)};n?this._activate(n,n.parentNode,d):d()}}},e.prototype.dispose=function(){t.removeClass(this._element,i),this._element=null},e.prototype._activate=function(e,n,i){var r=this,s=t(n).find(u.ACTIVE_CHILD)[0],a=i&&o.supportsTransitionEnd()&&(s&&t(s).hasClass(c.FADE)||Boolean(t(n).find(u.FADE_CHILD)[0])),l=function(){return r._transitionComplete(e,s,a,i)};s&&a?t(s).one(o.TRANSITION_END,l).emulateTransitionEnd(150):l(),s&&t(s).removeClass(c.SHOW)},e.prototype._transitionComplete=function(e,n,i,r){if(n){t(n).removeClass(c.ACTIVE);var s=t(n.parentNode).find(u.DROPDOWN_ACTIVE_CHILD)[0];s&&t(s).removeClass(c.ACTIVE),n.setAttribute("aria-expanded",!1)}if(t(e).addClass(c.ACTIVE),e.setAttribute("aria-expanded",!0),i?(o.reflow(e),t(e).addClass(c.SHOW)):t(e).removeClass(c.FADE),e.parentNode&&t(e.parentNode).hasClass(c.DROPDOWN_MENU)){var a=t(e).closest(u.DROPDOWN)[0];a&&t(a).find(u.DROPDOWN_TOGGLE).addClass(c.ACTIVE),e.setAttribute("aria-expanded",!0)}r&&r()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),o=r.data(i);if(o||(o=new e(this),r.data(i,o)),"string"==typeof n){if(void 0===o[n])throw new Error('No method named "'+n+'"');o[n]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(l.CLICK_DATA_API,u.DATA_TOGGLE,function(e){e.preventDefault(),h._jQueryInterface.call(t(this),"show")}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=a,h._jQueryInterface}}(jQuery),function(t){if("undefined"==typeof Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var e="tooltip",s="bs.tooltip",a="."+s,l=t.fn[e],c={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[],container:!1},u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array",container:"(string|element|boolean)"},h={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},d={SHOW:"show",OUT:"out"},f={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,INSERTED:"inserted"+a,CLICK:"click"+a,FOCUSIN:"focusin"+a,FOCUSOUT:"focusout"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a},p={FADE:"fade",SHOW:"show"},g={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},m={element:!1,enabled:!1},v={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},y=function(){function l(t,e){n(this,l),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._isTransitioning=!1,this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return l.prototype.enable=function(){this._isEnabled=!0},l.prototype.disable=function(){this._isEnabled=!1},l.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},l.prototype.toggle=function(e){if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(p.SHOW))return void this._leave(null,this);this._enter(null,this)}},l.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},l.prototype.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){if(this._isTransitioning)throw new Error("Tooltip is transitioning");t(this.element).trigger(n);var i=t.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!i)return;var r=this.getTipElement(),s=o.getUID(this.constructor.NAME);r.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(r).addClass(p.FADE);var a="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,c=this._getAttachment(a),u=!1===this.config.container?document.body:t(this.config.container);t(r).data(this.constructor.DATA_KEY,this).appendTo(u),t(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:c,element:r,target:this.element,classes:m,classPrefix:"bs-tether",offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),o.reflow(r),this._tether.position(),t(r).addClass(p.SHOW);var h=function(){var n=e._hoverState;e._hoverState=null,e._isTransitioning=!1,t(e.element).trigger(e.constructor.Event.SHOWN),n===d.OUT&&e._leave(null,e)};if(o.supportsTransitionEnd()&&t(this.tip).hasClass(p.FADE))return this._isTransitioning=!0,void t(this.tip).one(o.TRANSITION_END,h).emulateTransitionEnd(l._TRANSITION_DURATION);h()}},l.prototype.hide=function(e){var n=this,i=this.getTipElement(),r=t.Event(this.constructor.Event.HIDE);if(this._isTransitioning)throw new Error("Tooltip is transitioning");var s=function(){n._hoverState!==d.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),n._isTransitioning=!1,n.cleanupTether(),e&&e()};t(this.element).trigger(r),r.isDefaultPrevented()||(t(i).removeClass(p.SHOW),this._activeTrigger[v.CLICK]=!1,this._activeTrigger[v.FOCUS]=!1,this._activeTrigger[v.HOVER]=!1,o.supportsTransitionEnd()&&t(this.tip).hasClass(p.FADE)?(this._isTransitioning=!0,t(i).one(o.TRANSITION_END,s).emulateTransitionEnd(150)):s(),this._hoverState="")},l.prototype.isWithContent=function(){return Boolean(this.getTitle())},l.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},l.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(g.TOOLTIP_INNER),this.getTitle()),e.removeClass(p.FADE+" "+p.SHOW),this.cleanupTether()},l.prototype.setElementContent=function(e,n){var r=this.config.html;"object"===(void 0===n?"undefined":i(n))&&(n.nodeType||n.jquery)?r?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[r?"html":"text"](n)},l.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},l.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},l.prototype._getAttachment=function(t){return h[t.toUpperCase()]},l.prototype._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==v.MANUAL){var i=n===v.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=n===v.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(r,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},l.prototype._fixTitle=function(){var t=i(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},l.prototype._enter=function(e,n){var i=this.constructor.DATA_KEY;return(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusin"===e.type?v.FOCUS:v.HOVER]=!0),t(n.getTipElement()).hasClass(p.SHOW)||n._hoverState===d.SHOW?void(n._hoverState=d.SHOW):(clearTimeout(n._timeout),n._hoverState=d.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===d.SHOW&&n.show()},n.config.delay.show)):void n.show())},l.prototype._leave=function(e,n){var i=this.constructor.DATA_KEY;if((n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusout"===e.type?v.FOCUS:v.HOVER]=!1),!n._isWithActiveTrigger())return clearTimeout(n._timeout),n._hoverState=d.OUT,n.config.delay&&n.config.delay.hide?void(n._timeout=setTimeout(function(){n._hoverState===d.OUT&&n.hide()},n.config.delay.hide)):void n.hide()},l.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},l.prototype._getConfig=function(n){return(n=t.extend({},this.constructor.Default,t(this.element).data(),n)).delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),o.typeCheckConfig(e,n,this.constructor.DefaultType),n},l.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},l._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),r="object"===(void 0===e?"undefined":i(e))&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new l(this,r),t(this).data(s,n)),"string"==typeof e)){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},r(l,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return s}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return a}},{key:"DefaultType",get:function(){return u}}]),l}();return t.fn[e]=y._jQueryInterface,t.fn[e].Constructor=y,t.fn[e].noConflict=function(){return t.fn[e]=l,y._jQueryInterface},y}(jQuery));!function(o){var a="popover",l="bs.popover",c="."+l,u=o.fn[a],h=o.extend({},s.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),d=o.extend({},s.DefaultType,{content:"(string|element|function)"}),f={FADE:"fade",SHOW:"show"},p={TITLE:".popover-title",CONTENT:".popover-content"},g={HIDE:"hide"+c,HIDDEN:"hidden"+c,SHOW:"show"+c,SHOWN:"shown"+c,INSERTED:"inserted"+c,CLICK:"click"+c,FOCUSIN:"focusin"+c,FOCUSOUT:"focusout"+c,MOUSEENTER:"mouseenter"+c,MOUSELEAVE:"mouseleave"+c},m=function(s){function u(){return n(this,u),t(this,s.apply(this,arguments))}return e(u,s),u.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},u.prototype.getTipElement=function(){return this.tip=this.tip||o(this.config.template)[0]},u.prototype.setContent=function(){var t=o(this.getTipElement());this.setElementContent(t.find(p.TITLE),this.getTitle()),this.setElementContent(t.find(p.CONTENT),this._getContent()),t.removeClass(f.FADE+" "+f.SHOW),this.cleanupTether()},u.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},u._jQueryInterface=function(t){return this.each(function(){var e=o(this).data(l),n="object"===(void 0===t?"undefined":i(t))?t:null;if((e||!/destroy|hide/.test(t))&&(e||(e=new u(this,n),o(this).data(l,e)),"string"==typeof t)){if(void 0===e[t])throw new Error('No method named "'+t+'"');e[t]()}})},r(u,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return a}},{key:"DATA_KEY",get:function(){return l}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return c}},{key:"DefaultType",get:function(){return d}}]),u}(s);o.fn[a]=m._jQueryInterface,o.fn[a].Constructor=m,o.fn[a].noConflict=function(){return o.fn[a]=u,m._jQueryInterface}}(jQuery)}(),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,r){return jQuery.easing[jQuery.easing.def](t,e,n,i,r)},easeInQuad:function(t,e,n,i,r){return i*(e/=r)*e+n},easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeInOutQuad:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,r){return i*(e/=r)*e*e+n},easeOutCubic:function(t,e,n,i,r){return i*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,r){return i*(e/=r)*e*e*e+n},easeOutQuart:function(t,e,n,i,r){return-i*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,r){return i*(e/=r)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,r){return i*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,r){return-i*Math.cos(e/r*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,r){return i*Math.sin(e/r*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,r){return-i/2*(Math.cos(Math.PI*e/r)-1)+n},easeInExpo:function(t,e,n,i,r){return 0==e?n:i*Math.pow(2,10*(e/r-1))+n},easeOutExpo:function(t,e,n,i,r){return e==r?n+i:i*(1-Math.pow(2,-10*e/r))+n},easeInOutExpo:function(t,e,n,i,r){return 0==e?n:e==r?n+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+n},easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeInOutCirc:function(t,e,n,i,r){return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s||(s=.3*r),a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return-a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)+n},easeOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s||(s=.3*r),a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*r-o)*(2*Math.PI)/s)+i+n},easeInOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(2==(e/=r/2))return n+i;if(s||(s=r*(.3*1.5)),a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*-.5+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*.5+i+n},easeInBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),i*(e/=r)*e*((o+1)*e-o)+n},easeOutBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),i*((e=e/r-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),(e/=r/2)<1?i/2*(e*e*((1+(o*=1.525))*e-o))+n:i/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+n},easeInBounce:function(t,e,n,i,r){return i-jQuery.easing.easeOutBounce(t,r-e,0,i,r)+n},easeOutBounce:function(t,e,n,i,r){return(e/=r)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,r){return e<r/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,r)+n:.5*jQuery.easing.easeOutBounce(t,2*e-r,0,i,r)+.5*i+n}}),function(t){t.fn.unveil=function(e,n){function i(){var e=l.filter(function(){var e=t(this),n=o.scrollTop(),i=n+o.height(),r=e.offset().top;return r+e.height()>=n-s&&r<=i+s});r=e.trigger("unveil"),l=l.not(r)}var r,o=t(window),s=e||0,a=window.devicePixelRatio>1?"data-src-retina":"data-src",l=this;return this.one("unveil",function(){var t=this.getAttribute(a);(t=t||this.getAttribute("data-src"))&&(this.setAttribute("src",t),"function"==typeof n&&n.call(this))}),o.scroll(i),o.resize(i),i(),this}}(window.jQuery||window.Zepto),function(t){var e=function(e,n){this.$elem=t(e),this.$elem.data("instance",this),this.init(n)};e.prototype={defaults:{classes:{animated:"list-view-animated",container:"list-view-wrapper",hidden:"list-view-hidden",stationaryHeader:"list-view-fake-header"},selectors:{groupContainer:".list-view-group-container",groupHeader:".list-view-group-header",stationaryHeader:"h2"}},init:function(e){var n=this,i=!!navigator.userAgent.match(/ipad|iphone|ipod/gi);this.options=t.extend(!0,{},this.defaults,e||{}),this.elems=[],this.$elem.addClass("list-view"),this.$elem.children().wrapAll(["<div class='",this.options.classes.container,"' data-ios='",i,"'></div>"].join("")),this.$elem.prepend(["<",this.options.selectors.stationaryHeader,"/>"].join("")),this.$listWrapper=this.$elem.find("."+this.options.classes.container),this.$fakeHeader=this.$elem.find(this.options.selectors.stationaryHeader).eq(0),this.$fakeHeader.addClass(this.options.classes.stationaryHeader),this.$elem.find(this.options.selectors.groupContainer).each(function(t){var e=n.$elem.find(n.options.selectors.groupContainer).eq(t),i=e.find(n.options.selectors.groupHeader).eq(0),r=e.height(),o=e.position().top;n.elems.push({list:e,header:i,listHeight:r,headerText:i.text(),headerHeight:i.outerHeight(),listOffset:o,listBottom:r+o})}),this.$fakeHeader.text(this.elems[0].headerText),this.$listWrapper.scroll(function(){n.testPosition()})},testPosition:function(){for(var e,n,i=this.$listWrapper.scrollTop(),r=0;this.elems[r].listOffset-i<=0&&(e=this.elems[r],(n=e.listBottom-i)<-e.headerHeight&&e,!(++r>=this.elems.length)););0>n&&n>-e.headerHeight?(this.$fakeHeader.addClass(this.options.classes.hidden),t(e.list).addClass(this.options.classes.animated)):(this.$fakeHeader.removeClass(this.options.classes.hidden),e&&t(e.list).removeClass(this.options.classes.animated)),e&&this.$fakeHeader.text(e.headerText)}},t.fn.ioslist=function(n,i){return this.each("string"==typeof n?function(){t(this).data("instance")[n](i)}:function(){new e(this,n)})}}(jQuery,window,document),function(t){t.fn.addBack=t.fn.addBack||t.fn.andSelf,t.fn.extend({actual:function(e,n){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var i,r,o={absolute:!1,clone:!1,includeMargin:!1},s=t.extend(o,n),a=this.eq(0);if(!0===s.clone)i=function(){a=a.clone().attr("style","position: absolute !important; top: -1000 !important; ").appendTo("body")},r=function(){a.remove()};else{var l,c=[],u="";i=function(){l=a.parents().addBack().filter(":hidden"),u+="visibility: hidden !important; display: block !important; ",!0===s.absolute&&(u+="position: absolute !important; "),l.each(function(){var e=t(this),n=e.attr("style");c.push(n),e.attr("style",n?n+";"+u:u)})},r=function(){l.each(function(e){var n=t(this),i=c[e];void 0===i?n.removeAttr("style"):n.attr("style",i)})}}i();var h=/(outer)/.test(e)?a[e](s.includeMargin):a[e]();return r(),h}})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof exports?require("jquery"):t.jQuery)}(this,function(t){"use strict";function e(e){if(r.webkit&&!e)return{height:0,width:0};if(!r.data.outer){var n={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};r.data.inner=t("<div>").css(t.extend({},n)),r.data.outer=t("<div>").css(t.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},n)).append(r.data.inner).appendTo("body")}return r.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(r.data.outer.offset().top-r.data.inner.offset().top||0),width:Math.ceil(r.data.outer.offset().left-r.data.inner.offset().left||0)}}function n(){var t=e(!0);return!(t.height||t.width)}function i(t){var e=t.originalEvent;return!(e.axis&&e.axis===e.HORIZONTAL_AXIS||e.wheelDeltaX)}var r={data:{index:0,name:"scrollbar"},firefox:/firefox/i.test(navigator.userAgent),macosx:/mac/i.test(navigator.platform),msedge:/edge\/\d+/i.test(navigator.userAgent),msie:/(msie|trident)/i.test(navigator.userAgent),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};r.scrolls.add=function(t){this.remove(t).push(t)},r.scrolls.remove=function(e){for(;t.inArray(e,this)>=0;)this.splice(t.inArray(e,this),1);return this};var o={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,isRtl:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onFallback:null,onInit:null,onScroll:null,onUpdate:null},s=function(i){r.scroll||(r.overlay=n(),r.scroll=e(),l(),t(window).resize(function(){var t=!1;if(r.scroll&&(r.scroll.height||r.scroll.width)){var n=e();n.height===r.scroll.height&&n.width===r.scroll.width||(r.scroll=n,t=!0)}l(t)})),this.container=i,this.namespace=".scrollbar_"+r.data.index++,this.options=t.extend({},o,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},i.data(r.data.name,this),r.scrolls.add(this)};s.prototype={destroy:function(){if(this.wrapper){this.container.removeData(r.data.name),r.scrolls.remove(this);var e=this.container.scrollLeft(),n=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(e).scrollTop(n),this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").addBack().off(this.namespace),this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").addBack().off(this.namespace),this.wrapper.remove(),t(document).add("body").off(this.namespace),t.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(e){var n=this,o=this.container,s=this.containerWrapper||o,a=this.namespace,l=t.extend(this.options,e||{}),c={x:this.scrollx,y:this.scrolly},u=this.wrapper,h={},d={scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop()};if(r.mobile&&l.ignoreMobile||r.overlay&&l.ignoreOverlay||r.macosx&&!r.webkit)return t.isFunction(l.onFallback)&&l.onFallback.apply(this,[o]),!1;if(u)h={height:"auto","margin-bottom":-1*r.scroll.height+"px","max-height":""},h[l.isRtl?"margin-left":"margin-right"]=-1*r.scroll.width+"px",s.css(h);else{if(this.wrapper=u=t("<div>").addClass("scroll-wrapper").addClass(o.attr("class")).css("position","absolute"===o.css("position")?"absolute":"relative").insertBefore(o).append(o),l.isRtl&&u.addClass("scroll--rtl"),o.is("textarea")&&(this.containerWrapper=s=t("<div>").insertBefore(o).append(o),u.addClass("scroll-textarea")),h={height:"auto","margin-bottom":-1*r.scroll.height+"px","max-height":""},h[l.isRtl?"margin-left":"margin-right"]=-1*r.scroll.width+"px",s.addClass("scroll-content").css(h),o.on("scroll"+a,function(e){var i=o.scrollLeft(),s=o.scrollTop();if(l.isRtl)switch(!0){case r.firefox:i=Math.abs(i);case r.msedge||r.msie:i=o[0].scrollWidth-o[0].clientWidth-i}t.isFunction(l.onScroll)&&l.onScroll.call(n,{maxScroll:c.y.maxScrollOffset,scroll:s,size:c.y.size,visible:c.y.visible},{maxScroll:c.x.maxScrollOffset,scroll:i,size:c.x.size,visible:c.x.visible}),c.x.isVisible&&c.x.scroll.bar.css("left",i*c.x.kx+"px"),c.y.isVisible&&c.y.scroll.bar.css("top",s*c.y.kx+"px")}),u.on("scroll"+a,function(){u.scrollTop(0).scrollLeft(0)}),l.disableBodyScroll){var f=function(t){i(t)?c.y.isVisible&&c.y.mousewheel(t):c.x.isVisible&&c.x.mousewheel(t)};u.on("MozMousePixelScroll"+a,f),u.on("mousewheel"+a,f),r.mobile&&u.on("touchstart"+a,function(e){var n=e.originalEvent.touches&&e.originalEvent.touches[0]||e,i={pageX:n.pageX,pageY:n.pageY},r={left:o.scrollLeft(),top:o.scrollTop()};t(document).on("touchmove"+a,function(t){var e=t.originalEvent.targetTouches&&t.originalEvent.targetTouches[0]||t;o.scrollLeft(r.left+i.pageX-e.pageX),o.scrollTop(r.top+i.pageY-e.pageY),t.preventDefault()}),t(document).on("touchend"+a,function(){t(document).off(a)})})}t.isFunction(l.onInit)&&l.onInit.apply(this,[o])}t.each(c,function(e,s){var u=null,h=1,d="x"===e?"scrollLeft":"scrollTop",f=l.scrollStep,p=function(){var t=o[d]();o[d](t+f),1==h&&t+f>=g&&(t=o[d]()),-1==h&&t+f<=g&&(t=o[d]()),o[d]()==t&&u&&u()},g=0;s.scroll||(s.scroll=n._getScroll(l["scroll"+e]).addClass("scroll-"+e),l.showArrows&&s.scroll.addClass("scroll-element_arrows_visible"),s.mousewheel=function(t){if(!s.isVisible||"x"===e&&i(t))return!0;if("y"===e&&!i(t))return c.x.mousewheel(t),!0;var r=-1*t.originalEvent.wheelDelta||t.originalEvent.detail,a=s.size-s.visible-s.offset;return r||("x"===e&&t.originalEvent.deltaX?r=40*t.originalEvent.deltaX:"y"===e&&t.originalEvent.deltaY&&(r=40*t.originalEvent.deltaY)),(r>0&&g<a||r<0&&g>0)&&((g+=r)<0&&(g=0),g>a&&(g=a),n.scrollTo=n.scrollTo||{},n.scrollTo[d]=g,setTimeout(function(){n.scrollTo&&(o.stop().animate(n.scrollTo,240,"linear",function(){g=o[d]()}),n.scrollTo=null)},1)),t.preventDefault(),!1},s.scroll.on("MozMousePixelScroll"+a,s.mousewheel).on("mousewheel"+a,s.mousewheel).on("mouseenter"+a,function(){g=o[d]()}),s.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+a,function(i){if(1!=i.which)return!0;h=1;var a={eventOffset:i["x"===e?"pageX":"pageY"],maxScrollValue:s.size-s.visible-s.offset,scrollbarOffset:s.scroll.bar.offset()["x"===e?"left":"top"],scrollbarSize:s.scroll.bar["x"===e?"outerWidth":"outerHeight"]()},c=0,m=0;if(t(this).hasClass("scroll-arrow")){if(h=t(this).hasClass("scroll-arrow_more")?1:-1,f=l.scrollStep*h,g=h>0?a.maxScrollValue:0,l.isRtl)switch(!0){case r.firefox:g=h>0?0:-1*a.maxScrollValue;break;case r.msie||r.msedge:}}else h=a.eventOffset>a.scrollbarOffset+a.scrollbarSize?1:a.eventOffset<a.scrollbarOffset?-1:0,"x"===e&&l.isRtl&&(r.msie||r.msedge)&&(h*=-1),f=Math.round(.75*s.visible)*h,g=a.eventOffset-a.scrollbarOffset-(l.stepScrolling?1==h?a.scrollbarSize:0:Math.round(a.scrollbarSize/2)),g=o[d]()+g/s.kx;return n.scrollTo=n.scrollTo||{},n.scrollTo[d]=l.stepScrolling?o[d]()+f:g,l.stepScrolling&&(u=function(){g=o[d](),clearInterval(m),clearTimeout(c),c=0,m=0},c=setTimeout(function(){m=setInterval(p,40)},l.duration+100)),setTimeout(function(){n.scrollTo&&(o.animate(n.scrollTo,l.duration),n.scrollTo=null)},1),n._handleMouseDown(u,i)}),s.scroll.bar.on("mousedown"+a,function(i){if(1!=i.which)return!0;var c=i["x"===e?"pageX":"pageY"],u=o[d]();return s.scroll.addClass("scroll-draggable"),t(document).on("mousemove"+a,function(t){var n=parseInt((t["x"===e?"pageX":"pageY"]-c)/s.kx,10);"x"===e&&l.isRtl&&(r.msie||r.msedge)&&(n*=-1),o[d](u+n)}),n._handleMouseDown(function(){s.scroll.removeClass("scroll-draggable"),g=o[d]()},i)}))}),t.each(c,function(t,e){var n="scroll-scroll"+t+"_visible",i="x"==t?c.y:c.x;e.scroll.removeClass(n),i.scroll.removeClass(n),s.removeClass(n)}),t.each(c,function(e,n){t.extend(n,"x"==e?{offset:parseInt(o.css("left"),10)||0,size:o.prop("scrollWidth"),visible:u.width()}:{offset:parseInt(o.css("top"),10)||0,size:o.prop("scrollHeight"),visible:u.height()})}),this._updateScroll("x",this.scrollx),this._updateScroll("y",this.scrolly),t.isFunction(l.onUpdate)&&l.onUpdate.apply(this,[o]),t.each(c,function(t,e){var n="x"===t?"left":"top",i="x"===t?"outerWidth":"outerHeight",r="x"===t?"width":"height",s=parseInt(o.css(n),10)||0,a=e.size,c=e.visible+s,u=e.scroll.size[i]()+(parseInt(e.scroll.size.css(n),10)||0);l.autoScrollSize&&(e.scrollbarSize=parseInt(u*c/a,10),e.scroll.bar.css(r,e.scrollbarSize+"px")),e.scrollbarSize=e.scroll.bar[i](),e.kx=(u-e.scrollbarSize)/(a-c)||1,e.maxScrollOffset=a-c}),o.scrollLeft(d.scrollLeft).scrollTop(d.scrollTop).trigger("scroll")},_getScroll:function(e){var n={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};return n[e]&&(e=n[e]),e||(e=n.simple),e="string"==typeof e?t(e).appendTo(this.wrapper):t(e),t.extend(e,{bar:e.find(".scroll-bar"),size:e.find(".scroll-element_size"),track:e.find(".scroll-element_track")}),e},_handleMouseDown:function(e,n){var i=this.namespace;return t(document).on("blur"+i,function(){t(document).add("body").off(i),e&&e()}),t(document).on("dragstart"+i,function(t){return t.preventDefault(),!1}),t(document).on("mouseup"+i,function(){t(document).add("body").off(i),e&&e()}),t("body").on("selectstart"+i,function(t){return t.preventDefault(),!1}),n&&n.preventDefault(),!1},_updateScroll:function(e,n){var i=this.container,o=this.containerWrapper||i,s="scroll-scroll"+e+"_visible",a="x"===e?this.scrolly:this.scrollx,l=parseInt(this.container.css("x"===e?"left":"top"),10)||0,c=this.wrapper,u=n.size,h=n.visible+l;n.isVisible=u-h>1,n.isVisible?(n.scroll.addClass(s),a.scroll.addClass(s),o.addClass(s)):(n.scroll.removeClass(s),a.scroll.removeClass(s),o.removeClass(s)),"y"===e&&(i.is("textarea")||u<h?o.css({height:h+r.scroll.height+"px","max-height":"none"}):o.css({"max-height":h+r.scroll.height+"px"})),n.size==i.prop("scrollWidth")&&a.size==i.prop("scrollHeight")&&n.visible==c.width()&&a.visible==c.height()&&n.offset==(parseInt(i.css("left"),10)||0)&&a.offset==(parseInt(i.css("top"),10)||0)||(t.extend(this.scrollx,{offset:parseInt(i.css("left"),10)||0,size:i.prop("scrollWidth"),visible:c.width()}),t.extend(this.scrolly,{offset:parseInt(i.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:c.height()}),this._updateScroll("x"===e?"y":"x",a))}};var a=s;t.fn.scrollbar=function(e,n){return"string"!=typeof e&&(n=e,e="init"),void 0===n&&(n=[]),t.isArray(n)||(n=[n]),this.not("body, .scroll-wrapper").each(function(){var i=t(this),o=i.data(r.data.name);(o||"init"===e)&&(o||(o=new a(i)),o[e]&&o[e].apply(o,n))}),this},t.fn.scrollbar.options=o;var l=function(){var t=0,e=0;return function(n){var i,o,s,a,c,u,h;for(i=0;i<r.scrolls.length;i++)a=r.scrolls[i],o=a.container,s=a.options,c=a.wrapper,u=a.scrollx,h=a.scrolly,(n||s.autoUpdate&&c&&c.is(":visible")&&(o.prop("scrollWidth")!=u.size||o.prop("scrollHeight")!=h.size||c.width()!=u.visible||c.height()!=h.visible))&&(a.init(),s.debug&&(window.console&&console.log({scrollHeight:o.prop("scrollHeight")+":"+a.scrolly.size,scrollWidth:o.prop("scrollWidth")+":"+a.scrollx.size,visibleHeight:c.height()+":"+a.scrolly.visible,visibleWidth:c.width()+":"+a.scrollx.visible},!0),e++));clearTimeout(t),t=setTimeout(l,300)}}();window.angular&&function(t){t.module("jQueryScrollbar",[]).provider("jQueryScrollbar",function(){var e=o;return{setOptions:function(n){t.extend(e,n)},$get:function(){return{options:t.copy(e)}}}}).directive("jqueryScrollbar",["jQueryScrollbar","$parse",function(t,e){return{restrict:"AC",link:function(n,i,r){var o=e(r.jqueryScrollbar)(n);i.scrollbar(o||t.options).on("$destroy",function(){i.scrollbar("destroy")})}}}])}(window.angular)}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?n=e:e={};var t,n,i;!function(e){function r(t,e){return w.call(t,e)}function o(t,e){var n,i,r,o,s,a,l,c,u,h,d,f=e&&e.split("/"),p=y.map,g=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(s=(t=t.split("/")).length-1,y.nodeIdCompat&&_.test(t[s])&&(t[s]=t[s].replace(_,"")),t=f.slice(0,f.length-1).concat(t),u=0;u<t.length;u+=1)if("."===(d=t[u]))t.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||g)&&p){for(u=(n=t.split("/")).length;u>0;u-=1){if(i=n.slice(0,u).join("/"),f)for(h=f.length;h>0;h-=1)if((r=p[f.slice(0,h).join("/")])&&(r=r[i])){o=r,a=u;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function s(t,n){return function(){var i=x.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),f.apply(e,i.concat([t,n]))}}function a(t){return function(e){return o(e,t)}}function l(t){return function(e){m[t]=e}}function c(t){if(r(v,t)){var n=v[t];delete v[t],b[t]=!0,d.apply(e,n)}if(!r(m,t)&&!r(b,t))throw new Error("No "+t);return m[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function h(t){return function(){return y&&y.config&&y.config[t]||{}}}var d,f,p,g,m={},v={},y={},b={},w=Object.prototype.hasOwnProperty,x=[].slice,_=/\.js$/;p=function(t,e){var n,i=u(t),r=i[0];return t=i[1],r&&(r=o(r,e),n=c(r)),r?t=n&&n.normalize?n.normalize(t,a(e)):o(t,e):(t=o(t,e),i=u(t),r=i[0],t=i[1],r&&(n=c(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},g={require:function(t){return s(t)},exports:function(t){var e=m[t];return void 0!==e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:h(t)}}},d=function(t,n,i,o){var a,u,h,d,f,y,w=[],x=typeof i;if(o=o||t,"undefined"===x||"function"===x){for(n=!n.length&&i.length?["require","exports","module"]:n,f=0;f<n.length;f+=1)if(d=p(n[f],o),"require"===(u=d.f))w[f]=g.require(t);else if("exports"===u)w[f]=g.exports(t),y=!0;else if("module"===u)a=w[f]=g.module(t);else if(r(m,u)||r(v,u)||r(b,u))w[f]=c(u);else{if(!d.p)throw new Error(t+" missing "+u);d.p.load(d.n,s(o,!0),l(u),{}),w[f]=m[u]}h=i?i.apply(m[t],w):void 0,t&&(a&&a.exports!==e&&a.exports!==m[t]?m[t]=a.exports:h===e&&y||(m[t]=h))}else t&&(m[t]=i)},t=n=f=function(t,n,i,r,o){if("string"==typeof t)return g[t]?g[t](n):c(p(t,n).f);if(!t.splice){if((y=t).deps&&f(y.deps,y.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?d(e,t,n,i):setTimeout(function(){d(e,t,n,i)},4),f},f.config=function(t){return f(t)},t._defined=m,(i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),r(m,t)||r(v,t)||(v[t]=[t,e,n])}).amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=i}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e)"function"==typeof e[i]&&"constructor"!==i&&n.push(i);return n}var n={};n.Extend=function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},n.Decorate=function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,r=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}var r=e(n),o=e(t);n.displayName=t.displayName,i.prototype=new function(){this.constructor=i};for(var s=0;s<o.length;s++){var a=o[s];i.prototype[a]=t.prototype[a]}for(var l=0;l<r.length;l++){var c=r[l];i.prototype[c]=function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var r=n.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),r.apply(this,arguments)}}(c)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;i>n;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;t>n;n++)e+=Math.floor(36*Math.random()).toString(36);return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);i.append(n(r(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],r=this.option(i);e.push(r)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var e=t(this),n=t.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]);for(var r in i){var o=i[r];n.setAttribute(r,o)}if(e.children){var s=t(n),a=document.createElement("strong");a.className="select2-results__group",t(a),this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],h=this.option(u);l.push(h)}var d=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});d.append(l),s.append(a),s.append(d)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e,n){var i=this,r=e.id+"-results";this.$results.attr("id",r),e.on("results:all",function(t){i.clear(),i.append(t.data),e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("results:append",function(t){i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("query",function(t){i.hideMessages(),i.showLoading(t)}),e.on("select",function(){e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),e.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var r=n-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var s=i.$results.offset().top,a=o.offset().top,l=i.$results.scrollTop()+(a-s);0===r?i.$results.scrollTop(0):0>a-s&&i.$results.scrollTop(l)}}),e.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var r=e.eq(n);r.trigger("mouseenter");var o=i.$results.offset().top+i.$results.outerHeight(!1),s=r.offset().top+r.outerHeight(!1),a=i.$results.scrollTop()+s-o;0===n?i.$results.scrollTop(0):s>o&&i.$results.scrollTop(a)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&n<=i.$results.height();r?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var n=t(this),r=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:e,data:r}):i.trigger("close",{})):void i.trigger("select",{originalEvent:e,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var n=t(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,r=this.$results.scrollTop()+(i-n),o=i-n;r-=2*t.outerHeight(!1),2>=e?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):t(n).append(o)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t,e){var i=this,r=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),t.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target).closest(".select2");t(".select2.select2-container--open").each(function(){var e=t(this);this!=n[0]&&e.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(t,e){var n=this;r.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||n.$selection.focus()}),t.on("selection:update",function(t){n.update(t.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,n){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!r.options.get("disabled")){var n=t(this).parent().data("data");r.trigger("unselect",{originalEvent:e,data:n})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=this.selectionContainer(),s=this.display(r,o);o.append(s),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");n.appendMany(a,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),r=0;r<i.length;r++){var o={data:i[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||(n.which==e.DELETE||n.which==e.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var r=this;t.call(this,e,i),e.on("open",function(){r.$search.trigger("focus")}),e.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),e.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),e.on("disable",function(){r.$search.prop("disabled",!0)}),e.on("focus",function(t){r.$search.trigger("focus")}),e.on("results:focus",function(t){r.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===r.$search.val()){var e=r.$searchContainer.prev(".select2-selection__choice");if(e.length>0){var i=e.data("data");r.searchRemoveChoice(i),t.preventDefault()}}});var o=document.documentMode,s=o&&11>=o;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return s?void r.$selection.off("input.search input.searchcheck"):void r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)}})},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,o)){n=n||{};var i=t.Event("select2:"+e,{params:n});r.$element.trigger(i),-1!==t.inArray(e,s)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),e.define("select2/data/base",["../utils"],function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),r=i.item(t);e.push(r)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];(t=[t]).push.apply(t,i);for(var o=0;o<t.length;o++){var s=t[o].id;-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,n(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var r=[],o=0;o<i.length;o++){var s=i[o].id;s!==t.id&&-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")})},i.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],r=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),s=r.matches(t,o);null!==s&&i.push(s)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),r=this._normalizeItem(t);return r.element=e,n.data(e,"data",r),i},i.prototype.item=function(t){var e={};if(null!=(e=n.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),r=[],o=0;o<i.length;o++){var s=n(i[o]),a=this.item(s);r.push(a)}e.children=r}return e=this._normalizeItem(e),e.element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t});var e={selected:!1,disabled:!1};return null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){for(var i=this,r=this.$element.find("option"),o=r.map(function(){return i.item(n(this)).id}).get(),s=[],a=0;a<t.length;a++){var l=this._normalizeItem(t[a]);if(n.inArray(l.id,o)>=0){var c=r.filter(function(t){return function(){return n(this).val()==t.id}}(l)),u=this.item(c),h=n.extend(!0,{},l,u),d=this.option(h);c.replaceWith(d)}else{var f=this.option(l);if(l.children){var p=this.convertToOptions(l.children);e.appendMany(f,p)}s.push(f)}}return s},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var r=n.ajax(t);return r.then(e),r.fail(i),r}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=o.transport(o,function(i){var o=r.processResults(i,t);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)},function(){i.status&&"0"===i.status||r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,n,i),t.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){function i(t,o){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!i({results:l.children},!0);if(l.text===e.term||c)return!o&&(t.data=s,void n(t))}if(o)return!0;var u=r.createTag(e);if(null!=u){var h=r.option(u);h.attr("data-select2-tag",!0),r.addOptions([h]),r.insertTag(s,u)}t.results=s,n(t)}var r=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,n):void t.call(this,e,i)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){function r(t){o.trigger("select",{data:t})}var o=this;n.term=n.term||"";var s=this.tokenizer(n,this.options,function(e){var n=o._normalizeItem(e);if(!o.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=o.option(n);i.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([i])}r(n)});s.term!==n.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),n.term=s.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,r){for(var o=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var c=s[a];if(-1!==t.inArray(c,o)){var u=s.substr(0,a),h=l(t.extend({},n,{term:u}));null!=h?(r(h),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(r){var o=null!=r?r.length:0;return i.maximumSelectionLength>0&&o>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("focus",function(){n.isOpen()&&r.$search.focus()}),n.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(r.showSearch(t)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))})},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),n.on("query",function(t){r.lastParams=t,r.loading=!0}),n.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);!r.loading&&e&&r.$results.offset().top+r.$results.outerHeight(!1)+50>=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1)&&r.loadMore()})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,r=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(o,function(e){var n=t(this).data("select2-scroll-position");t(this).scrollTop(n.y)}),t(window).on(o+" "+s+" "+a,function(t){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(r),t(window).off(r+" "+o+" "+s)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<o.top-a.height,u=l.bottom>o.bottom+a.height,h={left:o.left,top:s.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var f=d.offset();h.top-=f.top,h.left-=f.left,n||i||(r="below"),u||!c||n?!c&&u&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(h.top=s.top-f.top-a.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w,x,_,C,S,k,E,T,A){function M(){this.reset()}return M.prototype.apply=function(h){if(null==(h=t.extend(!0,{},this.defaults,h)).dataAdapter){if(null!=h.ajax?h.dataAdapter=p:null!=h.data?h.dataAdapter=f:h.dataAdapter=d,h.minimumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,v)),h.maximumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,y)),h.maximumSelectionLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,b)),h.tags&&(h.dataAdapter=c.Decorate(h.dataAdapter,g)),(null!=h.tokenSeparators||null!=h.tokenizer)&&(h.dataAdapter=c.Decorate(h.dataAdapter,m)),null!=h.query){var A=e(h.amdBase+"compat/query");h.dataAdapter=c.Decorate(h.dataAdapter,A)}if(null!=h.initSelection){var M=e(h.amdBase+"compat/initSelection");h.dataAdapter=c.Decorate(h.dataAdapter,M)}}if(null==h.resultsAdapter&&(h.resultsAdapter=n,null!=h.ajax&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,C)),null!=h.placeholder&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,_)),h.selectOnClose&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,E))),null==h.dropdownAdapter){if(h.multiple)h.dropdownAdapter=w;else{var N=c.Decorate(w,x);h.dropdownAdapter=N}if(0!==h.minimumResultsForSearch&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,k)),h.closeOnSelect&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,T)),null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass){var D=e(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=c.Decorate(h.dropdownAdapter,D)}h.dropdownAdapter=c.Decorate(h.dropdownAdapter,S)}if(null==h.selectionAdapter){if(h.multiple?h.selectionAdapter=r:h.selectionAdapter=i,null!=h.placeholder&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,o)),h.allowClear&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,s)),h.multiple&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,a)),null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass){var I=e(h.amdBase+"compat/containerCss");h.selectionAdapter=c.Decorate(h.selectionAdapter,I)}h.selectionAdapter=c.Decorate(h.selectionAdapter,l)}if("string"==typeof h.language)if(h.language.indexOf("-")>0){var L=h.language.split("-")[0];h.language=[h.language,L]}else h.language=[h.language];if(t.isArray(h.language)){var P=new u;h.language.push("en");for(var O=h.language,R=0;R<O.length;R++){var H=O[R],F={};try{F=u.loadPath(H)}catch(t){try{H=this.defaults.amdLanguageBase+H,F=u.loadPath(H)}catch(t){h.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+H+'" could not be automatically loaded. A fallback will be used instead.');continue}}P.extend(F)}h.translations=P}else{var z=u.loadPath(this.defaults.amdLanguageBase+"en"),B=new u(h.language);B.extend(z),h.translations=B}return h},M.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return h[t]||t})}function n(i,r){if(""===t.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),s=r.children.length-1;s>=0;s--)null==n(i,r.children[s])&&o.children.splice(s,1);return o.children.length>0?o:n(i,o)}var a=e(r.text).toUpperCase(),l=e(i.term).toUpperCase();return a.indexOf(l)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:A,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},M.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var r=c._convertData(i);t.extend(this.defaults,r)},new M}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r={};r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var o=e.extend(!0,{},r);o=i._convertData(o);for(var s in o)e.inArray(s,n)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],o[s]):this.options[s]=o[s]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var r=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),r.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return 0>=r?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;l>a;a+=1){var c=s[a].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._syncA),t.each(n,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,r){-1===t.inArray(i,n)&&e.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var r=0;r<e.addedNodes.length;r++)e.addedNodes[r].selected&&(n=!0);else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},r.prototype.trigger=function(t,e){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var o=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,o,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},r}),e.define("select2/compat/utils",["jquery"],function(t){return{syncCssClasses:function(e,n,i){var r,o,s=[];(r=t.trim(e.attr("class")))&&(r=""+r,t(r.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)})),(r=t.trim(n.attr("class")))&&(r=""+r,t(r.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=i(this))&&s.push(o)})),e.attr("class",s.join(" "))}}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("containerCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var s=this.options.get("adaptContainerCssClass");if(s=s||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var a=s;s=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,s),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("dropdownCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var s=this.options.get("adaptDropdownCssClass");if(s=s||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var a=s;s=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,s),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,t.call(this,e,n)}return e.prototype.current=function(e,n){var i=this;return this._isInitialized?void e.call(this,n):void this.initSelection.call(null,this.$element,function(e){i._isInitialized=!0,t.isArray(e)||(e=[e]),n(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(t){function e(t,e,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===e.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,n)}return e.prototype.current=function(e,n){function i(e,n){var r=[];return e.selected||-1!==t.inArray(e.id,n)?(e.selected=!0,r.push(e)):e.selected=!1,e.children&&r.push.apply(r,i(e.children,n)),r}for(var r=[],o=0;o<this._currentData.length;o++){var s=this._currentData[o];r.push.apply(r,i(s,this.$element.val().split(this._valueSeparator)))}n(r)},e.prototype.select=function(e,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},e.prototype.unselect=function(t,e){var n=this;e.selected=!1,this.current(function(t){for(var i=[],r=0;r<t.length;r++){var o=t[r];e.id!=o.id&&i.push(o.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},e.prototype.query=function(t,e,n){for(var i=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r],s=this.matches(e,o);null!==s&&i.push(s)}n({results:i})},e.prototype.addOptions=function(e,n){var i=t.map(n,function(e){return t.data(e[0],"data")});this._currentData.push.apply(this._currentData,i)},e}),e.define("select2/compat/matcher",["jquery"],function(t){return function(e){return function(n,i){var r=t.extend(!0,{},i);if(null==n.term||""===t.trim(n.term))return r;if(i.children){for(var o=i.children.length-1;o>=0;o--){var s=i.children[o];e(n.term,s.text,s)||r.children.splice(o,1)}if(r.children.length>0)return r}return e(n.term,i.text,i)?r:null}}}),e.define("select2/compat/query",[],function(){function t(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.callback=n,this.options.get("query").call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,n){t.call(this,e,n)}return t.prototype.position=function(t,e,n){n.find(".dropdown-wrapper").append(e),e.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(i.join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(i.join(" "),function(t){t.stopPropagation()})},t}),function(n){"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(t)}(function(t){function e(e){var s=e||window.event,a=l.call(arguments,1),c=0,h=0,d=0,f=0,p=0,g=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(h=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(h=-1*d,d=0),c=0===d?h:d,"deltaY"in s&&(d=-1*s.deltaY,c=d),"deltaX"in s&&(h=s.deltaX,0===d&&(c=-1*h)),0!==d||0!==h){if(1===s.deltaMode){var m=t.data(this,"mousewheel-line-height");c*=m,d*=m,h*=m}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,d*=v,h*=v}if(f=Math.max(Math.abs(d),Math.abs(h)),(!o||o>f)&&(o=f,i(s,f)&&(o/=40)),i(s,f)&&(c/=40,h/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/o),h=Math[h>=1?"floor":"ceil"](h/o),d=Math[d>=1?"floor":"ceil"](d/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=e.clientX-y.left,g=e.clientY-y.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=o,e.offsetX=p,e.offsetY=g,e.deltaMode=0,a.unshift(e,c,h,d),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){o=null}function i(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var r,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=n[e].apply(n,o)}),t.inArray(e,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(t){"use strict";function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function n(t,e){(i(t,e)?o:r)(t,e)}var i,r,o;"classList"in document.documentElement?(i=function(t,e){return t.classList.contains(e)},r=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(i=function(t,n){return e(n).test(t.className)},r=function(t,e){i(t,e)||(t.className=t.className+" "+e)},o=function(t,n){t.className=t.className.replace(e(n)," ")});var s={hasClass:i,addClass:r,removeClass:o,toggleClass:n,has:i,add:r,remove:o,toggle:n};"function"==typeof define&&define.amd?define(s):t.classie=s}(window),function(){function t(e){var n=t.modules[e];if(!n)throw new Error('failed to require "'+e+'"');return"exports"in n||"function"!=typeof n.definition||(n.client=n.component=!0,n.definition.call(this,n.exports={},n),delete n.definition),n.exports}t.loader="component",t.helper={},t.helper.semVerSort=function(t,e){for(var n=t.version.split("."),i=e.version.split("."),r=0;r<n.length;++r){var o=parseInt(n[r],10),s=parseInt(i[r],10);if(o!==s)return o>s?1:-1;var a=n[r].substr((""+o).length),l=i[r].substr((""+s).length);if(""===a&&""!==l)return 1;if(""!==a&&""===l)return-1;if(""!==a&&""!==l)return a>l?1:-1}return 0},t.latest=function(e,n){function i(t){throw new Error('failed to find latest module of "'+t+'"')}var r=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/;/(.*)~(.*)/.test(e)||i(e);for(var o=Object.keys(t.modules),s=[],a=[],l=0;l<o.length;l++){var c=o[l];if(new RegExp(e+"@").test(c)){var u=c.substr(e.length+1);null!=r.exec(c)?s.push({version:u,name:c}):a.push({version:u,name:c})}}if(0===s.concat(a).length&&i(e),s.length>0){h=s.sort(t.helper.semVerSort).pop().name;return!0===n?h:t(h)}var h=a.pop().name;return!0===n?h:t(h)},t.modules={},t.register=function(e,n){t.modules[e]={definition:n}},t.define=function(e,n){t.modules[e]={exports:n}},t.register("abpetkov~transitionize@0.0.3",function(t,e){function n(t,e){if(!(this instanceof n))return new n(t,e);this.element=t,this.props=e||{},this.init()}e.exports=n,n.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},n.prototype.init=function(){var t=[];for(var e in this.props)t.push(e+" "+this.props[e]);this.element.style.transition=t.join(", "),this.isSafari()&&(this.element.style.webkitTransition=t.join(", "))}}),t.register("ftlabs~fastclick@v0.6.11",function(t,e){function n(t){"use strict";var e,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return n.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return n.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return n.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return n.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return n.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return n.prototype.onTouchCancel.apply(i,arguments)},n.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}n.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,n.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),n.prototype.deviceIsIOS4=n.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),n.prototype.deviceIsIOSWithBadTarget=n.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),n.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},n.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){"use strict";var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],this.deviceIsIOS){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},n.prototype.onTouchMove=function(t){"use strict";return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},n.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){"use strict";var e,n,i,r,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(o=t.changedTouches[0],(s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=s.tagName.toLowerCase())){if(e=this.findControl(s)){if(this.focus(s),this.deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(s),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return!(!this.deviceIsIOS||this.deviceIsIOS4||!(r=s.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},n.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){"use strict";return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},n.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},n.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){"use strict";var e,i;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction},n.attach=function(t){"use strict";return new n(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return n}):void 0!==e&&e.exports?(e.exports=n.attach,e.exports.FastClick=n):window.FastClick=n}),t.register("component~indexof@0.0.3",function(t,e){e.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}}),t.register("component~classes@1.2.1",function(e,n){function i(t){if(!t)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var r=t("component~indexof@0.0.3"),o=/\s+/,s=Object.prototype.toString;n.exports=function(t){return new i(t)},i.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~r(e,t)||e.push(t),this.el.className=e.join(" "),this},i.prototype.remove=function(t){if("[object RegExp]"==s.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=r(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},i.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},i.prototype.toggle=function(t,e){return this.list?(void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):(void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},i.prototype.array=function(){var t=this.el.className.replace(/^\s+|\s+$/g,"").split(o);return""===t[0]&&t.shift(),t},i.prototype.has=i.prototype.contains=function(t){return this.list?this.list.contains(t):!!~r(this.array(),t)}}),t.register("switchery",function(e,n){function i(t,e){if(!(this instanceof i))return new i(t,e);this.element=t,this.options=e||{};for(var n in a)null==this.options[n]&&(this.options[n]=a[n]);null!=this.element&&"checkbox"==this.element.type&&this.init()}var r=t("abpetkov~transitionize@0.0.3"),o=t("ftlabs~fastclick@v0.6.11"),s=t("component~classes@1.2.1");n.exports=i;var a={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};i.prototype.hide=function(){this.element.style.display="none"},i.prototype.show=function(){var t=this.create();this.insertAfter(this.element,t)},i.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.switcher},i.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},i.prototype.isChecked=function(){return this.element.checked},i.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},i.prototype.setPosition=function(t){var e=this.isChecked(),n=this.switcher,i=this.jack;t&&e?e=!1:t&&!e&&(e=!0),!0===e?(this.element.checked=!0,window.getComputedStyle?i.style.left=parseInt(window.getComputedStyle(n).width)-parseInt(window.getComputedStyle(i).width)+"px":i.style.left=parseInt(n.currentStyle.width)-parseInt(i.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(i.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==a.secondaryColor?this.options.secondaryColor:"#fff",this.jack.style.backgroundColor=this.options.jackColor,this.setSpeed())},i.prototype.setSpeed=function(){var t={},e={left:this.options.speed.replace(/[a-z]/,"")/2+"s"};t=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},r(this.switcher,t),r(this.jack,e)},i.prototype.setSize=function(){switch(this.options.size){case"small":s(this.switcher).add("switchery-small");break;case"large":s(this.switcher).add("switchery-large");break;default:s(this.switcher).add("switchery-default")}},i.prototype.colorize=function(){var t=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+t+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},i.prototype.handleOnchange=function(t){if(document.dispatchEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!0),this.element.dispatchEvent(e)}else this.element.fireEvent("onchange")},i.prototype.handleChange=function(){var t=this,e=this.element;e.addEventListener?e.addEventListener("change",function(){t.setPosition()}):e.attachEvent("onchange",function(){t.setPosition()})},i.prototype.handleClick=function(){var t=this,e=this.switcher,n="label"!==t.element.parentNode.tagName.toLowerCase();!1===this.isDisabled()?(o(e),e.addEventListener?e.addEventListener("click",function(e){t.setPosition(n),t.handleOnchange(t.element.checked)}):e.attachEvent("onclick",function(){t.setPosition(n),t.handleOnchange(t.element.checked)})):(this.element.disabled=!0,this.switcher.style.opacity=this.options.disabledOpacity)},i.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},i.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},i.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()}}),"object"==typeof exports?module.exports=t("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return t("switchery")}):(this||window).Switchery=t("switchery")}(),d3=function(){function t(t){return null!=t&&!isNaN(t)}function e(t){return t.length}function n(t){for(var e=1;t*e%1;)e*=10;return e}function i(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(n){t.prototype=e}}function r(){}function o(){}function s(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function a(){}function l(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new r;return e.on=function(e,r){var o,s=i.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function c(){Tr.event.stopPropagation(),Tr.event.preventDefault()}function u(){for(var t,e=Tr.event;t=e.sourceEvent;)e=t;return e}function h(t,e){function n(){t.on(e,null)}t.on(e,function(){c(),n()},!0),setTimeout(n,0)}function d(t){for(var e=new a,n=0,i=arguments.length;++n<i;)e[arguments[n]]=l(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=Tr.event;r.target=t,Tr.event=r,e[r.type].apply(n,i)}finally{Tr.event=o}}},e}function f(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>Or&&(Mr.scrollX||Mr.scrollY)){var r=(n=Tr.select(Ar.body).append("svg").style("position","absolute").style("top",0).style("left",0))[0][0].getScreenCTM();Or=!(r.f||r.e),n.remove()}return Or?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function p(t){return Hr(t,$r),t}function g(t){return function(){return Fr(t,this)}}function m(t){return function(){return zr(t,this)}}function v(t,e){return t=Tr.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function y(t){return t.trim().replace(/\s+/g," ")}function w(t){return new RegExp("(?:^|\\s+)"+Tr.requote(t)+"(?:\\s+|$)","g")}function x(t,e){var n=(t=t.trim().split(/\s+/).map(_)).length;return"function"==typeof e?function(){for(var i=-1,r=e.apply(this,arguments);++i<n;)t[i](this,r)}:function(){for(var i=-1;++i<n;)t[i](this,e)}}function _(t){var e=w(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",y(r+" "+t))):n.setAttribute("class",y(r.replace(e," ")))}}function C(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}:function(){this.style.setProperty(t,e,n)}}function S(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function k(t){return{__data__:t}}function E(t){return function(){return jr(this,t)}}function T(t){return arguments.length||(t=Tr.ascending),function(e,n){return!e-!n||t(e.__data__,n.__data__)}}function A(){}function M(t,e,n){function i(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}var r="__on"+t,o=t.indexOf("."),s=N;o>0&&(t=t.substring(0,o));var a=Vr.get(t);return a&&(t=a,s=D),o?e?function(){var o=s(e,Rr(arguments));i.call(this),this.addEventListener(t,this[r]=o,o.$=n),o._=e}:i:e?A:function(){var e,n=new RegExp("^__on([^.]+)"+Tr.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}}function N(t,e){return function(n){var i=Tr.event;Tr.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Tr.event=i}}}function D(t,e){var n=N(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function I(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],s=0,a=o.length;a>s;s++)(r=o[s])&&e(r,s,n);return t}function L(t){return Hr(t,Yr),t}function P(){}function O(t,e,n){return new R(t,e,n)}function R(t,e,n){this.h=t,this.s=e,this.l=n}function H(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(s-o)*t/60:180>t?s:240>t?o+(s-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,s;return 0>(t%=360)&&(t+=360),e=0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+e):n+e-n*e,o=2*n-s,tt(r(t+120),r(t),r(t-120))}function F(t){return t>0?1:0>t?-1:0}function z(t){return Math.acos(Math.max(-1,Math.min(1,t)))}function B(t){return t>1?Jr/2:-1>t?-Jr/2:Math.asin(t)}function W(t){return(Math.exp(t)-Math.exp(-t))/2}function j(t){return(Math.exp(t)+Math.exp(-t))/2}function $(t){return(t=Math.sin(t/2))*t}function q(t,e,n){return new U(t,e,n)}function U(t,e,n){this.h=t,this.c=e,this.l=n}function V(t,e,n){return Y(n,Math.cos(t*=eo)*e,Math.sin(t)*e)}function Y(t,e,n){return new X(t,e,n)}function X(t,e,n){this.l=t,this.a=e,this.b=n}function G(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=Q(r)*oo,i=Q(i)*so,o=Q(o)*ao,tt(J(3.2404542*r-1.5371385*i-.4985314*o),J(-.969266*r+1.8760108*i+.041556*o),J(.0556434*r-.2040259*i+1.0572252*o))}function K(t,e,n){return q(Math.atan2(n,e)*no,Math.sqrt(e*e+n*n),t)}function Q(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function Z(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function J(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function tt(t,e,n){return new et(t,e,n)}function et(t,e,n){this.r=t,this.g=e,this.b=n}function nt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function it(t,e,n){var i,r,o,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(at(r[0]),at(r[1]),at(r[2]))}return(o=uo.get(t))?e(o.r,o.g,o.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(s=t.charAt(1),s+=s,a=t.charAt(2),a+=a,l=t.charAt(3),l+=l):7===t.length&&(s=t.substring(1,3),a=t.substring(3,5),l=t.substring(5,7)),s=parseInt(s,16),a=parseInt(a,16),l=parseInt(l,16)),e(s,a,l))}function rt(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,l=(s+o)/2;return a?(r=.5>l?a/(s+o):a/(2-s-o),i=t==s?(e-n)/a+(n>e?6:0):e==s?(n-t)/a+2:(t-e)/a+4,i*=60):r=i=0,O(i,r,l)}function ot(t,e,n){var i=Z((.4124564*(t=st(t))+.3575761*(e=st(e))+.1804375*(n=st(n)))/oo),r=Z((.2126729*t+.7151522*e+.072175*n)/so);return Y(116*r-16,500*(i-r),200*(r-Z((.0193339*t+.119192*e+.9503041*n)/ao)))}function st(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function at(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function lt(t){return"function"==typeof t?t:function(){return t}}function ct(t){return t}function ut(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function ht(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var s=Tr.xhr(t,e,o);return s.row=function(t){return arguments.length?s.response(null==(n=t)?i:r(t)):n},s.row(n)}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function s(e){return e.map(a).join(t)}function a(t){return l.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var l=new RegExp('["'+t+"\n]"),c=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(u>=l)return s;if(r)return r=!1,o;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(i=t.charCodeAt(n+1))?(r=!0,10===t.charCodeAt(n+2)&&++u):10===i&&(r=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;l>u;){var i=t.charCodeAt(u++),a=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(u)&&(++u,++a);else if(i!==c)continue;return t.substring(e,u-a)}return t.substring(e)}for(var i,r,o={},s={},a=[],l=t.length,u=0,h=0;(i=n())!==s;){for(var d=[];i!==o&&i!==s;)d.push(i),i=n();(!e||(d=e(d,h++)))&&a.push(d)}return a},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new o,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(a).join(t)].concat(e.map(function(e){return r.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(s).join("\n")},n}function dt(){for(var t,e=Date.now(),n=mo;n;)(t=e-n.then)>=n.delay&&(n.flush=n.callback(t)),n=n.next;var i=ft()-e;i>24?(isFinite(i)&&(clearTimeout(fo),fo=setTimeout(dt,i)),ho=0):(ho=1,vo(dt))}function ft(){for(var t=null,e=mo,n=1/0;e;)e.flush?(delete go[e.callback.id],e=t?t.next=e.next:mo=e.next):(n=Math.min(n,e.then+e.delay),e=(t=e).next);return n}function pt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function gt(t){return t+""}function mt(t,e){t&&ko.hasOwnProperty(t.type)&&ko[t.type](t,e)}function vt(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1]);e.lineEnd()}function yt(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)vt(t[n],e,1);e.polygonEnd()}function bt(){function t(t,e){e=e*eo/2+Jr/4;var n=(t*=eo)-i,s=Math.cos(e),a=Math.sin(e),l=o*a,c=To,u=Ao,h=r*s+l*Math.cos(n),d=l*Math.sin(n);To=c*h-u*d,Ao=u*h+c*d,i=t,r=s,o=a}var e,n,i,r,o;Mo.point=function(s,a){Mo.point=t,i=(e=s)*eo,r=Math.cos(a=(n=a)*eo/2+Jr/4),o=Math.sin(a)},Mo.lineEnd=function(){t(e,n)}}function wt(t){function e(t,e){i>t&&(i=t),t>o&&(o=t),r>e&&(r=e),e>s&&(s=e)}function n(){a.point=a.lineEnd=A}var i,r,o,s,a={point:e,lineStart:A,lineEnd:A,polygonStart:function(){a.lineEnd=n},polygonEnd:function(){a.point=e}};return function(e){return s=o=-(i=r=1/0),Tr.geo.stream(e,t(a)),[[i,r],[o,s]]}}function xt(t,e){if(!No){++Do,t*=eo;var n=Math.cos(e*=eo);Io+=(n*Math.cos(t)-Io)/Do,Lo+=(n*Math.sin(t)-Lo)/Do,Po+=(Math.sin(e)-Po)/Do}}function _t(){var t,e;No=1,Ct(),No=2;var n=Oo.point;Oo.point=function(i,r){n(t=i,e=r)},Oo.lineEnd=function(){Oo.point(t,e),St(),Oo.lineEnd=St}}function Ct(){function t(t,r){t*=eo;var o=Math.cos(r*=eo),s=o*Math.cos(t),a=o*Math.sin(t),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=n*l-i*a)*c+(c=i*s-e*l)*c+(c=e*a-n*s)*c),e*s+n*a+i*l);Do+=c,Io+=c*(e+(e=s)),Lo+=c*(n+(n=a)),Po+=c*(i+(i=l))}var e,n,i;No>1||(1>No&&(No=1,Do=Io=Lo=Po=0),Oo.point=function(r,o){r*=eo;var s=Math.cos(o*=eo);e=s*Math.cos(r),n=s*Math.sin(r),i=Math.sin(o),Oo.point=t})}function St(){Oo.point=xt}function kt(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function Et(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Tt(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function At(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Mt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Nt(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Dt(){return!0}function It(t){return[Math.atan2(t[1],t[0]),Math.asin(Math.max(-1,Math.min(1,t[2])))]}function Lt(t,e){return Math.abs(t[0]-e[0])<to&&Math.abs(t[1]-e[1])<to}function Pt(t,e,n,i,r){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Lt(n,i)){r.lineStart();for(var a=0;e>a;++a)r.point((n=t[a])[0],n[1]);return void r.lineEnd()}var l={point:n,points:t,other:null,visited:!1,entry:!0,subject:!0},c={point:n,points:[n],other:l,visited:!1,entry:!1,subject:!1};l.other=c,o.push(l),s.push(c),c={point:i,points:[i],other:l={point:i,points:[i],other:null,visited:!1,entry:!1,subject:!0},visited:!1,entry:!0,subject:!1},l.other=c,o.push(l),s.push(c)}}),s.sort(e),Ot(o),Ot(s),o.length){if(n)for(var a=1,l=!n(s[0].point),c=s.length;c>a;++a)s[a].entry=l=!l;for(var u,h,d,f=o[0];;){for(u=f;u.visited;)if((u=u.next)===f)return;h=u.points,r.lineStart();do{if(u.visited=u.other.visited=!0,u.entry){if(u.subject)for(a=0;a<h.length;a++)r.point((d=h[a])[0],d[1]);else i(u.point,u.next.point,1,r);u=u.next}else{if(u.subject)for(a=(h=u.prev.points).length;--a>=0;)r.point((d=h[a])[0],d[1]);else i(u.point,u.prev.point,-1,r);u=u.prev}h=(u=u.other).points}while(!u.visited);r.lineEnd()}}}function Ot(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.next=n=t[i],n.prev=r,r=n;r.next=n=t[0],n.prev=r}}function Rt(t,e,n){return function(i){function r(e,n){t(e,n)&&i.point(e,n)}function o(t,e){m.point(t,e)}function s(){v.point=o,m.lineStart()}function a(){v.point=r,m.lineEnd()}function l(t,e){b.point(t,e),g.push([t,e])}function c(){b.lineStart(),g=[]}function u(){l(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=y.buffer();if(!(o=n.length))return p=!0,f+=zt(g,-1),void(g=null);if(g=null,1&e){t=n[0],d+=zt(t,1);var r,o=t.length-1,s=-1;for(i.lineStart();++s<o;)i.point((r=t[s])[0],r[1]);i.lineEnd()}else o>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Ht))}var h,d,f,p,g,m=e(i),v={point:r,lineStart:s,lineEnd:a,polygonStart:function(){v.point=l,v.lineStart=c,v.lineEnd=u,p=!1,f=d=0,h=[],i.polygonStart()},polygonEnd:function(){v.point=r,v.lineStart=s,v.lineEnd=a,(h=Tr.merge(h)).length?Pt(h,Bt,null,n,i):(-to>d||p&&-to>f)&&(i.lineStart(),n(null,null,1,i),i.lineEnd()),i.polygonEnd(),h=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},y=Ft(),b=e(y);return v}}function Ht(t){return t.length>1}function Ft(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:A,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function zt(t,e){if(!(n=t.length))return 0;for(var n,i,r,o=0,s=0,a=t[0],l=a[0],c=a[1],u=Math.cos(c),h=Math.atan2(e*Math.sin(l)*u,Math.sin(c)),d=1-e*Math.cos(l)*u,f=h;++o<n;)a=t[o],u=Math.cos(c=a[1]),i=Math.atan2(e*Math.sin(l=a[0])*u,Math.sin(c)),r=1-e*Math.cos(l)*u,Math.abs(d-2)<to&&Math.abs(r-2)<to||(Math.abs(r)<to||Math.abs(d)<to||(Math.abs(Math.abs(i-h)-Jr)<to?r+d>2&&(s+=4*(i-h)):s+=Math.abs(d-2)<to?4*(i-f):((3*Jr+i-h)%(2*Jr)-Jr)*(d+r)),f=h,h=i,d=r);return s}function Bt(t,e){return((t=t.point)[0]<0?t[1]-Jr/2-to:Jr/2-t[1])-((e=e.point)[0]<0?e[1]-Jr/2-to:Jr/2-e[1])}function Wt(t,e,n,i){var r,o,s=Math.sin(t-n);return Math.abs(s)>to?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*s)):(e+i)/2}function jt(t){function e(t,e){return Math.cos(t)*Math.cos(e)>r}function n(t,e,n){var i=[1,0,0],o=Tt(kt(t),kt(e)),s=Et(o,o),a=o[0],l=s-a*a;if(!l)return!n&&t;var c=r*s/l,u=-r*a/l,h=Tt(i,o),d=Mt(i,c);At(d,Mt(o,u));var f=h,p=Et(d,f),g=Et(f,f),m=p*p-g*(Et(d,d)-1);if(!(0>m)){var v=Math.sqrt(m),y=Mt(f,(-p-v)/g);if(At(y,d),y=It(y),!n)return y;var b,w=t[0],x=e[0],_=t[1],C=e[1];w>x&&(b=w,w=x,x=b);var S=x-w,k=Math.abs(S-Jr)<to,E=k||to>S;if(!k&&_>C&&(b=_,_=C,C=b),E?k?_+C>0^y[1]<(Math.abs(y[0]-w)<to?_:C):_<=y[1]&&y[1]<=C:S>Jr^(w<=y[0]&&y[0]<=x)){var T=Mt(f,(-p+v)/g);return At(T,d),[y,It(T)]}}}function i(e,n){var i=o?t:Jr-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var r=Math.cos(t),o=r>0,s=Math.abs(r)>to;return Rt(e,function(t){var r,a,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(h,d){var f,p=[h,d],g=e(h,d),m=o?g?0:i(h,d):g?i(h+(0>h?Jr:-Jr),d):0;if(!r&&(c=l=g)&&t.lineStart(),g!==l&&(f=n(r,p),(Lt(r,f)||Lt(p,f))&&(p[0]+=to,p[1]+=to,g=e(p[0],p[1]))),g!==l)u=0,g?(t.lineStart(),f=n(p,r),t.point(f[0],f[1])):(f=n(r,p),t.point(f[0],f[1]),t.lineEnd()),r=f;else if(s&&r&&o^g){var v;m&a||!(v=n(p,r,!0))||(u=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||r&&Lt(r,p)||t.point(p[0],p[1]),r=p,l=g,a=m},lineEnd:function(){l&&t.lineEnd(),r=null},clean:function(){return u|(c&&l)<<1}}},ee(t,6*eo))}function $t(t,e,n,i){function r(i,r){return Math.abs(i[0]-t)<to?r>0?0:3:Math.abs(i[0]-n)<to?r>0?2:1:Math.abs(i[1]-e)<to?r>0?1:0:r>0?3:2}function o(t,e){return s(t.point,e.point)}function s(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}function a(r,o){var s=o[0]-r[0],a=o[1]-r[1],l=[0,1];return Math.abs(s)<to&&Math.abs(a)<to?t<=r[0]&&r[0]<=n&&e<=r[1]&&r[1]<=i:!!(qt(t-r[0],s,l)&&qt(r[0]-n,-s,l)&&qt(e-r[1],a,l)&&qt(r[1]-i,-a,l))&&(l[1]<1&&(o[0]=r[0]+l[1]*s,o[1]=r[1]+l[1]*a),l[0]>0&&(r[0]+=l[0]*s,r[1]+=l[0]*a),!0)}return function(l){function c(o){var s=r(o,-1);return u([0===s||3===s?t:n,s>1?i:e])}function u(t){for(var e=0,n=v.length,i=t[1],r=0;n>r;++r)for(var o=1,s=v[r],a=s.length,l=s[0];a>o;++o)b=s[o],l[1]<=i?b[1]>i&&h(l,b,t)>0&&++e:b[1]<=i&&h(l,b,t)<0&&--e,l=b;return 0!==e}function h(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function d(o,a,l,c){var u=0,h=0;if(null==o||(u=r(o,l))!==(h=r(a,l))||s(o,a)<0^l>0)do{c.point(0===u||3===u?t:n,u>1?i:e)}while((u=(u+l+4)%4)!==h);else c.point(a[0],a[1])}function f(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function p(t,e){f(t,e)&&l.point(t,e)}function g(t,e){var n=f(t=Math.max(-Ho,Math.min(Ho,t)),e=Math.max(-Ho,Math.min(Ho,e)));if(v&&y.push([t,e]),E)w=t,x=e,_=n,E=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&k)l.point(t,e);else{var i=[C,S],r=[t,e];a(i,r)?(k||(l.lineStart(),l.point(i[0],i[1])),l.point(r[0],r[1]),n||l.lineEnd()):(l.lineStart(),l.point(t,e))}C=t,S=e,k=n}var m,v,y,w,x,_,C,S,k,E,T=l,A=Ft(),M={point:p,lineStart:function(){M.point=g,v&&v.push(y=[]),E=!0,k=!1,C=S=NaN},lineEnd:function(){m&&(g(w,x),_&&k&&A.rejoin(),m.push(A.buffer())),M.point=p,k&&l.lineEnd()},polygonStart:function(){l=A,m=[],v=[]},polygonEnd:function(){l=T,(m=Tr.merge(m)).length?(l.polygonStart(),Pt(m,o,c,d,l),l.polygonEnd()):u([t,e])&&(l.polygonStart(),l.lineStart(),d(null,null,1,l),l.lineEnd(),l.polygonEnd()),m=v=y=null}};return M}}function qt(t,e,n){if(Math.abs(e)<to)return 0>=t;var i=t/e;if(e>0){if(i>n[1])return!1;i>n[0]&&(n[0]=i)}else{if(i<n[0])return!1;i<n[1]&&(n[1]=i)}return!0}function Ut(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Vt(t){function e(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function o(){u=NaN,g.point=s,e.lineStart()}function s(i,o){var s=kt([i,o]),a=t(i,o);n(u,h,c,d,f,p,u=a[0],h=a[1],c=i,d=s[0],f=s[1],p=s[2],r,e),e.point(u,h)}function a(){g.point=i,e.lineEnd()}function l(){var t,i,l,m,v,y,b;o(),g.point=function(e,n){s(t=e,i=n),l=u,m=h,v=d,y=f,b=p,g.point=s},g.lineEnd=function(){n(u,h,c,d,f,p,l,m,t,v,y,b,r,e),g.lineEnd=a,a()}}var c,u,h,d,f,p,g={point:i,lineStart:o,lineEnd:a,polygonStart:function(){e.polygonStart(),g.lineStart=l},polygonEnd:function(){e.polygonEnd(),g.lineStart=o}};return g}function n(e,r,o,s,a,l,c,u,h,d,f,p,g,m){var v=c-e,y=u-r,b=v*v+y*y;if(b>4*i&&g--){var w=s+d,x=a+f,_=l+p,C=Math.sqrt(w*w+x*x+_*_),S=Math.asin(_/=C),k=Math.abs(Math.abs(_)-1)<to?(o+h)/2:Math.atan2(x,w),E=t(k,S),T=E[0],A=E[1],M=T-e,N=A-r,D=y*M-v*N;(D*D/b>i||Math.abs((v*M+y*N)/b-.5)>.3)&&(n(e,r,o,s,a,l,T,A,k,w/=C,x/=C,_,g,m),m.point(T,A),n(T,A,k,w,x,_,c,u,h,d,f,p,g,m))}}var i=.5,r=16;return e.precision=function(t){return arguments.length?(r=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function Yt(t){return Xt(function(){return t})()}function Xt(t){function e(t){return t=s(t[0]*eo,t[1]*eo),[t[0]*u+a,l-t[1]*u]}function n(t){return(t=s.invert((t[0]-a)/u,(l-t[1])/u))&&[t[0]*no,t[1]*no]}function i(){s=Ut(o=Qt(g,m,v),r);var t=r(f,p);return a=h-t[0]*u,l=d+t[1]*u,e}var r,o,s,a,l,c=Vt(function(t,e){return t=r(t,e),[t[0]*u+a,l-t[1]*u]}),u=150,h=480,d=250,f=0,p=0,g=0,m=0,v=0,y=Ro,b=ct,w=null,x=null;return e.stream=function(t){return Gt(o,y(c(b(t))))},e.clipAngle=function(t){return arguments.length?(y=null==t?(w=t,Ro):jt((w=+t)*eo),e):w},e.clipExtent=function(t){return arguments.length?(x=t,b=null==t?ct:$t(t[0][0],t[0][1],t[1][0],t[1][1]),e):x},e.scale=function(t){return arguments.length?(u=+t,i()):u},e.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],i()):[h,d]},e.center=function(t){return arguments.length?(f=t[0]%360*eo,p=t[1]%360*eo,i()):[f*no,p*no]},e.rotate=function(t){return arguments.length?(g=t[0]%360*eo,m=t[1]%360*eo,v=t.length>2?t[2]%360*eo:0,i()):[g*no,m*no,v*no]},Tr.rebind(e,c,"precision"),function(){return r=t.apply(this,arguments),e.invert=r.invert&&n,i()}}function Gt(t,e){return{point:function(n,i){n=(i=t(n*eo,i*eo))[0],e.point(n>Jr?n-2*Jr:-Jr>n?n+2*Jr:n,i[1])},sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Kt(t,e){return[t,e]}function Qt(t,e,n){return t?e||n?Ut(Jt(t),te(e,n)):Jt(t):e||n?te(e,n):Kt}function Zt(t){return function(e,n){return e+=t,[e>Jr?e-2*Jr:-Jr>e?e+2*Jr:e,n]}}function Jt(t){var e=Zt(t);return e.invert=Zt(-t),e}function te(t,e){function n(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),u=c*i+a*r;return[Math.atan2(l*o-u*s,a*i-c*r),Math.asin(Math.max(-1,Math.min(1,u*o+l*s)))]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),s=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),u=c*o-l*s;return[Math.atan2(l*o+c*s,a*i+u*r),Math.asin(Math.max(-1,Math.min(1,u*i-a*r)))]},n}function ee(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,s,a){null!=r?(r=ne(n,r),o=ne(n,o),(s>0?o>r:r>o)&&(r+=2*s*Jr)):(r=t+2*s*Jr,o=t);for(var l,c=s*e,u=r;s>0?u>o:o>u;u-=c)a.point((l=It([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],l[1])}}function ne(t,e){var n=kt(e);n[0]-=t,Nt(n);var i=z(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-to)%(2*Math.PI)}function ie(t,e,n){var i=Tr.range(t,e-to,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function re(t,e,n){var i=Tr.range(t,e-to,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function oe(t){return t.source}function se(t){return t.target}function ae(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),s=Math.cos(i),a=Math.sin(i),l=r*Math.cos(t),c=r*Math.sin(t),u=s*Math.cos(n),h=s*Math.sin(n),d=2*Math.asin(Math.sqrt($(i-e)+r*s*$(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,i=n*l+e*u,r=n*c+e*h,s=n*o+e*a;return[Math.atan2(r,i)*no,Math.atan2(s,Math.sqrt(i*i+r*r))*no]}:function(){return[t*no,e*no]};return p.distance=d,p}function le(t){var e=0,n=Jr/3,i=Xt(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Jr/180,n=t[1]*Jr/180):[e/Jr*180,n/Jr*180]},r}function ce(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),s-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),s=Math.sqrt(o)/r;return n.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/r,Math.asin((o-(t*t+n*n)*r*r)/(2*r))]},n}function ue(t,e){var n=t(e[0]),i=t([.5*(e[0][0]+e[1][0]),e[0][1]]),r=t([e[1][0],e[0][1]]),o=t(e[1]),s=(i[1]-n[1])/(i[0]-n[0]),a=(r[1]-i[1])/(r[0]-i[0]),l=.5*(s*a*(n[1]-r[1])+a*(n[0]+i[0])-s*(i[0]+r[0]))/(a-s),c=(.5*(n[0]+i[0])-l)/s+.5*(n[1]+i[1]),u=o[0]-l,h=o[1]-c,d=n[0]-l,f=n[1]-c,p=u*u+h*h,g=d*d+f*f,m=Math.atan2(h,u),v=Math.atan2(f,d);return function(e){var n=e[0]-l,i=e[1]-c,r=n*n+i*i,o=Math.atan2(i,n);return r>p&&g>r&&o>m&&v>o?t.invert(e):void 0}}function he(){function t(t,e){Wo+=r*t-i*e,i=t,r=e}var e,n,i,r;jo.point=function(o,s){jo.point=t,e=i=o,n=r=s},jo.lineEnd=function(){t(e,n)}}function de(){function t(t,e){s.push("M",t,",",e,o)}function e(t,e){s.push("M",t,",",e),a.point=n}function n(t,e){s.push("L",t,",",e)}function i(){a.point=t}function r(){s.push("Z")}var o=ye(4.5),s=[],a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(t){return o=ye(t),a},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return a}function fe(t,e){No||(Io+=t,Lo+=e,++Po)}function pe(){function t(t,i){var r=t-e,o=i-n,s=Math.sqrt(r*r+o*o);Io+=s*(e+t)/2,Lo+=s*(n+i)/2,Po+=s,e=t,n=i}var e,n;if(1!==No){if(!(1>No))return;No=1,Io=Lo=Po=0}$o.point=function(i,r){$o.point=t,e=i,n=r}}function ge(){$o.point=fe}function me(){function t(t,e){var n=r*t-i*e;Io+=n*(i+t),Lo+=n*(r+e),Po+=3*n,i=t,r=e}var e,n,i,r;2>No&&(No=2,Io=Lo=Po=0),$o.point=function(o,s){$o.point=t,e=i=o,n=r=s},$o.lineEnd=function(){t(e,n)}}function ve(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,s,0,2*Jr)}function n(e,n){t.moveTo(e,n),a.point=i}function i(e,n){t.lineTo(e,n)}function r(){a.point=e}function o(){t.closePath()}var s=4.5,a={point:e,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=r,a.point=e},pointRadius:function(t){return s=t,a},result:A};return a}function ye(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function be(t){var e=Vt(function(e,n){return t([e*no,n*no])});return function(t){return t=e(t),{point:function(e,n){t.point(e*eo,n*eo)},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}}function we(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*o,i*s),Math.asin(i&&n*o/i)]},n}function xe(t,e){function n(t,e){var n=Math.abs(Math.abs(e)-Jr/2)<to?0:s/Math.pow(r(e),o);return[n*Math.sin(o*t),s-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Jr/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),s=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=s-e,i=F(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(s/i,1/o))-Jr/2]},n):Ce}function _e(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return Math.abs(r)<to?Kt:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-F(r)*Math.sqrt(t*t+n*n)]},n)}function Ce(t,e){return[t,Math.log(Math.tan(Jr/4+e/2))]}function Se(t){var e,n=Yt(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=Jr*i(),l=r();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}function ke(t,e){var n=Math.cos(e)*Math.sin(t);return[Math.log((1+n)/(1-n))/2,Math.atan2(Math.tan(e),Math.cos(t))]}function Ee(t){function e(e){function s(){c.push("M",o(t(u),a))}for(var l,c=[],u=[],h=-1,d=e.length,f=lt(n),p=lt(i);++h<d;)r.call(this,l=e[h],h)?u.push([+f.call(this,l,h),+p.call(this,l,h)]):u.length&&(s(),u=[]);return u.length&&s(),c.length?c.join(""):null}var n=Te,i=Ae,r=Dt,o=Me,s=o.key,a=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Go.get(t)||Me).key,e):s},e.tension=function(t){return arguments.length?(a=t,e):a},e}function Te(t){return t[0]}function Ae(t){return t[1]}function Me(t){return t.join("L")}function Ne(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function De(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Ie(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Me(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],s=e[0],a=s,l=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){a=e[1],o=t[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,l++)o=t[l],a=e[c],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var u=t[l];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+u[0]+","+u[1]}return i}function Le(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)n=o,o=s,s=t[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function Pe(t){if(t.length<3)return Me(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],s=[r,r,r,(i=t[1])[0]],a=[o,o,o,i[1]],l=[r,",",o];for(Re(l,s,a);++e<n;)i=t[e],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),Re(l,s,a);for(e=-1;++e<2;)s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),Re(l,s,a);return l.join("")}function Oe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Re(t,e,n){t.push("C",Oe(Ko,e),",",Oe(Ko,n),",",Oe(Qo,e),",",Oe(Qo,n),",",Oe(Zo,e),",",Oe(Zo,n))}function He(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Fe(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],s=i[0]=He(r,o);++e<n;)i[e]=(s+(s=He(r=o,o=t[e+1])))/2;return i[e]=s,i}function ze(t){for(var e,n,i,r,o=[],s=Fe(t),a=-1,l=t.length-1;++a<l;)e=He(t[a],t[a+1]),Math.abs(e)<1e-6?s[a]=s[a+1]=0:(n=s[a]/e,i=s[a+1]/e,(r=n*n+i*i)>9&&(r=3*e/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));for(a=-1;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}function Be(t,e,n,i){var r,o,s,a,l,c;return r=i[t],o=r[0],s=r[1],r=i[e],a=r[0],l=r[1],r=i[n],c=r[0],(r[1]-s)*(a-o)-(l-s)*(c-o)>0}function We(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function je(t,e,n,i){var r=t[0],o=n[0],s=e[0]-r,a=i[0]-o,l=t[1],c=n[1],u=e[1]-l,h=i[1]-c,d=(a*(l-c)-h*(r-o))/(h*s-a*u);return[r+d*s,l+d*u]}function $e(t,e){var n={list:t.map(function(t,e){return{index:e,x:t[0],y:t[1]}}).sort(function(t,e){return t.y<e.y?-1:t.y>e.y?1:t.x<e.x?-1:t.x>e.x?1:0}),bottomSite:null},i={list:[],leftEnd:null,rightEnd:null,init:function(){i.leftEnd=i.createHalfEdge(null,"l"),i.rightEnd=i.createHalfEdge(null,"l"),i.leftEnd.r=i.rightEnd,i.rightEnd.l=i.leftEnd,i.list.unshift(i.leftEnd,i.rightEnd)},createHalfEdge:function(t,e){return{edge:t,side:e,vertex:null,l:null,r:null}},insert:function(t,e){e.l=t,e.r=t.r,t.r.l=e,t.r=e},leftBound:function(t){var e=i.leftEnd;do{e=e.r}while(e!=i.rightEnd&&r.rightOf(e,t));return e=e.l},del:function(t){t.l.r=t.r,t.r.l=t.l,t.edge=null},right:function(t){return t.r},left:function(t){return t.l},leftRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[t.side]},rightRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[Jo[t.side]]}},r={bisect:function(t,e){var n={region:{l:t,r:e},ep:{l:null,r:null}},i=e.x-t.x,r=e.y-t.y,o=i>0?i:-i,s=r>0?r:-r;return n.c=t.x*i+t.y*r+.5*(i*i+r*r),o>s?(n.a=1,n.b=r/i,n.c/=i):(n.b=1,n.a=i/r,n.c/=r),n},intersect:function(t,e){var n=t.edge,i=e.edge;if(!n||!i||n.region.r==i.region.r)return null;var r=n.a*i.b-n.b*i.a;if(Math.abs(r)<1e-10)return null;var o,s,a=(n.c*i.b-i.c*n.b)/r,l=(i.c*n.a-n.c*i.a)/r,c=n.region.r,u=i.region.r;c.y<u.y||c.y==u.y&&c.x<u.x?(o=t,s=n):(o=e,s=i);var h=a>=s.region.r.x;return h&&"l"===o.side||!h&&"r"===o.side?null:{x:a,y:l}},rightOf:function(t,e){var n=t.edge,i=n.region.r,r=e.x>i.x;if(r&&"l"===t.side)return 1;if(!r&&"r"===t.side)return 0;if(1===n.a){var o=e.y-i.y,s=e.x-i.x,a=0,l=0;if(!r&&n.b<0||r&&n.b>=0?l=a=o>=n.b*s:(l=e.x+e.y*n.b>n.c,n.b<0&&(l=!l),l||(a=1)),!a){var c=i.x-n.region.l.x;l=n.b*(s*s-o*o)<c*o*(1+2*s/c+n.b*n.b),n.b<0&&(l=!l)}}else{var u=n.c-n.a*e.x,h=e.y-u,d=e.x-i.x,f=u-i.y;l=h*h>d*d+f*f}return"l"===t.side?l:!l},endPoint:function(t,n,i){t.ep[n]=i,t.ep[Jo[n]]&&e(t)},distance:function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}},o={list:[],insert:function(t,e,n){t.vertex=e,t.ystar=e.y+n;for(var i=0,r=o.list,s=r.length;s>i;i++){var a=r[i];if(!(t.ystar>a.ystar||t.ystar==a.ystar&&e.x>a.vertex.x))break}r.splice(i,0,t)},del:function(t){for(var e=0,n=o.list,i=n.length;i>e&&n[e]!=t;++e);n.splice(e,1)},empty:function(){return 0===o.list.length},nextEvent:function(t){for(var e=0,n=o.list,i=n.length;i>e;++e)if(n[e]==t)return n[e+1];return null},min:function(){var t=o.list[0];return{x:t.vertex.x,y:t.ystar}},extractMin:function(){return o.list.shift()}};i.init(),n.bottomSite=n.list.shift();for(var s,a,l,c,u,h,d,f,p,g,m,v,y,b=n.list.shift();;)if(o.empty()||(s=o.min()),b&&(o.empty()||b.y<s.y||b.y==s.y&&b.x<s.x))a=i.leftBound(b),l=i.right(a),d=i.rightRegion(a),v=r.bisect(d,b),h=i.createHalfEdge(v,"l"),i.insert(a,h),(g=r.intersect(a,h))&&(o.del(a),o.insert(a,g,r.distance(g,b))),a=h,h=i.createHalfEdge(v,"r"),i.insert(a,h),(g=r.intersect(h,l))&&o.insert(h,g,r.distance(g,b)),b=n.list.shift();else{if(o.empty())break;a=o.extractMin(),c=i.left(a),l=i.right(a),u=i.right(l),d=i.leftRegion(a),f=i.rightRegion(l),m=a.vertex,r.endPoint(a.edge,a.side,m),r.endPoint(l.edge,l.side,m),i.del(a),o.del(l),i.del(l),y="l",d.y>f.y&&(p=d,d=f,f=p,y="r"),v=r.bisect(d,f),h=i.createHalfEdge(v,y),i.insert(c,h),r.endPoint(v,Jo[y],m),(g=r.intersect(c,h))&&(o.del(c),o.insert(c,g,r.distance(g,d))),(g=r.intersect(h,u))&&o.insert(h,g,r.distance(g,d))}for(a=i.right(i.leftEnd);a!=i.rightEnd;a=i.right(a))e(a.edge)}function qe(t){return t.x}function Ue(t){return t.y}function Ve(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ye(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var s=.5*(n+r),a=.5*(i+o),l=e.nodes;l[0]&&Ye(t,l[0],n,i,s,a),l[1]&&Ye(t,l[1],s,i,r,a),l[2]&&Ye(t,l[2],n,a,s,o),l[3]&&Ye(t,l[3],s,a,r,o)}}function Xe(t,e){t=Tr.rgb(t),e=Tr.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,s=e.g-i,a=e.b-r;return function(t){return"#"+nt(Math.round(n+o*t))+nt(Math.round(i+s*t))+nt(Math.round(r+a*t))}}function Ge(t){var e=[t.a,t.b],n=[t.c,t.d],i=Qe(e),r=Ke(e,n),o=Qe(Ze(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*no,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*no:0}function Ke(t,e){return t[0]*e[0]+t[1]*e[1]}function Qe(t){var e=Math.sqrt(Ke(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Ze(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Je(t,e){return e-=t=+t,function(n){return t+e*n}}function tn(t,e){var n,i=[],r=[],o=Tr.transform(t),s=Tr.transform(e),a=o.translate,l=s.translate,c=o.rotate,u=s.rotate,h=o.skew,d=s.skew,f=o.scale,p=s.scale;return a[0]!=l[0]||a[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:Je(a[0],l[0])},{i:3,x:Je(a[1],l[1])})):i.push(l[0]||l[1]?"translate("+l+")":""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:Je(c,u)})):u&&i.push(i.pop()+"rotate("+u+")"),h!=d?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:Je(h,d)}):d&&i.push(i.pop()+"skewX("+d+")"),f[0]!=p[0]||f[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:Je(f[0],p[0])},{i:n-2,x:Je(f[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=r.length,function(t){for(var e,o=-1;++o<n;)i[(e=r[o]).i]=e.x(t);return i.join("")}}function en(t,e){var n,i={},r={};for(n in t)n in e?i[n]=on(n)(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function nn(t,e){var n,i,r,o,s,a=0,l=[],c=[];for(t+="",e+="",es.lastIndex=0,i=0;n=es.exec(e);++i)n.index&&l.push(e.substring(a,n.index)),c.push({i:l.length,x:n[0]}),l.push(null),a=es.lastIndex;for(a<e.length&&l.push(e.substring(a)),i=0,o=c.length;(n=es.exec(t))&&o>i;++i)if((s=c[i]).x==n[0]){if(s.i)if(null==l[s.i+1])for(l[s.i-1]+=s.x,l.splice(s.i,1),r=i+1;o>r;++r)c[r].i--;else for(l[s.i-1]+=s.x+l[s.i+1],l.splice(s.i,2),r=i+1;o>r;++r)c[r].i-=2;else if(null==l[s.i+1])l[s.i]=s.x;else for(l[s.i]=s.x+l[s.i+1],l.splice(s.i+1,1),r=i+1;o>r;++r)c[r].i--;c.splice(i,1),o--,i--}else s.x=Je(parseFloat(n[0]),parseFloat(s.x));for(;o>i;)s=c.pop(),null==l[s.i+1]?l[s.i]=s.x:(l[s.i]=s.x+l[s.i+1],l.splice(s.i+1,1)),o--;return 1===l.length?null==l[0]?c[0].x:function(){return e}:function(t){for(i=0;o>i;++i)l[(s=c[i]).i]=s.x(t);return l.join("")}}function rn(t,e){for(var n,i=Tr.interpolators.length;--i>=0&&!(n=Tr.interpolators[i](t,e)););return n}function on(t){return"transform"==t?tn:rn}function sn(t,e){var n,i=[],r=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;a>n;++n)i.push(rn(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;s>n;++n)r[n]=e[n];return function(t){for(n=0;a>n;++n)r[n]=i[n](t);return r}}function an(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function ln(t){return function(e){return 1-t(1-e)}}function cn(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function un(t){return t*t}function hn(t){return t*t*t}function dn(t){return 1-Math.cos(t*Jr/2)}function fn(t){return Math.pow(2,10*(t-1))}function pn(t){return 1-Math.sqrt(1-t*t)}function gn(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function mn(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function vn(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function yn(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function bn(t){for(var e=t.source,n=t.target,i=xn(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function wn(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function xn(t,e){if(t===e)return t;for(var n=wn(t),i=wn(e),r=n.pop(),o=i.pop(),s=null;r===o;)s=r,r=n.pop(),o=i.pop();return s}function _n(t){t.fixed|=2}function Cn(t){t.fixed&=-7}function Sn(t){t.fixed|=4,t.px=t.x,t.py=t.y}function kn(t){t.fixed&=-5}function En(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,a=s.length,l=-1;++l<a;)null!=(o=s[l])&&(En(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,i+=c*t.point.x,r+=c*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function Tn(t,e){return Tr.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Dn,t}function An(t){return t.children}function Mn(t){return t.value}function Nn(t,e){return e.value-t.value}function Dn(t){return Tr.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function In(t){return t.x}function Ln(t){return t.y}function Pn(t,e,n){t.y0=e,t.y=n}function On(t){return Tr.range(t.length)}function Rn(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function Hn(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function Fn(t){return t.reduce(zn,0)}function zn(t,e){return t+e[1]}function Bn(t,e){return Wn(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Wn(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function jn(t){return[Tr.min(t),Tr.max(t)]}function $n(t,e){return t.parent==e.parent?1:2}function qn(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function Un(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function Vn(t,e){var n=t.children;if(n&&(r=n.length))for(var i,r,o=-1;++o<r;)e(i=Vn(n[o],e),t)>0&&(t=i);return t}function Yn(t,e){return t.x-e.x}function Xn(t,e){return e.x-t.x}function Gn(t,e){return t.depth-e.depth}function Kn(t,e){function n(t,i){var r=t.children;if(r&&(s=r.length))for(var o,s,a=null,l=-1;++l<s;)o=r[l],n(o,a),a=o;e(t,i)}n(t,null)}function Qn(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o]._tree,e.prelim+=n,e.mod+=n,n+=e.shift+(i+=e.change)}function Zn(t,e,n){t=t._tree;var i=n/((e=e._tree).number-t.number);t.change+=i,e.change-=i,e.shift+=n,e.prelim+=n,e.mod+=n}function Jn(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function ti(t,e){return t.value-e.value}function ei(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ni(t,e){t._pack_next=e,e._pack_prev=t}function ii(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return r*r-n*n-i*i>.001}function ri(t){function e(t){u=Math.min(t.x-t.r,u),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(c=n.length)){var n,i,r,o,s,a,l,c,u=1/0,h=-1/0,d=1/0,f=-1/0;if(n.forEach(oi),i=n[0],i.x=-i.r,i.y=0,e(i),c>1&&(r=n[1],r.x=r.r,r.y=0,e(r),c>2))for(o=n[2],li(i,r,o),e(o),ei(i,o),i._pack_prev=o,ei(o,r),r=i._pack_next,s=3;c>s;s++){li(i,r,o=n[s]);var p=0,g=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,g++)if(ii(a,o)){p=1;break}if(1==p)for(l=i._pack_prev;l!==a._pack_prev&&!ii(l,o);l=l._pack_prev,m++);p?(m>g||g==m&&r.r<i.r?ni(i,r=a):ni(i=l,r),s--):(ei(i,o),r=o,e(o))}var v=(u+h)/2,y=(d+f)/2,b=0;for(s=0;c>s;s++)o=n[s],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(si)}}function oi(t){t._pack_next=t._pack_prev=t}function si(t){delete t._pack_next,delete t._pack_prev}function ai(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,s=r.length;++o<s;)ai(r[o],e,n,i)}function li(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var s=e.r+n.r,a=r*r+o*o,l=.5+((i*=i)-(s*=s))/(2*a),c=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=t.x+l*r+c*o,n.y=t.y+l*o-c*r}else n.x=t.x+i,n.y=t.y}function ci(t){return 1+Tr.max(t,function(t){return t.y})}function ui(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function hi(t){var e=t.children;return e&&e.length?hi(e[0]):t}function di(t){var e,n=t.children;return n&&(e=n.length)?di(n[e-1]):t}function fi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function pi(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function gi(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function mi(t){return t.rangeExtent?t.rangeExtent():gi(t.range())}function vi(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function yi(t,e){var n,i=0,r=t.length-1,o=t[i],s=t[r];return o>s&&(n=i,i=r,r=n,n=o,o=s,s=n),(e=e(s-o))&&(t[i]=e.floor(o),t[r]=e.ceil(s)),t}function bi(t,e,n,i){var r=[],o=[],s=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=a;)r.push(n(t[s-1],t[s])),o.push(i(e[s-1],e[s]));return function(e){var n=Tr.bisect(t,e,1,a)-1;return o[n](r[n](e))}}function wi(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?bi:vi,l=i?yn:vn;return s=r(t,e,l,n),a=r(e,t,l,rn),o}function o(t){return s(t)}var s,a;return o.invert=function(t){return a(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(mn)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return Si(t,e)},o.tickFormat=function(e,n){return ki(t,e,n)},o.nice=function(){return yi(t,_i),r()},o.copy=function(){return wi(t,e,n,i)},r()}function xi(t,e){return Tr.rebind(t,e,"range","rangeRound","interpolate","clamp")}function _i(t){return(t=Math.pow(10,Math.round(Math.log(t)/Math.LN10)-1))&&{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}}function Ci(t,e){var n=gi(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Si(t,e){return Tr.range.apply(Tr,Ci(t,e))}function ki(t,e,n){var i=-Math.floor(Math.log(Ci(t,e)[2])/Math.LN10+.01);return Tr.format(n?n.replace(wo,function(t,e,n,r,o,s,a,l,c,u){return[e,n,r,o,s,a,l,c||"."+(i-2*("%"===u)),u].join("")}):",."+i+"f")}function Ei(t,e,n,i){function r(e){return t(n(e))}return r.invert=function(e){return i(t.invert(e))},r.domain=function(e){return arguments.length?(e[0]<0?(n=Mi,i=Ni):(n=Ti,i=Ai),t.domain(e.map(n)),r):t.domain().map(i)},r.base=function(t){return arguments.length?(e=+t,r):e},r.nice=function(){return t.domain(yi(t.domain(),Di(e))),r},r.ticks=function(){var r=gi(t.domain()),o=[];if(r.every(isFinite)){var s=Math.log(e),a=Math.floor(r[0]/s),l=Math.ceil(r[1]/s),c=i(r[0]),u=i(r[1]),h=e%1?2:e;if(n===Mi)for(o.push(-Math.pow(e,-a));a++<l;)for(d=h-1;d>0;d--)o.push(-Math.pow(e,-a)*d);else{for(;l>a;a++)for(var d=1;h>d;d++)o.push(Math.pow(e,a)*d);o.push(Math.pow(e,a))}for(a=0;o[a]<c;a++);for(l=o.length;o[l-1]>u;l--);o=o.slice(a,l)}return o},r.tickFormat=function(t,o){if(arguments.length<2&&(o=us),!arguments.length)return o;var s,a=Math.log(e),l=Math.max(.1,t/r.ticks().length),c=n===Mi?(s=-1e-12,Math.floor):(s=1e-12,Math.ceil);return function(t){return t/i(a*c(n(t)/a+s))<=l?o(t):""}},r.copy=function(){return Ei(t.copy(),e,n,i)},xi(r,t)}function Ti(t){return Math.log(0>t?0:t)}function Ai(t){return Math.exp(t)}function Mi(t){return-Math.log(t>0?0:-t)}function Ni(t){return-Math.exp(-t)}function Di(t){t=Math.log(t);var e={floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}};return function(){return e}}function Ii(t,e){function n(e){return t(i(e))}var i=Li(e),r=Li(1/e);return n.invert=function(e){return r(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e.map(i)),n):t.domain().map(r)},n.ticks=function(t){return Si(n.domain(),t)},n.tickFormat=function(t,e){return ki(n.domain(),t,e)},n.nice=function(){return n.domain(yi(n.domain(),_i))},n.exponent=function(t){if(!arguments.length)return e;var o=n.domain();return i=Li(e=t),r=Li(1/e),n.domain(o)},n.copy=function(){return Ii(t.copy(),e)},xi(n,t)}function Li(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function Pi(t,e){function n(e){return s[((o.get(e)||o.set(e,t.push(e)))-1)%s.length]}function i(e,n){return Tr.range(t.length).map(function(t){return e+n*t})}var o,s,a;return n.domain=function(i){if(!arguments.length)return t;t=[],o=new r;for(var s,a=-1,l=i.length;++a<l;)o.has(s=i[a])||o.set(s,t.push(s));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(s=t,a=0,e={t:"range",a:arguments},n):s},n.rangePoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],c=r[1],u=(c-l)/(Math.max(1,t.length-1)+o);return s=i(t.length<2?(l+c)/2:l+u*o/2,u),a=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=r[1]<r[0],u=r[c-0],h=(r[1-c]-u)/(t.length-o+2*l);return s=i(u+h*l,h),c&&s.reverse(),a=h*(1-o),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=r[1]<r[0],u=r[c-0],h=r[1-c],d=Math.floor((h-u)/(t.length-o+2*l)),f=h-u-(t.length-o)*d;return s=i(u+Math.round(f/2),d),c&&s.reverse(),a=Math.round(d*(1-o)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return gi(e.a[0])},n.copy=function(){return Pi(t,e)},n.domain(t)}function Oi(t,e){function n(){var n=0,o=e.length;for(r=[];++n<o;)r[n-1]=Tr.quantile(t,n/o);return i}function i(t){return isNaN(t=+t)?NaN:e[Tr.bisect(r,t)]}var r;return i.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(Tr.ascending),n()):t},i.range=function(t){return arguments.length?(e=t,n()):e},i.quantiles=function(){return r},i.copy=function(){return Oi(t,e)},n()}function Ri(t,e,n){function i(e){return n[Math.max(0,Math.min(s,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),s=n.length-1,i}var o,s;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.copy=function(){return Ri(t,e,n)},r()}function Hi(t,e){function n(n){return e[Tr.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Hi(t,e)},n}function Fi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Si(t,e)},e.tickFormat=function(e,n){return ki(t,e,n)},e.copy=function(){return Fi(t)},e}function zi(t){return t.innerRadius}function Bi(t){return t.outerRadius}function Wi(t){return t.startAngle}function ji(t){return t.endAngle}function $i(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]+gs,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function qi(t){function e(e){function l(){g.push("M",a(t(v),h),u,c(t(m.reverse()),h),"Z")}for(var d,f,p,g=[],m=[],v=[],y=-1,b=e.length,w=lt(n),x=lt(r),_=n===i?function(){return f}:lt(i),C=r===o?function(){return p}:lt(o);++y<b;)s.call(this,d=e[y],y)?(m.push([f=+w.call(this,d,y),p=+x.call(this,d,y)]),v.push([+_.call(this,d,y),+C.call(this,d,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=Te,i=Te,r=0,o=Ae,s=Dt,a=Me,l=a.key,c=a,u="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Go.get(t)||Me).key,c=a.reverse||a,u=a.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Ui(t){return t.radius}function Vi(t){return[t.x,t.y]}function Yi(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]+gs;return[n*Math.cos(i),n*Math.sin(i)]}}function Xi(){return 64}function Gi(){return"circle"}function Ki(t){var e=Math.sqrt(t/Jr);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Qi(t,e){return Hr(t,xs),t.id=e,t}function Zi(t,e,n,i){var r=t.id;return I(t,"function"==typeof n?function(t,o,s){t.__transition__[r].tween.set(e,i(n.call(t,t.__data__,o,s)))}:(n=i(n),function(t){t.__transition__[r].tween.set(e,n)}))}function Ji(t){return null==t&&(t=""),function(){this.textContent=t}}function tr(t,e,n,i){var o=t.__transition__||(t.__transition__={active:0,count:0}),s=o[n];if(!s){var a=i.time;return s=o[n]={tween:new r,event:Tr.dispatch("start","end"),time:a,ease:i.ease,delay:i.delay,duration:i.duration},++o.count,Tr.timer(function(i){function r(i){return o.active>n?c():(o.active=n,d.start.call(t,u,e),s.tween.forEach(function(n,i){(i=i.call(t,u,e))&&g.push(i)}),l(i)||Tr.timer(l,0,a),1)}function l(i){if(o.active!==n)return c();for(var r=(i-f)/p,s=h(r),a=g.length;a>0;)g[--a].call(t,s);return r>=1?(c(),d.end.call(t,u,e),1):void 0}function c(){return--o.count?delete o[n]:delete t.__transition__,1}var u=t.__data__,h=s.ease,d=s.event,f=s.delay,p=s.duration,g=[];return i>=f?r(i):Tr.timer(r,f,a),1},0,a),s}}function er(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function nr(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function ir(t,e,n){if(i=[],n&&e.length>1){for(var i,r,o,s=gi(t.domain()),a=-1,l=e.length,c=(e[1]-e[0])/++n;++a<l;)for(r=n;--r>0;)(o=+e[a]-r*c)>=s[0]&&i.push(o);for(--a,r=0;++r<n&&(o=+e[a]+r*c)<s[1];)i.push(o)}return i}function rr(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function or(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new As(n-1)),1),n}function o(t,n){return e(t=new As(+t),n),t}function s(t,i,o){var s=r(t),a=[];if(o>1)for(;i>s;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;i>s;)a.push(new Date(+s)),e(s,1);return a}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=s;var a=t.utc=sr(t);return a.floor=a,a.round=sr(i),a.ceil=sr(r),a.offset=sr(o),a.range=function(t,e,n){try{As=rr;var i=new rr;return i._=t,s(i,e,n)}finally{As=Date}},t}function sr(t){return function(e,n){try{As=rr;var i=new rr;return i._=e,t(i,n)._}finally{As=Date}}}function ar(t,e,n,i){for(var r,o,s=0,a=e.length,l=n.length;a>s;){if(i>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(!(o=$s[e.charAt(s++)])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function lr(t){return new RegExp("^(?:"+t.map(Tr.requote).join("|")+")","i")}function cr(t){for(var e=new r,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function ur(t,e,n){var i=(t+="").length;return n>i?new Array(n-i+1).join(e)+t:t}function hr(t){return t+(t>68?1900:2e3)}function dr(t,e,n){qs.lastIndex=0;var i=qs.exec(e.substring(n,n+2));return i?(t.d=+i[0],n+=i[0].length):-1}function fr(t,e,n){qs.lastIndex=0;var i=qs.exec(e.substring(n,n+2));return i?(t.H=+i[0],n+=i[0].length):-1}function pr(t){return t.toISOString()}function gr(t,e,n){function i(e){return t(e)}return i.invert=function(e){return vr(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(vr)},i.nice=function(t){return i.domain(yi(i.domain(),function(){return t}))},i.ticks=function(n,r){var o=mr(i.domain());if("function"!=typeof n){var s=(o[1]-o[0])/n,a=Tr.bisect(Ys,s);if(a==Ys.length)return e.year(o,n);if(!a)return t.ticks(n).map(vr);Math.log(s/Ys[a-1])<Math.log(Ys[a]/s)&&--a,r=(n=e[a])[1],n=n[0].range}return n(o[0],new Date(+o[1]+1),r)},i.tickFormat=function(){return n},i.copy=function(){return gr(t.copy(),e,n)},Tr.rebind(i,t,"range","rangeRound","interpolate","clamp")}function mr(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function vr(t){return new Date(t)}function yr(t){return function(e){for(var n=t.length-1,i=t[n];!i[1](e);)i=t[--n];return i[0](e)}}function br(t){var e=new Date(t,0,1);return e.setFullYear(t),e}function wr(t){var e=t.getFullYear(),n=br(e);return e+(t-n)/(br(e+1)-n)}function xr(t){var e=new Date(Date.UTC(t,0,1));return e.setUTCFullYear(t),e}function _r(t){var e=t.getUTCFullYear(),n=xr(e);return e+(t-n)/(xr(e+1)-n)}function Cr(t){return t.responseText}function Sr(t){return JSON.parse(t.responseText)}function kr(t){var e=Ar.createRange();return e.selectNode(Ar.body),e.createContextualFragment(t.responseText)}function Er(t){return t.responseXML}var Tr={version:"3.1.5"};Date.now||(Date.now=function(){return+new Date});var Ar=document,Mr=window;try{Ar.createElement("div").style.setProperty("opacity",0,"")}catch(t){var Nr=Mr.CSSStyleDeclaration.prototype,Dr=Nr.setProperty;Nr.setProperty=function(t,e,n){Dr.call(this,t,e+"",n)}}Tr.ascending=function(t,e){return e>t?-1:t>e?1:t>=e?0:NaN},Tr.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},Tr.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&(null==(n=t[r])||n!=n);)n=void 0;for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o&&(null==(n=e.call(t,t[r],r))||n!=n);)n=void 0;for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},Tr.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&(null==(n=t[r])||n!=n);)n=void 0;for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o&&(null==(n=e.call(t,t[r],r))||n!=n);)n=void 0;for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},Tr.extent=function(t,e){var n,i,r,o=-1,s=t.length;if(1===arguments.length){for(;++o<s&&(null==(n=r=t[o])||n!=n);)n=r=void 0;for(;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<s&&(null==(n=r=e.call(t,t[o],o))||n!=n);)n=void 0;for(;++o<s;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},Tr.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)isNaN(n=+t[o])||(i+=n);else for(;++o<r;)isNaN(n=+e.call(t,t[o],o))||(i+=n);return i},Tr.mean=function(e,n){var i,r=e.length,o=0,s=-1,a=0;if(1===arguments.length)for(;++s<r;)t(i=e[s])&&(o+=(i-o)/++a);else for(;++s<r;)t(i=n.call(e,e[s],s))&&(o+=(i-o)/++a);return a?o:void 0},Tr.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},Tr.median=function(e,n){return arguments.length>1&&(e=e.map(n)),(e=e.filter(t)).length?Tr.quantile(e.sort(Tr.ascending),.5):void 0},Tr.bisector=function(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t.call(e,e[o],o)<n?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;n<t.call(e,e[o],o)?r=o:i=o+1}return i}}};var Ir=Tr.bisector(function(t){return t});Tr.bisectLeft=Ir.left,Tr.bisect=Tr.bisectRight=Ir.right,Tr.shuffle=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t},Tr.permute=function(t,e){for(var n=[],i=-1,r=e.length;++i<r;)n[i]=t[e[i]];return n},Tr.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=Tr.min(arguments,e),i=new Array(n);++t<n;)for(var r,o=-1,s=i[t]=new Array(r);++o<r;)s[o]=arguments[o][t];return i},Tr.transpose=function(t){return Tr.zip.apply(Tr,t)},Tr.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Tr.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Tr.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Tr.merge=function(t){return Array.prototype.concat.apply([],t)},Tr.range=function(t,e,i){if(arguments.length<3&&(i=1,arguments.length<2&&(e=t,t=0)),(e-t)/i==1/0)throw new Error("infinite range");var r,o=[],s=n(Math.abs(i)),a=-1;if(t*=s,e*=s,0>(i*=s))for(;(r=t+i*++a)>e;)o.push(r/s);else for(;(r=t+i*++a)<e;)o.push(r/s);return o},Tr.map=function(t){var e=new r;for(var n in t)e.set(n,t[n]);return e},i(r,{has:function(t){return Lr+t in this},get:function(t){return this[Lr+t]},set:function(t,e){return this[Lr+t]=e},remove:function(t){return(t=Lr+t)in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Pr&&t.call(this,e.substring(1),this[e])}});var Lr="\0",Pr=Lr.charCodeAt(0);Tr.nest=function(){function t(e,a,l){if(l>=s.length)return i?i.call(o,a):n?a.sort(n):a;for(var c,u,h,d,f=-1,p=a.length,g=s[l++],m=new r;++f<p;)(d=m.get(c=g(u=a[f])))?d.push(u):m.set(c,[u]);return e?(u=e(),h=function(n,i){u.set(n,t(e,i,l))}):(u={},h=function(n,i){u[n]=t(e,i,l)}),m.forEach(h),u}function e(t,n){if(n>=s.length)return t;var i=[],r=a[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,o={},s=[],a=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(Tr.map,n,0),0)},o.key=function(t){return s.push(t),o},o.sortKeys=function(t){return a[s.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return i=t,o},o},Tr.set=function(t){var e=new o;if(t)for(var n=0;n<t.length;n++)e.add(t[n]);return e},i(o,{has:function(t){return Lr+t in this},add:function(t){return this[Lr+t]=!0,t},remove:function(t){return(t=Lr+t)in this&&delete this[t]},values:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Pr&&t.call(this,e.substring(1))}}),Tr.behavior={},Tr.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=s(t,e,e[n]);return t},Tr.dispatch=function(){for(var t=new a,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=l(t);return t},a.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},Tr.event=null,Tr.mouse=function(t){return f(t,u())};var Or=/WebKit/.test(Mr.navigator.userAgent)?-1:0,Rr=function(t){return Array.prototype.slice.call(t)};try{Rr(Ar.documentElement.childNodes)[0].nodeType}catch(t){Rr=function(t){for(var e=-1,n=t.length,i=[];++e<n;)i.push(t[e]);return i}}var Hr=[].__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};Tr.touches=function(t,e){return arguments.length<2&&(e=u().touches),e?Rr(e).map(function(e){var n=f(t,e);return n.identifier=e.identifier,n}):[]},Tr.behavior.drag=function(){function t(){this.on("mousedown.drag",e).on("touchstart.drag",e)}function e(){function t(){var t=o.parentNode;return null!=l?Tr.touches(t).filter(function(t){return t.identifier===l})[0]:Tr.mouse(t)}function e(){s({type:"dragend"}),d&&(c(),Tr.event.target===a&&h(f,"click")),f.on(null!=l?"touchmove.drag-"+l:"mousemove.drag",null).on(null!=l?"touchend.drag-"+l:"mouseup.drag",null)}var r,o=this,s=n.of(o,arguments),a=Tr.event.target,l=Tr.event.touches?Tr.event.changedTouches[0].identifier:null,u=t(),d=0,f=Tr.select(Mr).on(null!=l?"touchmove.drag-"+l:"mousemove.drag",function(){if(!o.parentNode)return e();var n=t(),i=n[0]-u[0],a=n[1]-u[1];d|=i|a,u=n,c(),s({type:"drag",x:n[0]+r[0],y:n[1]+r[1],dx:i,dy:a})}).on(null!=l?"touchend.drag-"+l:"mouseup.drag",e,!0);i?(r=i.apply(o,arguments),r=[r.x-u[0],r.y-u[1]]):r=[0,0],null==l&&c(),s({type:"dragstart"})}var n=d(t,"drag","dragstart","dragend"),i=null;return t.origin=function(e){return arguments.length?(i=e,t):i},Tr.rebind(t,n,"on")};var Fr=function(t,e){return e.querySelector(t)},zr=function(t,e){return e.querySelectorAll(t)},Br=Ar.documentElement,Wr=Br.matchesSelector||Br.webkitMatchesSelector||Br.mozMatchesSelector||Br.msMatchesSelector||Br.oMatchesSelector,jr=function(t,e){return Wr.call(t,e)};"function"==typeof Sizzle&&(Fr=function(t,e){return Sizzle(t,e)[0]||null},zr=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},jr=Sizzle.matchesSelector);var $r=[];Tr.selection=function(){return Xr},Tr.selection.prototype=$r,$r.select=function(t){var e,n,i,r,o=[];"function"!=typeof t&&(t=g(t));for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return p(o)},$r.selectAll=function(t){var e,n,i=[];"function"!=typeof t&&(t=m(t));for(var r=-1,o=this.length;++r<o;)for(var s=this[r],a=-1,l=s.length;++a<l;)(n=s[a])&&(i.push(e=Rr(t.call(n,n.__data__,a))),e.parentNode=n);return p(i)};var qr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Tr.ns={prefix:qr,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),qr.hasOwnProperty(n)?{space:qr[n],local:t}:t}},$r.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=Tr.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(v(e,t[e]));return this}return this.each(v(t,e))},Tr.requote=function(t){return t.replace(Ur,"\\$&")};var Ur=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;$r.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=t.trim().split(/^|\s+/g)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!w(t[r]).test(e))return!1;return!0}for(e in t)this.each(x(e,t[e]));return this}return this.each(x(t,e))},$r.style=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e="");for(n in t)this.each(C(n,t[n],e));return this}if(2>i)return Mr.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(C(t,e,n))},$r.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(S(e,t[e]));return this}return this.each(S(t,e))},$r.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},$r.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},$r.append=function(t){return t=Tr.ns.qualify(t),this.select(t.local?function(){return this.appendChild(Ar.createElementNS(t.space,t.local))}:function(){return this.appendChild(Ar.createElementNS(this.namespaceURI,t))})},$r.insert=function(t,e){return t=Tr.ns.qualify(t),"function"!=typeof e&&(e=g(e)),this.select(t.local?function(n,i){return this.insertBefore(Ar.createElementNS(t.space,t.local),e.call(this,n,i))}:function(n,i){return this.insertBefore(Ar.createElementNS(this.namespaceURI,t),e.call(this,n,i))})},$r.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},$r.data=function(t,e){function n(t,n){var i,o,s,a=t.length,h=n.length,d=Math.min(a,h),f=new Array(h),p=new Array(h),g=new Array(a);if(e){var m,v=new r,y=new r,b=[];for(i=-1;++i<a;)m=e.call(o=t[i],o.__data__,i),v.has(m)?g[i]=o:v.set(m,o),b.push(m);for(i=-1;++i<h;)m=e.call(n,s=n[i],i),(o=v.get(m))?(f[i]=o,o.__data__=s):y.has(m)||(p[i]=k(s)),y.set(m,s),v.remove(m);for(i=-1;++i<a;)v.has(b[i])&&(g[i]=t[i])}else{for(i=-1;++i<d;)o=t[i],s=n[i],o?(o.__data__=s,f[i]=o):p[i]=k(s);for(;h>i;++i)p[i]=k(n[i]);for(;a>i;++i)g[i]=t[i]}p.update=f,p.parentNode=f.parentNode=g.parentNode=t.parentNode,l.push(p),c.push(f),u.push(g)}var i,o,s=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++s<a;)(o=i[s])&&(t[s]=o.__data__);return t}var l=L([]),c=p([]),u=p([]);if("function"==typeof t)for(;++s<a;)n(i=this[s],t.call(i,i.parentNode.__data__,s));else for(;++s<a;)n(i=this[s],t);return c.enter=function(){return l},c.exit=function(){return u},c},$r.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},$r.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=E(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a)&&e.push(i)}return p(r)},$r.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},$r.sort=function(t){t=T.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},$r.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(M(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(M(t,e,n))};var Vr=Tr.map({mouseenter:"mouseover",mouseleave:"mouseout"});Vr.forEach(function(t){"on"+t in Ar&&Vr.remove(t)}),$r.each=function(t){return I(this,function(e,n,i){t.call(e,e.__data__,n,i)})},$r.call=function(t){var e=Rr(arguments);return t.apply(e[0]=this,e),this},$r.empty=function(){return!this.node()},$r.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null};var Yr=[];Tr.selection.enter=L,Tr.selection.enter.prototype=Yr,Yr.append=$r.append,Yr.insert=$r.insert,Yr.empty=$r.empty,Yr.node=$r.node,Yr.select=function(t){for(var e,n,i,r,o,s=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var c=-1,u=r.length;++c<u;)(o=r[c])?(e.push(i[c]=n=t.call(r.parentNode,o.__data__,c)),n.__data__=o.__data__):e.push(null)}return p(s)},$r.transition=function(){var t,e,n=ys||++_s,i=[],r=Object.create(Cs);r.time=Date.now();for(var o=-1,s=this.length;++o<s;){i.push(t=[]);for(var a=this[o],l=-1,c=a.length;++l<c;)(e=a[l])&&tr(e,l,n,r),t.push(e)}return Qi(i,n)};var Xr=p([[Ar]]);Xr[0].parentNode=Br,Tr.select=function(t){return"string"==typeof t?Xr.select(t):p([[t]])},Tr.selectAll=function(t){return"string"==typeof t?Xr.selectAll(t):p([Rr(t)])},Tr.behavior.zoom=function(){function t(){this.on("mousedown.zoom",a).on("mousemove.zoom",u).on(Qr+".zoom",l).on("dblclick.zoom",f).on("touchstart.zoom",p).on("touchmove.zoom",g).on("touchend.zoom",p)}function e(t){return[(t[0]-C[0])/S,(t[1]-C[1])/S]}function n(t){return[t[0]*S+C[0],t[1]*S+C[1]]}function i(t){S=Math.max(k[0],Math.min(k[1],t))}function r(t,e){e=n(e),C[0]+=t[0]-e[0],C[1]+=t[1]-e[1]}function o(){b&&b.domain(y.range().map(function(t){return(t-C[0])/S}).map(y.invert)),x&&x.domain(w.range().map(function(t){return(t-C[1])/S}).map(w.invert))}function s(t){o(),Tr.event.preventDefault(),t({type:"zoom",scale:S,translate:C})}function a(){var t=this,n=E.of(t,arguments),i=Tr.event.target,o=0,a=Tr.select(Mr).on("mousemove.zoom",function(){o=1,r(Tr.mouse(t),l),s(n)}).on("mouseup.zoom",function(){o&&c(),a.on("mousemove.zoom",null).on("mouseup.zoom",null),o&&Tr.event.target===i&&h(a,"click.zoom")}),l=e(Tr.mouse(t));Mr.focus(),c()}function l(){m||(m=e(Tr.mouse(this))),i(Math.pow(2,.002*Gr())*S),r(Tr.mouse(this),m),s(E.of(this,arguments))}function u(){m=null}function f(){var t=Tr.mouse(this),n=e(t),o=Math.log(S)/Math.LN2;i(Math.pow(2,Tr.event.shiftKey?Math.ceil(o)-1:Math.floor(o)+1)),r(t,n),s(E.of(this,arguments))}function p(){var t=Tr.touches(this),n=Date.now();if(v=S,m={},t.forEach(function(t){m[t.identifier]=e(t)}),c(),1===t.length){if(500>n-_){var o=t[0],a=e(t[0]);i(2*S),r(o,a),s(E.of(this,arguments))}_=n}}function g(){var t=Tr.touches(this),e=t[0],n=m[e.identifier];if(o=t[1]){var o,a=m[o.identifier];e=[(e[0]+o[0])/2,(e[1]+o[1])/2],n=[(n[0]+a[0])/2,(n[1]+a[1])/2],i(Tr.event.scale*v)}r(e,n),_=null,s(E.of(this,arguments))}var m,v,y,b,w,x,_,C=[0,0],S=1,k=Kr,E=d(t,"zoom");return t.translate=function(e){return arguments.length?(C=e.map(Number),o(),t):C},t.scale=function(e){return arguments.length?(S=+e,o(),t):S},t.scaleExtent=function(e){return arguments.length?(k=null==e?Kr:e.map(Number),t):k},t.x=function(e){return arguments.length?(b=e,y=e.copy(),C=[0,0],S=1,t):b},t.y=function(e){return arguments.length?(x=e,w=e.copy(),C=[0,0],S=1,t):x},Tr.rebind(t,E,"on")};var Gr,Kr=[0,1/0],Qr="onwheel"in Ar?(Gr=function(){return-Tr.event.deltaY*(Tr.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ar?(Gr=function(){return Tr.event.wheelDelta},"mousewheel"):(Gr=function(){return-Tr.event.detail},"MozMousePixelScroll");P.prototype.toString=function(){return this.rgb()+""},Tr.hsl=function(t,e,n){return 1===arguments.length?t instanceof R?O(t.h,t.s,t.l):it(""+t,rt,O):O(+t,+e,+n)};var Zr=R.prototype=new P;Zr.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),O(this.h,this.s,this.l/t)},Zr.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),O(this.h,this.s,t*this.l)},Zr.rgb=function(){return H(this.h,this.s,this.l)};var Jr=Math.PI,to=1e-6,eo=Jr/180,no=180/Jr;Tr.hcl=function(t,e,n){return 1===arguments.length?t instanceof U?q(t.h,t.c,t.l):t instanceof X?K(t.l,t.a,t.b):K((t=ot((t=Tr.rgb(t)).r,t.g,t.b)).l,t.a,t.b):q(+t,+e,+n)};var io=U.prototype=new P;io.brighter=function(t){return q(this.h,this.c,Math.min(100,this.l+ro*(arguments.length?t:1)))},io.darker=function(t){return q(this.h,this.c,Math.max(0,this.l-ro*(arguments.length?t:1)))},io.rgb=function(){return V(this.h,this.c,this.l).rgb()},Tr.lab=function(t,e,n){return 1===arguments.length?t instanceof X?Y(t.l,t.a,t.b):t instanceof U?V(t.l,t.c,t.h):ot((t=Tr.rgb(t)).r,t.g,t.b):Y(+t,+e,+n)};var ro=18,oo=.95047,so=1,ao=1.08883,lo=X.prototype=new P;lo.brighter=function(t){return Y(Math.min(100,this.l+ro*(arguments.length?t:1)),this.a,this.b)},lo.darker=function(t){return Y(Math.max(0,this.l-ro*(arguments.length?t:1)),this.a,this.b)},lo.rgb=function(){return G(this.l,this.a,this.b)},Tr.rgb=function(t,e,n){return 1===arguments.length?t instanceof et?tt(t.r,t.g,t.b):it(""+t,tt,H):tt(~~t,~~e,~~n)};var co=et.prototype=new P;co.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),tt(Math.min(255,Math.floor(e/t)),Math.min(255,Math.floor(n/t)),Math.min(255,Math.floor(i/t)))):tt(r,r,r)},co.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),tt(Math.floor(t*this.r),Math.floor(t*this.g),Math.floor(t*this.b))},co.hsl=function(){return rt(this.r,this.g,this.b)},co.toString=function(){return"#"+nt(this.r)+nt(this.g)+nt(this.b)};var uo=Tr.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});uo.forEach(function(t,e){uo.set(t,it(e,tt,H))}),Tr.functor=lt,Tr.xhr=function(t,e,n){function i(){var t=l.status;!t&&l.responseText||t>=200&&300>t||304===t?o.load.call(r,a.call(r,l)):o.error.call(r,l)}var r={},o=Tr.dispatch("progress","load","error"),s={},a=ct,l=new(Mr.XDomainRequest&&/^(http(s)?:)?\/\//.test(t)?XDomainRequest:XMLHttpRequest);return"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=Tr.event;Tr.event=t;try{o.progress.call(r,l)}finally{Tr.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.response=function(t){return a=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(Rr(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var a in s)l.setRequestHeader(a,s[a]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),l.send(null==i?null:i),r},r.abort=function(){return l.abort(),r},Tr.rebind(r,o,"on"),2===arguments.length&&"function"==typeof e&&(n=e,e=null),null==n?r:r.get(ut(n))},Tr.csv=ht(",","text/csv"),Tr.tsv=ht("  ","text/tab-separated-values");var ho,fo,po=0,go={},mo=null;Tr.timer=function(t,e,n){if(arguments.length<3){if(arguments.length<2)e=0;else if(!isFinite(e))return;n=Date.now()}var i=go[t.id];i&&i.callback===t?(i.then=n,i.delay=e):go[t.id=++po]=mo={callback:t,then:n,delay:e,next:mo},ho||(fo=clearTimeout(fo),ho=1,vo(dt))},Tr.timer.flush=function(){for(var t,e=Date.now(),n=mo;n;)t=e-n.then,n.delay||(n.flush=n.callback(t)),n=n.next;ft()};var vo=Mr.requestAnimationFrame||Mr.webkitRequestAnimationFrame||Mr.mozRequestAnimationFrame||Mr.oRequestAnimationFrame||Mr.msRequestAnimationFrame||function(t){setTimeout(t,17)},yo=[3,3],bo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*Math.abs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});Tr.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Tr.round(t,pt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),bo[8+n/3]},Tr.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},Tr.format=function(t){var e=wo.exec(t),n=e[1]||" ",i=e[2]||">",r=e[3]||"",o=e[4]||"",s=e[5],a=+e[6],l=e[7],c=e[8],u=e[9],h=1,d="",f=!1;switch(c&&(c=+c.substring(1)),(s||"0"===n&&"="===i)&&(s=n="0",i="=",l&&(a-=Math.floor((a-1)/4))),u){case"n":l=!0,u="g";break;case"%":h=100,d="%",u="f";break;case"p":h=100,d="%",u="r";break;case"b":case"o":case"x":case"X":o&&(o="0"+u.toLowerCase());case"c":case"d":f=!0,c=0;break;case"s":h=-1,u="r"}"#"===o&&(o=""),"r"!=u||c||(u="g"),null!=c&&("g"==u?c=Math.max(1,Math.min(21,c)):("e"==u||"f"==u)&&(c=Math.max(0,Math.min(20,c)))),u=xo.get(u)||gt;var p=s&&l;return function(t){if(f&&t%1)return"";var e=0>t||0===t&&0>1/t?(t=-t,"-"):r;if(0>h){var g=Tr.formatPrefix(t,c);t=g.scale(t),d=g.symbol}else t*=h;t=u(t,c),!s&&l&&(t=_o(t));var m=o.length+t.length+(p?0:e.length),v=a>m?new Array(m=a-m+1).join(n):"";return p&&(t=_o(v+t)),t.replace(".","."),e+=o,("<"===i?e+t+v:">"===i?v+e+t:"^"===i?v.substring(0,m>>=1)+e+t+v.substring(m):e+(p?t:v+t))+d}};var wo=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,xo=Tr.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Tr.round(t,pt(t,e))).toFixed(Math.max(0,Math.min(20,pt(t*(1+1e-15),e))))}}),_o=ct;if(yo){var Co=yo.length;_o=function(t){for(var e=t.lastIndexOf("."),n=e>=0?"."+t.substring(e+1):(e=t.length,""),i=[],r=0,o=yo[0];e>0&&o>0;)i.push(t.substring(e-=o,e+o)),o=yo[r=(r+1)%Co];return i.reverse().join(",")+n}}Tr.geo={},Tr.geo.stream=function(t,e){t&&So.hasOwnProperty(t.type)?So[t.type](t,e):mt(t,e)};var So={Feature:function(t,e){mt(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)mt(n[i].geometry,e)}},ko={Sphere:function(t,e){e.sphere()},Point:function(t,e){var n=t.coordinates;e.point(n[0],n[1])},MultiPoint:function(t,e){for(var n,i=t.coordinates,r=-1,o=i.length;++r<o;)n=i[r],e.point(n[0],n[1])},LineString:function(t,e){vt(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)vt(n[i],e,0)},Polygon:function(t,e){yt(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)yt(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)mt(n[i],e)}};Tr.geo.area=function(t){return Eo=0,Tr.geo.stream(t,Mo),Eo};var Eo,To,Ao,Mo={sphere:function(){Eo+=4*Jr},point:A,lineStart:A,lineEnd:A,polygonStart:function(){To=1,Ao=0,Mo.lineStart=bt},polygonEnd:function(){var t=2*Math.atan2(Ao,To);Eo+=0>t?4*Jr+t:t,Mo.lineStart=Mo.lineEnd=Mo.point=A}};Tr.geo.bounds=wt(ct),Tr.geo.centroid=function(t){No=Do=Io=Lo=Po=0,Tr.geo.stream(t,Oo);var e;return Do&&Math.abs(e=Math.sqrt(Io*Io+Lo*Lo+Po*Po))>to?[Math.atan2(Lo,Io)*no,Math.asin(Math.max(-1,Math.min(1,Po/e)))*no]:void 0};var No,Do,Io,Lo,Po,Oo={sphere:function(){2>No&&(No=2,Do=Io=Lo=Po=0)},point:xt,lineStart:Ct,lineEnd:St,polygonStart:function(){2>No&&(No=2,Do=Io=Lo=Po=0),Oo.lineStart=_t},polygonEnd:function(){Oo.lineStart=Ct}},Ro=Rt(Dt,function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Jr:-Jr,l=Math.abs(o-n);Math.abs(l-Jr)<to?(t.point(n,i=(i+s)/2>0?Jr/2:-Jr/2),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=Jr&&(Math.abs(n-r)<to&&(n-=r*to),Math.abs(o-a)<to&&(o-=a*to),i=Wt(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)r=n*Jr/2,i.point(-Jr,r),i.point(0,r),i.point(Jr,r),i.point(Jr,0),i.point(Jr,-r),i.point(0,-r),i.point(-Jr,-r),i.point(-Jr,0),i.point(-Jr,r);else if(Math.abs(t[0]-e[0])>to){var o=(t[0]<e[0]?1:-1)*Jr;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),Ho=1e9;Tr.geo.projection=Yt,Tr.geo.projectionMutator=Xt,(Tr.geo.equirectangular=function(){return Yt(Kt)}).raw=Kt.invert=Kt,Tr.geo.rotation=function(t){function e(e){return e=t(e[0]*eo,e[1]*eo),e[0]*=no,e[1]*=no,e}return t=Qt(t[0]%360*eo,t[1]*eo,t.length>2?t[2]*eo:0),e.invert=function(e){return e=t.invert(e[0]*eo,e[1]*eo),e[0]*=no,e[1]*=no,e},e},Tr.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=Qt(-t[0]*eo,-t[1]*eo,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=no,t[1]*=no}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=ee((e=+i)*eo,r*eo),t):e},t.precision=function(i){return arguments.length?(n=ee(e*eo,(r=+i)*eo),t):r},t.angle(90)},Tr.geo.distance=function(t,e){var n,i=(e[0]-t[0])*eo,r=t[1]*eo,o=e[1]*eo,s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*s)*n+(n=c*u-l*h*a)*n),l*u+c*h*a)},Tr.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Tr.range(Math.ceil(o/m)*m,r,m).map(d).concat(Tr.range(Math.ceil(c/v)*v,l,v).map(f)).concat(Tr.range(Math.ceil(i/p)*p,n,p).filter(function(t){return Math.abs(t%m)>to}).map(u)).concat(Tr.range(Math.ceil(a/g)*g,s,g).filter(function(t){return Math.abs(t%v)>to}).map(h))}var n,i,r,o,s,a,l,c,u,h,d,f,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(f(l).slice(1),d(r).reverse().slice(1),f(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],c=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),c>l&&(e=c,c=l,l=e),t.precision(y)):[[o,c],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(y)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,u=ie(a,s,90),h=re(i,n,y),d=ie(c,l,90),f=re(o,r,y),t):y},t.majorExtent([[-180,-90+to],[180,90-to]]).minorExtent([[-180,-80-to],[180,80+to]])},Tr.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=oe,r=se;return t.distance=function(){return Tr.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},Tr.geo.interpolate=function(t,e){return ae(t[0]*eo,t[1]*eo,e[0]*eo,e[1]*eo)},Tr.geo.length=function(t){return Fo=0,Tr.geo.stream(t,zo),Fo};var Fo,zo={sphere:A,point:A,lineStart:function(){function t(t,r){var o=Math.sin(r*=eo),s=Math.cos(r),a=Math.abs((t*=eo)-e),l=Math.cos(a);Fo+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=i*o-n*s*l)*a),n*o+i*s*l),e=t,n=o,i=s}var e,n,i;zo.point=function(r,o){e=r*eo,n=Math.sin(o*=eo),i=Math.cos(o),zo.point=t},zo.lineEnd=function(){zo.point=zo.lineEnd=A}},lineEnd:A,polygonStart:A,polygonEnd:A};(Tr.geo.conicEqualArea=function(){return le(ce)}).raw=ce,Tr.geo.albersUsa=function(){function t(t){return e(t)(t)}function e(t){var e=t[0],n=t[1];return n>50?s:-140>e?a:21>n?l:o}var n,i,r,o=Tr.geo.conicEqualArea().rotate([98,0]).center([0,38]).parallels([29.5,45.5]),s=Tr.geo.conicEqualArea().rotate([160,0]).center([0,60]).parallels([55,65]),a=Tr.geo.conicEqualArea().rotate([160,0]).center([0,20]).parallels([8,18]),l=Tr.geo.conicEqualArea().rotate([60,0]).center([0,10]).parallels([8,18]);return t.invert=function(t){return n(t)||i(t)||r(t)||o.invert(t)},t.scale=function(e){return arguments.length?(o.scale(e),s.scale(.6*e),a.scale(e),l.scale(1.5*e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var c=o.scale(),u=e[0],h=e[1];return o.translate(e),s.translate([u-.4*c,h+.17*c]),a.translate([u-.19*c,h+.2*c]),l.translate([u+.58*c,h+.43*c]),n=ue(s,[[-180,50],[-130,72]]),i=ue(a,[[-164,18],[-154,24]]),r=ue(l,[[-67.5,17.5],[-65,19]]),t},t.scale(1e3)};var Bo,Wo,jo={point:A,lineStart:A,lineEnd:A,polygonStart:function(){Wo=0,jo.lineStart=he},polygonEnd:function(){jo.lineStart=jo.lineEnd=jo.point=A,Bo+=Math.abs(Wo/2)}},$o={point:fe,lineStart:pe,lineEnd:ge,polygonStart:function(){$o.lineStart=me},polygonEnd:function(){$o.point=fe,$o.lineStart=pe,$o.lineEnd=ge}};Tr.geo.path=function(){function t(t){return t&&Tr.geo.stream(t,i(r.pointRadius("function"==typeof o?+o.apply(this,arguments):o))),r.result()}var e,n,i,r,o=4.5;return t.area=function(t){return Bo=0,Tr.geo.stream(t,i(jo)),Bo},t.centroid=function(t){return No=Io=Lo=Po=0,Tr.geo.stream(t,i($o)),Po?[Io/Po,Lo/Po]:void 0},t.bounds=function(t){return wt(i)(t)},t.projection=function(n){return arguments.length?(i=(e=n)?n.stream||be(n):ct,t):e},t.context=function(e){return arguments.length?(r=null==(n=e)?new de:new ve(e),t):n},t.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:+e,t):o},t.projection(Tr.geo.albersUsa()).context(null)},Tr.geo.albers=function(){return Tr.geo.conicEqualArea().parallels([29.5,45.5]).rotate([98,0]).center([0,38]).scale(1e3)};var qo=we(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Tr.geo.azimuthalEqualArea=function(){return Yt(qo)}).raw=qo;var Uo=we(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},ct);(Tr.geo.azimuthalEquidistant=function(){return Yt(Uo)}).raw=Uo,(Tr.geo.conicConformal=function(){return le(xe)}).raw=xe,(Tr.geo.conicEquidistant=function(){return le(_e)}).raw=_e;var Vo=we(function(t){return 1/t},Math.atan);(Tr.geo.gnomonic=function(){return Yt(Vo)}).raw=Vo,Ce.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Jr/2]},(Tr.geo.mercator=function(){return Se(Ce)}).raw=Ce;var Yo=we(function(){return 1},Math.asin);(Tr.geo.orthographic=function(){return Yt(Yo)}).raw=Yo;var Xo=we(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Tr.geo.stereographic=function(){return Yt(Xo)}).raw=Xo,ke.invert=function(t,e){return[Math.atan2(W(t),Math.cos(e)),B(Math.sin(e)/j(t))]},(Tr.geo.transverseMercator=function(){return Se(ke)}).raw=ke,Tr.geom={},Tr.svg={},Tr.svg.line=function(){return Ee(ct)};var Go=Tr.map({linear:Me,"linear-closed":function(t){return Me(t)+"Z"},"step-before":Ne,"step-after":De,basis:Pe,"basis-open":function(t){if(t.length<4)return Me(t);for(var e,n=[],i=-1,r=t.length,o=[0],s=[0];++i<3;)e=t[i],o.push(e[0]),s.push(e[1]);for(n.push(Oe(Zo,o)+","+Oe(Zo,s)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),Re(n,o,s);return n.join("")},"basis-closed":function(t){for(var e,n,i=-1,r=t.length,o=r+4,s=[],a=[];++i<4;)n=t[i%r],s.push(n[0]),a.push(n[1]);for(e=[Oe(Zo,s),",",Oe(Zo,a)],--i;++i<o;)n=t[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),Re(e,s,a);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],s=t[0][1],a=t[n][0]-o,l=t[n][1]-s,c=-1;++c<=n;)i=t[c],r=c/n,i[0]=e*i[0]+(1-e)*(o+r*a),i[1]=e*i[1]+(1-e)*(s+r*l);return Pe(t)},cardinal:function(t,e){return t.length<3?Me(t):t[0]+Ie(t,Le(t,e))},"cardinal-open":function(t,e){return t.length<4?Me(t):t[1]+Ie(t.slice(1,t.length-1),Le(t,e))},"cardinal-closed":function(t,e){return t.length<3?Me(t):t[0]+Ie((t.push(t[0]),t),Le([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Me(t):t[0]+Ie(t,ze(t))}});Go.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ko=[0,2/3,1/3,0],Qo=[0,1/3,2/3,0],Zo=[0,1/6,2/3,1/6];Tr.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r,o,s,a,l,c,u,h,d,f,p,g=lt(n),m=lt(i),v=t.length,y=v-1,b=[],w=[],x=0;if(g===Te&&i===Ae)e=t;else for(o=0,e=[];v>o;++o)e.push([+g.call(this,r=t[o],o),+m.call(this,r,o)]);for(o=1;v>o;++o)e[o][1]<e[x][1]?x=o:e[o][1]==e[x][1]&&(x=e[o][0]<e[x][0]?o:x);for(o=0;v>o;++o)o!==x&&(l=e[o][1]-e[x][1],a=e[o][0]-e[x][0],b.push({angle:Math.atan2(l,a),index:o}));for(b.sort(function(t,e){return t.angle-e.angle}),f=b[0].angle,d=b[0].index,h=0,o=1;y>o;++o)s=b[o].index,f==b[o].angle?(a=e[d][0]-e[x][0],l=e[d][1]-e[x][1],c=e[s][0]-e[x][0],u=e[s][1]-e[x][1],a*a+l*l>=c*c+u*u?b[o].index=-1:(b[h].index=-1,f=b[o].angle,h=o,d=s)):(f=b[o].angle,h=o,d=s);for(w.push(x),o=0,s=0;2>o;++s)-1!==b[s].index&&(w.push(b[s].index),o++);for(p=w.length;y>s;++s)if(-1!==b[s].index){for(;!Be(w[p-2],w[p-1],b[s].index,e);)--p;w[p++]=b[s].index}var _=[];for(o=0;p>o;++o)_.push(t[w[o]]);return _}var n=Te,i=Ae;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},Tr.geom.polygon=function(t){return t.area=function(){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return.5*i},t.centroid=function(e){var n,i,r=-1,o=t.length,s=0,a=0,l=t[o-1];for(arguments.length||(e=-1/(6*t.area()));++r<o;)n=l,l=t[r],i=n[0]*l[1]-l[0]*n[1],s+=(n[0]+l[0])*i,a+=(n[1]+l[1])*i;return[s*e,a*e]},t.clip=function(e){for(var n,i,r,o,s,a,l=-1,c=t.length,u=t[c-1];++l<c;){for(n=e.slice(),e.length=0,o=t[l],s=n[(r=n.length)-1],i=-1;++i<r;)a=n[i],We(a,u,o)?(We(s,u,o)||e.push(je(s,a,u,o)),e.push(a)):We(s,u,o)&&e.push(je(s,a,u,o)),s=a;u=o}return e},t},Tr.geom.delaunay=function(t){var e=t.map(function(){return[]}),n=[];return $e(t,function(n){e[n.region.l.index].push(t[n.region.r.index])}),e.forEach(function(e,i){var r=t[i],o=r[0],s=r[1];e.forEach(function(t){t.angle=Math.atan2(t[0]-o,t[1]-s)}),e.sort(function(t,e){return t.angle-e.angle});for(var a=0,l=e.length-1;l>a;a++)n.push([r,e[a],e[a+1]])}),n},Tr.geom.voronoi=function(t){function e(t){var e,i,s,a=t.map(function(){return[]}),l=lt(r),c=lt(o),u=t.length,h=1e6;if(l===Te&&c===Ae)e=t;else for(e=[],s=0;u>s;++s)e.push([+l.call(this,i=t[s],s),+c.call(this,i,s)]);if($e(e,function(t){var e,n,i,r,o,s;1===t.a&&t.b>=0?(e=t.ep.r,n=t.ep.l):(e=t.ep.l,n=t.ep.r),1===t.a?(o=e?e.y:-h,i=t.c-t.b*o,s=n?n.y:h,r=t.c-t.b*s):(i=e?e.x:-h,o=t.c-t.a*i,r=n?n.x:h,s=t.c-t.a*r);var l=[i,o],c=[r,s];a[t.region.l.index].push(l,c),a[t.region.r.index].push(l,c)}),(a=a.map(function(t,n){var i=e[n][0],r=e[n][1],o=t.map(function(t){return Math.atan2(t[0]-i,t[1]-r)}),s=Tr.range(t.length).sort(function(t,e){return o[t]-o[e]});return s.filter(function(t,e){return!e||o[t]-o[s[e-1]]>to}).map(function(e){return t[e]})})).forEach(function(t,n){var i=t.length;if(!i)return t.push([-h,-h],[-h,h],[h,h],[h,-h]);if(!(i>2)){var r=e[n],o=t[0],s=t[1],a=r[0],l=r[1],c=o[0],u=o[1],d=s[0],f=s[1],p=Math.abs(d-c),g=f-u;if(Math.abs(g)<to){v=u>l?-h:h;t.push([-h,v],[h,v])}else if(to>p){var m=c>a?-h:h;t.push([m,-h],[m,h])}else{var v=(c-a)*(f-u)>(d-c)*(u-l)?h:-h,y=Math.abs(g)-p;Math.abs(y)<to?t.push([0>g?v:-v,v]):(y>0&&(v*=-1),t.push([-h,v],[h,v]))}}}),n)for(s=0;u>s;++s)n(a[s]);for(s=0;u>s;++s)a[s].point=t[s];return a}var n,i=null,r=Te,o=Ae;return arguments.length?e(t):(e.x=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(o=t,e):o},e.size=function(t){return arguments.length?(null==t?n=null:(i=[+t[0],+t[1]],n=Tr.geom.polygon([[0,0],[0,i[1]],i,[i[0],0]]).clip),e):i},e.links=function(t){var e,n,i,s=t.map(function(){return[]}),a=[],l=lt(r),c=lt(o),u=t.length;if(l===Te&&c===Ae)e=t;else for(i=0;u>i;++i)e.push([+l.call(this,n=t[i],i),+c.call(this,n,i)]);return $e(e,function(e){var n=e.region.l.index,i=e.region.r.index;s[n][i]||(s[n][i]=s[i][n]=!0,a.push({source:t[n],target:t[i]}))}),a},e.triangles=function(t){if(r===Te&&o===Ae)return Tr.geom.delaunay(t);var e,n,i,s,a,l=lt(r),c=lt(o);for(s=0,e=[],a=t.length;a>s;++s)n=[+l.call(this,i=t[s],s),+c.call(this,i,s)],n.data=i,e.push(n);return Tr.geom.delaunay(e).map(function(t){return t.map(function(t){return t.data})})},e)};var Jo={l:"r",r:"l"};Tr.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(Math.abs(l-n)+Math.abs(u-i)<.01)c(t,e,n,i,r,o,s,a);else{var h=t.point;t.x=t.y=t.point=null,c(t,h,l,u,r,o,s,a),c(t,e,n,i,r,o,s,a)}else t.x=n,t.y=i,t.point=e}else c(t,e,n,i,r,o,s,a)}function c(t,e,n,i,r,s,a,l){var c=.5*(r+a),u=.5*(s+l),h=n>=c,d=i>=u,f=(d<<1)+h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=Ve()),h?r=c:a=c,d?s=u:l=u,o(t,e,n,i,r,s,a,l)}var u,h,d,f,p,g,m,v,y,b=lt(a),w=lt(l);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),h=[],d=[],p=t.length,s)for(f=0;p>f;++f)(u=t[f]).x<g&&(g=u.x),u.y<m&&(m=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),h.push(u.x),d.push(u.y);else for(f=0;p>f;++f){var x=+b(u=t[f],f),_=+w(u,f);g>x&&(g=x),m>_&&(m=_),x>v&&(v=x),_>y&&(y=_),h.push(x),d.push(_)}var C=v-g,S=y-m;C>S?y=m+C:v=g+S;var k=Ve();if(k.add=function(t){o(k,t,+b(t,++f),+w(t,f),g,m,v,y)},k.visit=function(t){Ye(t,k,g,m,v,y)},f=-1,null==e){for(;++f<p;)o(k,t[f],h[f],d[f],g,m,v,y);--f}else t.forEach(k.add);return h=d=t=u=null,k}var s,a=Te,l=Ae;return(s=arguments.length)?(a=qe,l=Ue,3===s&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(l=t,o):l},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i,r]},o)},Tr.interpolateRgb=Xe,Tr.transform=function(t){var e=Ar.createElementNS(Tr.ns.prefix.svg,"g");return(Tr.transform=function(t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate();return new Ge(n?n.matrix:ts)})(t)},Ge.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ts={a:1,b:0,c:0,d:1,e:0,f:0};Tr.interpolateNumber=Je,Tr.interpolateTransform=tn,Tr.interpolateObject=en,Tr.interpolateString=nn;var es=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Tr.interpolate=rn,Tr.interpolators=[function(t,e){var n=typeof e;return("string"===n||n!==typeof t?uo.has(e)||/^(#|rgb\(|hsl\()/.test(e)?Xe:nn:e instanceof P?Xe:"object"===n?Array.isArray(e)?sn:en:Je)(t,e)}],Tr.interpolateArray=sn;var ns=function(){return ct},is=Tr.map({linear:ns,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return un},cubic:function(){return hn},sin:function(){return dn},exp:function(){return fn},circle:function(){return pn},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/(2*Jr)*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,10*-i)*Math.sin(2*(i-n)*Jr/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return gn}}),rs=Tr.map({in:ct,out:ln,"in-out":cn,"out-in":function(t){return cn(ln(t))}});Tr.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,i=e>=0?t.substring(e+1):"in";return n=is.get(n)||ns,i=rs.get(i)||ct,an(i(n.apply(null,Array.prototype.slice.call(arguments,1))))},Tr.interpolateHcl=function(t,e){t=Tr.hcl(t),e=Tr.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,s=e.c-i,a=e.l-r;return o>180?o-=360:-180>o&&(o+=360),function(t){return V(n+o*t,i+s*t,r+a*t)+""}},Tr.interpolateHsl=function(t,e){t=Tr.hsl(t),e=Tr.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,s=e.s-i,a=e.l-r;return o>180?o-=360:-180>o&&(o+=360),function(t){return H(n+o*t,i+s*t,r+a*t)+""}},Tr.interpolateLab=function(t,e){t=Tr.lab(t),e=Tr.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,s=e.a-i,a=e.b-r;return function(t){return G(n+o*t,i+s*t,r+a*t)+""}},Tr.interpolateRound=mn,Tr.layout={},Tr.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(bn(t[n]));return e}},Tr.layout.chord=function(){function t(){var t,c,h,d,f,p={},g=[],m=Tr.range(o),v=[];for(n=[],i=[],t=0,d=-1;++d<o;){for(c=0,f=-1;++f<o;)c+=r[d][f];g.push(c),v.push(Tr.range(o)),t+=c}for(s&&m.sort(function(t,e){return s(g[t],g[e])}),a&&v.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),t=(2*Jr-u*o)/t,c=0,d=-1;++d<o;){for(h=c,f=-1;++f<o;){var y=m[d],b=v[y][f],w=r[y][b],x=c,_=c+=w*t;p[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}i[y]={index:y,startAngle:h,endAngle:c,value:(c-h)/t},c+=u}for(d=-1;++d<o;)for(f=d-1;++f<o;){var C=p[d+"-"+f],S=p[f+"-"+d];(C.value||S.value)&&n.push(C.value<S.value?{source:S,target:C}:{source:C,target:S})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,s,a,l,c={},u=0;return c.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,c):r},c.padding=function(t){return arguments.length?(u=t,n=i=null,c):u},c.sortGroups=function(t){return arguments.length?(s=t,n=i=null,c):s},c.sortSubgroups=function(t){return arguments.length?(a=t,n=null,c):a},c.sortChords=function(t){return arguments.length?(l=t,n&&e(),c):l},c.chords=function(){return n||t(),n},c.groups=function(){return i||t(),i},c},Tr.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=1/Math.sqrt(o*o+s*s);if(g>(r-n)*a){l=e.charge*a*a;return t.px-=o*l,t.py-=s*l,!0}if(e.point&&isFinite(a)){var l=e.pointCharge*a*a;t.px-=o*l,t.py-=s*l}}return!e.charge}}function e(t){t.px=Tr.event.x,t.py=Tr.event.y,a.resume()}var n,i,r,o,s,a={},l=Tr.dispatch("start","tick","end"),c=[1,1],u=.9,h=os,d=ss,f=-30,p=.1,g=.8,m=[],v=[];return a.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var e,n,a,h,d,g,y,b,w,x=m.length,_=v.length;for(n=0;_>n;++n)a=v[n],h=a.source,d=a.target,b=d.x-h.x,w=d.y-h.y,(g=b*b+w*w)&&(g=i*o[n]*((g=Math.sqrt(g))-r[n])/g,b*=g,w*=g,d.x-=b*(y=h.weight/(d.weight+h.weight)),d.y-=w*y,h.x+=b*(y=1-y),h.y+=w*y);if((y=i*p)&&(b=c[0]/2,w=c[1]/2,n=-1,y))for(;++n<x;)a=m[n],a.x+=(b-a.x)*y,a.y+=(w-a.y)*y;if(f)for(En(e=Tr.geom.quadtree(m),i,s),n=-1;++n<x;)(a=m[n]).fixed||e.visit(t(a));for(n=-1;++n<x;)(a=m[n]).fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*u,a.y-=(a.py-(a.py=a.y))*u);l.tick({type:"tick",alpha:i})},a.nodes=function(t){return arguments.length?(m=t,a):m},a.links=function(t){return arguments.length?(v=t,a):v},a.size=function(t){return arguments.length?(c=t,a):c},a.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,a):d},a.friction=function(t){return arguments.length?(u=+t,a):u},a.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.gravity=function(t){return arguments.length?(p=+t,a):p},a.theta=function(t){return arguments.length?(g=+t,a):g},a.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(l.start({type:"start",alpha:i=t}),Tr.timer(a.tick)),a):i},a.start=function(){function t(t,n){for(var i,r=e(),o=-1,s=r.length;++o<s;)if(!isNaN(i=r[o][t]))return i;return Math.random()*n}function e(){if(!l){for(l=[],i=0;p>i;++i)l[i]=[];for(i=0;g>i;++i){var t=v[i];l[t.source.index].push(t.target),l[t.target.index].push(t.source)}}return l[n]}var n,i,l,u,p=m.length,g=v.length,y=c[0],b=c[1];for(n=0;p>n;++n)(u=m[n]).index=n,u.weight=0;for(n=0;g>n;++n)"number"==typeof(u=v[n]).source&&(u.source=m[u.source]),"number"==typeof u.target&&(u.target=m[u.target]),++u.source.weight,++u.target.weight;for(n=0;p>n;++n)u=m[n],isNaN(u.x)&&(u.x=t("x",y)),isNaN(u.y)&&(u.y=t("y",b)),isNaN(u.px)&&(u.px=u.x),isNaN(u.py)&&(u.py=u.y);if(r=[],"function"==typeof h)for(n=0;g>n;++n)r[n]=+h.call(this,v[n],n);else for(n=0;g>n;++n)r[n]=h;if(o=[],"function"==typeof d)for(n=0;g>n;++n)o[n]=+d.call(this,v[n],n);else for(n=0;g>n;++n)o[n]=d;if(s=[],"function"==typeof f)for(n=0;p>n;++n)s[n]=+f.call(this,m[n],n);else for(n=0;p>n;++n)s[n]=f;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return n||(n=Tr.behavior.drag().origin(ct).on("dragstart.force",_n).on("drag.force",e).on("dragend.force",Cn)),arguments.length?void this.on("mouseover.force",Sn).on("mouseout.force",kn).call(n):n},Tr.rebind(a,l,"on")};var os=20,ss=1;Tr.layout.hierarchy=function(){function t(e,s,a){var l=r.call(n,e,s);if(e.depth=s,a.push(e),l&&(c=l.length)){for(var c,u,h=-1,d=e.children=[],f=0,p=s+1;++h<c;)u=t(l[h],p,a),u.parent=e,d.push(u),f+=u.value;i&&d.sort(i),o&&(e.value=f)}else o&&(e.value=+o.call(n,e,s)||0);return e}function e(t,i){var r=t.children,s=0;if(r&&(a=r.length))for(var a,l=-1,c=i+1;++l<a;)s+=e(r[l],c);else o&&(s=+o.call(n,t,i)||0);return o&&(t.value=s),s}function n(e){var n=[];return t(e,0,n),n}var i=Nn,r=An,o=Mn;return n.sort=function(t){return arguments.length?(i=t,n):i},n.children=function(t){return arguments.length?(r=t,n):r},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n},Tr.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(s=o.length)){var s,a,l,c=-1;for(i=e.value?i/e.value:0;++c<s;)t(a=o[c],n,l=a.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var s=i.call(this,n,o);return t(s[0],0,r[0],r[1]/e(s[0])),s}var i=Tr.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},Tn(n,i)},Tr.layout.pie=function(){function t(o){var s=o.map(function(n,i){return+e.call(t,n,i)}),a=+("function"==typeof i?i.apply(this,arguments):i),l=(("function"==typeof r?r.apply(this,arguments):r)-a)/Tr.sum(s),c=Tr.range(o.length);null!=n&&c.sort(n===as?function(t,e){return s[e]-s[t]}:function(t,e){return n(o[t],o[e])});var u=[];return c.forEach(function(t){var e;u[t]={data:o[t],value:e=s[t],startAngle:a,endAngle:a+=e*l}}),u}var e=Number,n=as,i=0,r=2*Jr;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t};var as={};Tr.layout.stack=function(){function t(a,l){var c=a.map(function(n,i){return e.call(t,n,i)}),u=c.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),s.call(t,e,n)]})}),h=n.call(t,u,l);c=Tr.permute(c,h),u=Tr.permute(u,h);var d,f,p,g=i.call(t,u,l),m=c.length,v=c[0].length;for(f=0;v>f;++f)for(r.call(t,c[0][f],p=g[f],u[0][f][1]),d=1;m>d;++d)r.call(t,c[d][f],p+=u[d-1][f][1],u[d][f][1]);return a}var e=ct,n=On,i=Rn,r=Pn,o=In,s=Ln;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ls.get(e)||On,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:cs.get(e)||Rn,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(r=e,t):r},t};var ls=Tr.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(Hn),o=t.map(Fn),s=Tr.range(i).sort(function(t,e){return r[t]-r[e]}),a=0,l=0,c=[],u=[];for(e=0;i>e;++e)n=s[e],l>a?(a+=o[n],c.push(n)):(l+=o[n],u.push(n));return u.reverse().concat(c)},reverse:function(t){return Tr.range(t.length).reverse()},default:On}),cs=Tr.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,s=[],a=0,l=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>a&&(a=i),s.push(i)}for(n=0;o>n;++n)l[n]=(a-s[n])/2;return l},wiggle:function(t){var e,n,i,r,o,s,a,l,c,u=t.length,h=t[0],d=h.length,f=[];for(f[0]=l=c=0,n=1;d>n;++n){for(e=0,r=0;u>e;++e)r+=t[e][n][1];for(e=0,o=0,a=h[n][0]-h[n-1][0];u>e;++e){for(i=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);e>i;++i)s+=(t[i][n][1]-t[i][n-1][1])/a;o+=s*t[e][n][1]}f[n]=l-=r?o/r*a:0,c>l&&(c=l)}for(n=0;d>n;++n)f[n]-=c;return f},expand:function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=s}for(n=0;o>n;++n)a[n]=0;return a},zero:Rn});Tr.layout.histogram=function(){function t(t,o){for(var s,a,l=[],c=t.map(n,this),u=i.call(this,c,o),h=r.call(this,u,c,o),o=-1,d=c.length,f=h.length-1,p=e?1:1/d;++o<f;)s=l[o]=[],s.dx=h[o+1]-(s.x=h[o]),s.y=0;if(f>0)for(o=-1;++o<d;)(a=c[o])>=u[0]&&a<=u[1]&&(s=l[Tr.bisect(h,a,1,f)-1],s.y+=p,s.push(t[o]));return l}var e=!0,n=Number,i=jn,r=Bn;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=lt(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return Wn(t,e)}:lt(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Tr.layout.tree=function(){function t(t,r){function o(t,e){var i=t.children,r=t._tree;if(i&&(s=i.length)){for(var s,l,c,u=i[0],h=u,d=-1;++d<s;)c=i[d],o(c,l),h=a(c,l,h),l=c;Qn(t);var f=.5*(u._tree.prelim+c._tree.prelim);e?(r.prelim=e._tree.prelim+n(t,e),r.mod=r.prelim-f):r.prelim=f}else e&&(r.prelim=e._tree.prelim+n(t,e))}function s(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(i=n.length)){var i,r=-1;for(e+=t._tree.mod;++r<i;)s(n[r],e)}}function a(t,e,i){if(e){for(var r,o=t,s=t,a=e,l=t.parent.children[0],c=o._tree.mod,u=s._tree.mod,h=a._tree.mod,d=l._tree.mod;a=Un(a),o=qn(o),a&&o;)l=qn(l),s=Un(s),s._tree.ancestor=t,(r=a._tree.prelim+h-o._tree.prelim-c+n(a,o))>0&&(Zn(Jn(a,t,i),t,r),c+=r,u+=r),h+=a._tree.mod,c+=o._tree.mod,d+=l._tree.mod,u+=s._tree.mod;a&&!Un(s)&&(s._tree.thread=a,s._tree.mod+=h-u),o&&!qn(l)&&(l._tree.thread=o,l._tree.mod+=c-d,i=t)}return i}var l=e.call(this,t,r),c=l[0];Kn(c,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),o(c),s(c,-c._tree.prelim);var u=Vn(c,Xn),h=Vn(c,Yn),d=Vn(c,Gn),f=u.x-n(u,h)/2,p=h.x+n(h,u)/2,g=d.depth||1;return Kn(c,function(t){t.x=(t.x-f)/(p-f)*i[0],t.y=t.depth/g*i[1],delete t._tree}),l}var e=Tr.layout.hierarchy().sort(null).value(null),n=$n,i=[1,1];return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=e,t):i},Tn(t,e)},Tr.layout.pack=function(){function t(t,r){var o=e.call(this,t,r),s=o[0];s.x=0,s.y=0,Kn(s,function(t){t.r=Math.sqrt(t.value)}),Kn(s,ri);var a=i[0],l=i[1],c=Math.max(2*s.r/a,2*s.r/l);if(n>0){var u=n*c/2;Kn(s,function(t){t.r+=u}),Kn(s,ri),Kn(s,function(t){t.r-=u}),c=Math.max(2*s.r/a,2*s.r/l)}return ai(s,a/2,l/2,1/c),o}var e=Tr.layout.hierarchy().sort(ti),n=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.padding=function(e){return arguments.length?(n=+e,t):n},Tn(t,e)},Tr.layout.cluster=function(){function t(t,r){var o,s=e.call(this,t,r),a=s[0],l=0;Kn(a,function(t){var e=t.children;e&&e.length?(t.x=ui(e),t.y=ci(e)):(t.x=o?l+=n(t,o):0,t.y=0,o=t)});var c=hi(a),u=di(a),h=c.x-n(c,u)/2,d=u.x+n(u,c)/2;return Kn(a,function(t){t.x=(t.x-h)/(d-h)*i[0],t.y=(1-(a.y?t.y/a.y:1))*i[1]}),s}var e=Tr.layout.hierarchy().sort(null).value(null),n=$n,i=[1,1];return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=e,t):i},Tn(t,e)},Tr.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var s,a,l,c=h(n),u=[],d=o.slice(),p=1/0,g="slice"===f?c.dx:"dice"===f?c.dy:"slice-dice"===f?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(d,c.dx*c.dy/n.value),u.area=0;(l=d.length)>0;)u.push(s=d[l-1]),u.area+=s.area,"squarify"!==f||(a=i(u,g))<=p?(d.pop(),p=a):(u.area-=u.pop().area,r(u,g,c,!1),g=Math.min(c.dx,c.dy),u.length=u.area=0,p=1/0);u.length&&(r(u,g,c,!0),u.length=u.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,s=h(e),a=i.slice(),l=[];for(t(a,s.dx*s.dy/e.value),l.area=0;o=a.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?s.dx:s.dy,s,!a.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,s=t.length,a=n.x,c=n.y,u=e?l(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++o<s;)r=t[o],r.x=a,r.y=c,r.dy=u,a+=r.dx=Math.min(n.x+n.dx-a,u?l(r.area/u):0);r.z=!0,r.dx+=n.x+n.dx-a,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++o<s;)r=t[o],r.x=a,r.y=c,r.dx=u,c+=r.dy=Math.min(n.y+n.dy-c,u?l(r.area/u):0);r.z=!1,r.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function o(i){var r=s||a(i),o=r[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],s&&a.revalue(o),t([o],o.dx*o.dy/o.value),(s?n:e)(o),d&&(s=r),r}var s,a=Tr.layout.hierarchy(),l=Math.round,c=[1,1],u=null,h=fi,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(c=t,o):c},o.padding=function(t){function e(e){return pi(e,t)}if(!arguments.length)return u;var n;return h=null==(u=t)?fi:"function"==(n=typeof t)?function(e){var n=t.call(o,e,e.depth);return null==n?fi(e):pi(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(d=t,s=null,o):d},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(f=t+"",o):f},Tn(o,a)},Tr.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do{n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i}while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=Tr.random.normal.apply(Tr,arguments);return function(){return Math.exp(t())}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e/t}}},Tr.scale={},Tr.scale.linear=function(){return wi([0,1],[0,1],rn,!1)},Tr.scale.log=function(){return Ei(Tr.scale.linear().domain([0,Math.LN10]),10,Ti,Ai)};var us=Tr.format(".0e");Tr.scale.pow=function(){return Ii(Tr.scale.linear(),1)},Tr.scale.sqrt=function(){return Tr.scale.pow().exponent(.5)},Tr.scale.ordinal=function(){return Pi([],{t:"range",a:[[]]})},Tr.scale.category10=function(){return Tr.scale.ordinal().range(hs)},Tr.scale.category20=function(){return Tr.scale.ordinal().range(ds)},Tr.scale.category20b=function(){return Tr.scale.ordinal().range(fs)},Tr.scale.category20c=function(){return Tr.scale.ordinal().range(ps)};var hs=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ds=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],fs=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],ps=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];Tr.scale.quantile=function(){return Oi([],[])},Tr.scale.quantize=function(){return Ri(0,1,[0,1])},Tr.scale.threshold=function(){return Hi([.5],[0,1])},Tr.scale.identity=function(){return Fi([0,1])},Tr.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),s=i.apply(this,arguments)+gs,a=r.apply(this,arguments)+gs,l=(s>a&&(l=s,s=a,a=l),a-s),c=Jr>l?"0":"1",u=Math.cos(s),h=Math.sin(s),d=Math.cos(a),f=Math.sin(a);return l>=ms?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*u+","+o*h+"A"+o+","+o+" 0 "+c+",1 "+o*d+","+o*f+"L"+t*d+","+t*f+"A"+t+","+t+" 0 "+c+",0 "+t*u+","+t*h+"Z":"M"+o*u+","+o*h+"A"+o+","+o+" 0 "+c+",1 "+o*d+","+o*f+"L0,0Z"}var e=zi,n=Bi,i=Wi,r=ji;return t.innerRadius=function(n){return arguments.length?(e=lt(n),t):e},t.outerRadius=function(e){return arguments.length?(n=lt(e),t):n},t.startAngle=function(e){return arguments.length?(i=lt(e),t):i},t.endAngle=function(e){return arguments.length?(r=lt(e),t):r},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(i.apply(this,arguments)+r.apply(this,arguments))/2+gs;return[Math.cos(o)*t,Math.sin(o)*t]},t};var gs=-Jr/2,ms=2*Jr-1e-6;Tr.svg.line.radial=function(){var t=Ee($i);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ne.reverse=De,De.reverse=Ne,Tr.svg.area=function(){return qi(ct)},Tr.svg.area.radial=function(){var t=qi($i);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Tr.svg.chord=function(){function t(t,a){var l=e(this,o,t,a),c=e(this,s,t,a);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,c)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+r(c.r,c.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=a.call(t,r,i),s=l.call(t,r,i)+gs,u=c.call(t,r,i)+gs;return{r:o,a0:s,a1:u,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(u),o*Math.sin(u)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Jr)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=oe,s=se,a=Ui,l=Wi,c=ji;return t.radius=function(e){return arguments.length?(a=lt(e),t):a},t.source=function(e){return arguments.length?(o=lt(e),t):o},t.target=function(e){return arguments.length?(s=lt(e),t):s},t.startAngle=function(e){return arguments.length?(l=lt(e),t):l},t.endAngle=function(e){return arguments.length?(c=lt(e),t):c},t},Tr.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),s=n.call(this,t,r),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return"M"+(l=l.map(i))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=oe,n=se,i=Vi;return t.source=function(n){return arguments.length?(e=lt(n),t):e},t.target=function(e){return arguments.length?(n=lt(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},Tr.svg.diagonal.radial=function(){var t=Tr.svg.diagonal(),e=Vi,n=t.projection;return t.projection=function(t){return arguments.length?n(Yi(e=t)):e},t},Tr.svg.symbol=function(){function t(t,i){return(vs.get(e.call(this,t,i))||Ki)(n.call(this,t,i))}var e=Gi,n=Xi;return t.type=function(n){return arguments.length?(e=lt(n),t):e},t.size=function(e){return arguments.length?(n=lt(e),t):n},t};var vs=Tr.map({circle:Ki,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ws)),n=e*ws;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/bs),n=e*bs/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/bs),n=e*bs/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Tr.svg.symbolTypes=vs.keys();var ys,bs=Math.sqrt(3),ws=Math.tan(30*eo),xs=[],_s=0,Cs={ease:function(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)},delay:0,duration:250};xs.call=$r.call,xs.empty=$r.empty,xs.node=$r.node,Tr.transition=function(t){return arguments.length?ys?t.transition():t:Xr.transition()},Tr.transition.prototype=xs,xs.select=function(t){var e,n,i,r=this.id,o=[];"function"!=typeof t&&(t=g(t));for(var s=-1,a=this.length;++s<a;){o.push(e=[]);for(var l=this[s],c=-1,u=l.length;++c<u;)(i=l[c])&&(n=t.call(i,i.__data__,c))?("__data__"in i&&(n.__data__=i.__data__),tr(n,c,r,i.__transition__[r]),e.push(n)):e.push(null)}return Qi(o,r)},xs.selectAll=function(t){var e,n,i,r,o,s=this.id,a=[];"function"!=typeof t&&(t=m(t));for(var l=-1,c=this.length;++l<c;)for(var u=this[l],h=-1,d=u.length;++h<d;)if(i=u[h]){o=i.__transition__[s],n=t.call(i,i.__data__,h),a.push(e=[]);for(var f=-1,p=n.length;++f<p;)tr(r=n[f],f,s,o),e.push(r)}return Qi(a,s)},xs.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=E(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]);for(var a=0,l=(n=this[o]).length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a)&&e.push(i)}return Qi(r,this.id,this.time).ease(this.ease())},xs.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):I(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(i){i.__transition__[n].tween.set(t,e)})},xs.attr=function(t,e){function n(){this.removeAttribute(o)}function i(){this.removeAttributeNS(o.space,o.local)}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r=on(t),o=Tr.ns.qualify(t);return Zi(this,"attr."+t,e,function(t){return null==t?o.local?i:n:(t+="",o.local?function(){var e,n=this.getAttributeNS(o.space,o.local);return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(o.space,o.local,e(t))})}:function(){var e,n=this.getAttribute(o);return n!==t&&(e=r(n,t),function(t){this.setAttribute(o,e(t))})})})},xs.attrTween=function(t,e){var n=Tr.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,i){var r=e.call(this,t,i,this.getAttributeNS(n.space,n.local));return r&&function(t){this.setAttributeNS(n.space,n.local,r(t))}}:function(t,i){var r=e.call(this,t,i,this.getAttribute(n));return r&&function(t){this.setAttribute(n,r(t))}})},xs.style=function(t,e,n){function i(){this.style.removeProperty(t)}var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}var o=on(t);return Zi(this,"style."+t,e,function(e){return null==e?i:(e+="",function(){var i,r=Mr.getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=o(r,e),function(e){this.style.setProperty(t,i(e),n)})})})},xs.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(i,r){var o=e.call(this,i,r,Mr.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},xs.text=function(t){return Zi(this,"text",t,Ji)},xs.remove=function(){return this.each("end.transition",function(){var t;!this.__transition__&&(t=this.parentNode)&&t.removeChild(this)})},xs.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Tr.ease.apply(Tr,arguments)),I(this,function(n){n.__transition__[e].ease=t}))},xs.delay=function(t){var e=this.id;return I(this,"function"==typeof t?function(n,i,r){n.__transition__[e].delay=0|t.call(n,n.__data__,i,r)}:(t|=0,function(n){n.__transition__[e].delay=t}))},xs.duration=function(t){var e=this.id;return I(this,"function"==typeof t?function(n,i,r){n.__transition__[e].duration=Math.max(1,0|t.call(n,n.__data__,i,r))}:(t=Math.max(1,0|t),function(n){n.__transition__[e].duration=t}))},xs.each=function(t,e){var n=this.id;if(arguments.length<2){var i=Cs,r=ys;ys=n,I(this,function(e,i,r){Cs=e.__transition__[n],t.call(e,e.__data__,i,r)}),Cs=i,ys=r}else I(this,function(i){i.__transition__[n].event.on(t,e)});return this},xs.transition=function(){for(var t,e,n,i,r=this.id,o=++_s,s=[],a=0,l=this.length;l>a;a++){s.push(t=[]);for(var c=0,u=(e=this[a]).length;u>c;c++)(n=e[c])&&(i=Object.create(n.__transition__[r]),i.delay+=i.duration,tr(n,c,o,i)),t.push(n)}return Qi(s,o)},Tr.svg.axis=function(){function t(t){t.each(function(){var t,h=Tr.select(this),d=null==c?n.ticks?n.ticks.apply(n,l):n.domain():c,f=null==e?n.tickFormat?n.tickFormat.apply(n,l):String:e,p=ir(n,d,u),g=h.selectAll(".tick.minor").data(p,String),m=g.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),v=Tr.transition(g.exit()).style("opacity",1e-6).remove(),y=Tr.transition(g).style("opacity",1),b=h.selectAll(".tick.major").data(d,String),w=b.enter().insert("g","path").attr("class","tick major").style("opacity",1e-6),x=Tr.transition(b.exit()).style("opacity",1e-6).remove(),_=Tr.transition(b).style("opacity",1),C=mi(n),S=h.selectAll(".domain").data([0]),k=(S.enter().append("path").attr("class","domain"),Tr.transition(S)),E=n.copy(),T=this.__chart__||E;this.__chart__=E,w.append("line"),w.append("text");var A=w.select("line"),M=_.select("line"),N=b.select("text").text(f),D=w.select("text"),I=_.select("text");switch(i){case"bottom":t=er,m.attr("y2",o),y.attr("x2",0).attr("y2",o),A.attr("y2",r),D.attr("y",Math.max(r,0)+a),M.attr("x2",0).attr("y2",r),I.attr("x",0).attr("y",Math.max(r,0)+a),N.attr("dy",".71em").style("text-anchor","middle"),k.attr("d","M"+C[0]+","+s+"V0H"+C[1]+"V"+s);break;case"top":t=er,m.attr("y2",-o),y.attr("x2",0).attr("y2",-o),A.attr("y2",-r),D.attr("y",-(Math.max(r,0)+a)),M.attr("x2",0).attr("y2",-r),I.attr("x",0).attr("y",-(Math.max(r,0)+a)),N.attr("dy","0em").style("text-anchor","middle"),k.attr("d","M"+C[0]+","+-s+"V0H"+C[1]+"V"+-s);break;case"left":t=nr,m.attr("x2",-o),y.attr("x2",-o).attr("y2",0),A.attr("x2",-r),D.attr("x",-(Math.max(r,0)+a)),M.attr("x2",-r).attr("y2",0),I.attr("x",-(Math.max(r,0)+a)).attr("y",0),N.attr("dy",".32em").style("text-anchor","end"),k.attr("d","M"+-s+","+C[0]+"H0V"+C[1]+"H"+-s);break;case"right":t=nr,m.attr("x2",o),y.attr("x2",o).attr("y2",0),A.attr("x2",r),D.attr("x",Math.max(r,0)+a),M.attr("x2",r).attr("y2",0),I.attr("x",Math.max(r,0)+a).attr("y",0),N.attr("dy",".32em").style("text-anchor","start"),k.attr("d","M"+s+","+C[0]+"H0V"+C[1]+"H"+s)}if(n.ticks)w.call(t,T),_.call(t,E),x.call(t,E),m.call(t,T),y.call(t,E),v.call(t,E);else{var L=E.rangeBand()/2,P=function(t){return E(t)+L};w.call(t,P),_.call(t,P)}})}var e,n=Tr.scale.linear(),i=Ss,r=6,o=6,s=6,a=3,l=[10],c=null,u=0;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in ks?e+"":Ss,t):i},t.ticks=function(){return arguments.length?(l=arguments,t):l},t.tickValues=function(e){return arguments.length?(c=e,t):c},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e,n){if(!arguments.length)return r;var i=arguments.length-1;return r=+e,o=i>1?+n:r,s=i>0?+arguments[i]:r,t},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(e){return arguments.length?(u=+e,t):u},t};var Ss="bottom",ks={top:1,right:1,bottom:1,left:1};Tr.svg.brush=function(){function t(o){o.each(function(){var o,s=Tr.select(this),c=s.selectAll(".background").data([0]),h=s.selectAll(".extent").data([0]),d=s.selectAll(".resize").data(u,String);s.style("pointer-events","all").on("mousedown.brush",r).on("touchstart.brush",r),c.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),h.enter().append("rect").attr("class","extent").style("cursor","move"),d.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Es[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),d.style("display",t.empty()?"none":null),d.exit().remove(),a&&(o=mi(a),c.attr("x",o[0]).attr("width",o[1]-o[0]),n(s)),l&&(o=mi(l),c.attr("y",o[0]).attr("height",o[1]-o[0]),i(s)),e(s)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)][0]+","+h[+/^s/.test(t)][1]+")"})}function n(t){t.select(".extent").attr("x",h[0][0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1][0]-h[0][0])}function i(t){t.select(".extent").attr("y",h[0][1]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1][1]-h[0][1])}function r(){function r(){var t=Tr.event.changedTouches;return t?Tr.touches(m,t)[0]:Tr.mouse(m)}function u(){var t=r(),o=!1;g&&(t[0]+=g[0],t[1]+=g[1]),C||(Tr.event.altKey?(p||(p=[(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]),S[0]=h[+(t[0]<p[0])][0],S[1]=h[+(t[1]<p[1])][1]):p=null),x&&d(t,a,0)&&(n(b),o=!0),_&&d(t,l,1)&&(i(b),o=!0),o&&(e(b),y({type:"brush",mode:C?"move":"resize"}))}function d(t,e,n){var i,r,s=mi(e),a=s[0],l=s[1],c=S[n],u=h[1][n]-h[0][n];return C&&(a-=c,l-=u+c),i=Math.max(a,Math.min(l,t[n])),C?r=(i+=c)+u:(p&&(c=Math.max(a,Math.min(l,2*p[n]-i))),i>c?(r=i,i=c):r=c),h[0][n]!==i||h[1][n]!==r?(o=null,h[0][n]=i,h[1][n]=r,!0):void 0}function f(){u(),b.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Tr.select("body").style("cursor",null),k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),y({type:"brushend"}),c()}var p,g,m=this,v=Tr.select(Tr.event.target),y=s.of(m,arguments),b=Tr.select(m),w=v.datum(),x=!/^(n|s)$/.test(w)&&a,_=!/^(e|w)$/.test(w)&&l,C=v.classed("extent"),S=r(),k=Tr.select(Mr).on("mousemove.brush",u).on("mouseup.brush",f).on("touchmove.brush",u).on("touchend.brush",f).on("keydown.brush",function(){32==Tr.event.keyCode&&(C||(p=null,S[0]-=h[1][0],S[1]-=h[1][1],C=2),c())}).on("keyup.brush",function(){32==Tr.event.keyCode&&2==C&&(S[0]+=h[1][0],S[1]+=h[1][1],C=0,c())});if(C)S[0]=h[0][0]-S[0],S[1]=h[0][1]-S[1];else if(w){var E=+/w$/.test(w),T=+/^n/.test(w);g=[h[1-E][0]-S[0],h[1-T][1]-S[1]],S[0]=h[E][0],S[1]=h[T][1]}else Tr.event.altKey&&(p=S.slice());b.style("pointer-events","none").selectAll(".resize").style("display",null),Tr.select("body").style("cursor",v.style("cursor")),y({type:"brushstart"}),u(),c()}var o,s=d(t,"brushstart","brush","brushend"),a=null,l=null,u=Ts[0],h=[[0,0],[0,0]];return t.x=function(e){return arguments.length?(a=e,u=Ts[!a<<1|!l],t):a},t.y=function(e){return arguments.length?(l=e,u=Ts[!a<<1|!l],t):l},t.extent=function(e){var n,i,r,s,c;return arguments.length?(o=[[0,0],[0,0]],a&&(n=e[0],i=e[1],l&&(n=n[0],i=i[0]),o[0][0]=n,o[1][0]=i,a.invert&&(n=a(n),i=a(i)),n>i&&(c=n,n=i,i=c),h[0][0]=0|n,h[1][0]=0|i),l&&(r=e[0],s=e[1],a&&(r=r[1],s=s[1]),o[0][1]=r,o[1][1]=s,l.invert&&(r=l(r),s=l(s)),r>s&&(c=r,r=s,s=c),h[0][1]=0|r,h[1][1]=0|s),t):(e=o||h,a&&(n=e[0][0],i=e[1][0],o||(n=h[0][0],i=h[1][0],a.invert&&(n=a.invert(n),i=a.invert(i)),n>i&&(c=n,n=i,i=c))),l&&(r=e[0][1],s=e[1][1],o||(r=h[0][1],s=h[1][1],l.invert&&(r=l.invert(r),s=l.invert(s)),r>s&&(c=r,r=s,s=c))),a&&l?[[n,r],[i,s]]:a?[n,i]:l&&[r,s])},t.clear=function(){return o=null,h[0][0]=h[0][1]=h[1][0]=h[1][1]=0,t},t.empty=function(){return a&&h[0][0]===h[1][0]||l&&h[0][1]===h[1][1]},Tr.rebind(t,s,"on")};var Es={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ts=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];Tr.time={};var As=Date,Ms=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];rr.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ns.setUTCDate.apply(this._,arguments)},setDay:function(){Ns.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ns.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ns.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ns.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ns.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ns.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ns.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ns.setTime.apply(this._,arguments)}};var Ns=Date.prototype,Ds=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Is=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ls=["January","February","March","April","May","June","July","August","September","October","November","December"],Ps=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Tr.time.year=or(function(t){return(t=Tr.time.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Tr.time.years=Tr.time.year.range,Tr.time.years.utc=Tr.time.year.utc.range,Tr.time.day=or(function(t){var e=new As(1970,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Tr.time.days=Tr.time.day.range,Tr.time.days.utc=Tr.time.day.utc.range,Tr.time.dayOfYear=function(t){var e=Tr.time.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},Ms.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var n=Tr.time[t]=or(function(t){return(t=Tr.time.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Tr.time.year(t).getDay();return Math.floor((Tr.time.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Tr.time[t+"s"]=n.range,Tr.time[t+"s"].utc=n.utc.range,Tr.time[t+"OfYear"]=function(t){var n=Tr.time.year(t).getDay();return Math.floor((Tr.time.dayOfYear(t)+(n+e)%7)/7)}}),Tr.time.week=Tr.time.sunday,Tr.time.weeks=Tr.time.sunday.range,Tr.time.weeks.utc=Tr.time.sunday.utc.range,Tr.time.weekOfYear=Tr.time.sundayOfYear,Tr.time.format=function(t){function e(e){for(var i,r,o,s=[],a=-1,l=0;++a<n;)37===t.charCodeAt(a)&&(s.push(t.substring(l,a)),null!=(r=Ws[i=t.charAt(++a)])&&(i=t.charAt(++a)),(o=js[i])&&(i=o(e,null==r?"e"===i?" ":"0":r)),s.push(i),l=a+1);return s.push(t.substring(l,a)),s.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(ar(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=new As;return i.setFullYear(n.y,n.m,n.d),i.setHours(n.H,n.M,n.S,n.L),i},e.toString=function(){return t},e};var Os=lr(Ds),Rs=lr(Is),Hs=lr(Ls),Fs=cr(Ls),zs=lr(Ps),Bs=cr(Ps),Ws={"-":"",_:" ",0:"0"},js={a:function(t){return Is[t.getDay()]},A:function(t){return Ds[t.getDay()]},b:function(t){return Ps[t.getMonth()]},B:function(t){return Ls[t.getMonth()]},c:Tr.time.format("%a %b %e %X %Y"),d:function(t,e){return ur(t.getDate(),e,2)},e:function(t,e){return ur(t.getDate(),e,2)},H:function(t,e){return ur(t.getHours(),e,2)},I:function(t,e){return ur(t.getHours()%12||12,e,2)},j:function(t,e){return ur(1+Tr.time.dayOfYear(t),e,3)},L:function(t,e){return ur(t.getMilliseconds(),e,3)},m:function(t,e){return ur(t.getMonth()+1,e,2)},M:function(t,e){return ur(t.getMinutes(),e,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,e){return ur(t.getSeconds(),e,2)},U:function(t,e){return ur(Tr.time.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return ur(Tr.time.mondayOfYear(t),e,2)},x:Tr.time.format("%m/%d/%Y"),X:Tr.time.format("%H:%M:%S"),y:function(t,e){return ur(t.getFullYear()%100,e,2)},Y:function(t,e){return ur(t.getFullYear()%1e4,e,4)},Z:function(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=~~(Math.abs(e)/60),r=Math.abs(e)%60;return n+ur(i,"0",2)+ur(r,"0",2)},"%":function(){return"%"}},$s={a:function(t,e,n){Rs.lastIndex=0;var i=Rs.exec(e.substring(n));return i?n+=i[0].length:-1},A:function(t,e,n){Os.lastIndex=0;var i=Os.exec(e.substring(n));return i?n+=i[0].length:-1},b:function(t,e,n){zs.lastIndex=0;var i=zs.exec(e.substring(n));return i?(t.m=Bs.get(i[0].toLowerCase()),n+=i[0].length):-1},B:function(t,e,n){Hs.lastIndex=0;var i=Hs.exec(e.substring(n));return i?(t.m=Fs.get(i[0].toLowerCase()),n+=i[0].length):-1},c:function(t,e,n){return ar(t,js.c.toString(),e,n)},d:dr,e:dr,H:fr,I:fr,L:function(t,e,n){qs.lastIndex=0;var i=qs.exec(e.substring(n,n+3));return i?(t.L=+i[0],n+=i[0].length):-1},m:function(t,e,n){qs.lastIndex=0;var i=qs.exec(e.substring(n,n+2));return i?(t.m=i[0]-1,n+=i[0].length):-1},M:function(t,e,n){qs.lastIndex=0;var i=qs.exec(e.substring(n,n+2));return i?(t.M=+i[0],n+=i[0].length):-1},p:function(t,e,n){var i=Us.get(e.substring(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:function(t,e,n){qs.lastIndex=0;var i=qs.exec(e.substring(n,n+2));return i?(t.S=+i[0],n+=i[0].length):-1},x:function(t,e,n){return ar(t,js.x.toString(),e,n)},X:function(t,e,n){return ar(t,js.X.toString(),e,n)},y:function(t,e,n){qs.lastIndex=0;var i=qs.exec(e.substring(n,n+2));return i?(t.y=hr(+i[0]),n+=i[0].length):-1},Y:function(t,e,n){qs.lastIndex=0;var i=qs.exec(e.substring(n,n+4));return i?(t.y=+i[0],n+=i[0].length):-1}},qs=/^\s*\d+/,Us=Tr.map({am:0,pm:1});Tr.time.format.utc=function(t){function e(t){try{var e=new(As=rr);return e._=t,n(e)}finally{As=Date}}var n=Tr.time.format(t);return e.parse=function(t){try{As=rr;var e=n.parse(t);return e&&e._}finally{As=Date}},e.toString=n.toString,e};var Vs=Tr.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");Tr.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?pr:Vs,pr.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},pr.toString=Vs.toString,Tr.time.second=or(function(t){return new As(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Tr.time.seconds=Tr.time.second.range,Tr.time.seconds.utc=Tr.time.second.utc.range,Tr.time.minute=or(function(t){return new As(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Tr.time.minutes=Tr.time.minute.range,Tr.time.minutes.utc=Tr.time.minute.utc.range,Tr.time.hour=or(function(t){var e=t.getTimezoneOffset()/60;return new As(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Tr.time.hours=Tr.time.hour.range,Tr.time.hours.utc=Tr.time.hour.utc.range,Tr.time.month=or(function(t){return(t=Tr.time.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Tr.time.months=Tr.time.month.range,Tr.time.months.utc=Tr.time.month.utc.range;var Ys=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xs=[[Tr.time.second,1],[Tr.time.second,5],[Tr.time.second,15],[Tr.time.second,30],[Tr.time.minute,1],[Tr.time.minute,5],[Tr.time.minute,15],[Tr.time.minute,30],[Tr.time.hour,1],[Tr.time.hour,3],[Tr.time.hour,6],[Tr.time.hour,12],[Tr.time.day,1],[Tr.time.day,2],[Tr.time.week,1],[Tr.time.month,1],[Tr.time.month,3],[Tr.time.year,1]],Gs=[[Tr.time.format("%Y"),Dt],[Tr.time.format("%B"),function(t){return t.getMonth()}],[Tr.time.format("%b %d"),function(t){return 1!=t.getDate()}],[Tr.time.format("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[Tr.time.format("%I %p"),function(t){return t.getHours()}],[Tr.time.format("%I:%M"),function(t){return t.getMinutes()}],[Tr.time.format(":%S"),function(t){return t.getSeconds()}],[Tr.time.format(".%L"),function(t){return t.getMilliseconds()}]],Ks=Tr.scale.linear(),Qs=yr(Gs);Xs.year=function(t,e){return Ks.domain(t.map(wr)).ticks(e).map(br)},Tr.time.scale=function(){return gr(Tr.scale.linear(),Xs,Qs)};var Zs=Xs.map(function(t){return[t[0].utc,t[1]]}),Js=yr([[Tr.time.format.utc("%Y"),Dt],[Tr.time.format.utc("%B"),function(t){return t.getUTCMonth()}],[Tr.time.format.utc("%b %d"),function(t){return 1!=t.getUTCDate()}],[Tr.time.format.utc("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[Tr.time.format.utc("%I %p"),function(t){return t.getUTCHours()}],[Tr.time.format.utc("%I:%M"),function(t){return t.getUTCMinutes()}],[Tr.time.format.utc(":%S"),function(t){return t.getUTCSeconds()}],[Tr.time.format.utc(".%L"),function(t){return t.getUTCMilliseconds()}]]);return Zs.year=function(t,e){return Ks.domain(t.map(_r)).ticks(e).map(xr)},Tr.time.scale.utc=function(){return gr(Tr.scale.linear(),Zs,Js)},Tr.text=function(){return Tr.xhr.apply(Tr,arguments).response(Cr)},Tr.json=function(t,e){return Tr.xhr(t,"application/json",e).response(Sr)},Tr.html=function(t,e){return Tr.xhr(t,"text/html",e).response(kr)},Tr.xml=function(){return Tr.xhr.apply(Tr,arguments).response(Er)},Tr}(),function(){function t(t,e){return new Date(e,t+1,0).getDate()}var e=window.nv||{};e.version="1.1.15b",e.dev=!0,window.nv=e,e.tooltip=e.tooltip||{},e.utils=e.utils||{},e.models=e.models||{},e.charts={},e.graphs=[],e.logs={},e.dispatch=d3.dispatch("render_start","render_end"),e.dev&&(e.dispatch.on("render_start",function(t){e.logs.startTime=+new Date}),e.dispatch.on("render_end",function(t){e.logs.endTime=+new Date,e.logs.totalTime=e.logs.endTime-e.logs.startTime,e.log("total",e.logs.totalTime)})),e.log=function(){return e.dev&&console.log&&console.log.apply?console.log.apply(console,arguments):e.dev&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments),arguments[arguments.length-1]},e.render=function(t){t=t||1,e.render.active=!0,e.dispatch.render_start(),setTimeout(function(){for(var n,i,r=0;r<t&&(i=e.render.queue[r]);r++)n=i.generate(),typeof i.callback==typeof Function&&i.callback(n),e.graphs.push(n);e.render.queue.splice(0,r),e.render.queue.length?setTimeout(arguments.callee,0):(e.dispatch.render_end(),e.render.active=!1)},0)},e.render.active=!1,e.render.queue=[],e.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),e.render.queue.push(t),e.render.active||e.render()},e.identity=function(t){return t},e.strip=function(t){return t.replace(/(\s|&)/g,"")},d3.time.monthEnd=function(t){return new Date(t.getFullYear(),t.getMonth(),0)},d3.time.monthEnds=function(t,e,n){return function(i,r,o){var s=t(i),a=[];if(s<i&&e(s),o>1)for(;s<r;){var l=new Date(+s);n(l)%o==0&&a.push(l),e(s)}else for(;s<r;)a.push(new Date(+s)),e(s);return a}}(d3.time.monthEnd,function(e){e.setUTCDate(e.getUTCDate()+1),e.setDate(t(e.getMonth()+1,e.getFullYear()))},function(t){return t.getMonth()}),e.interactiveGuideline=function(){"use strict";function t(h){h.each(function(h){function d(){var e=d3.mouse(this),i=e[0],r=e[1],l=!0,c=!1;if(u&&(i=d3.event.offsetX,r=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(l=!1),d3.event.target.className.baseVal.match("nv-legend")&&(c=!0)),l&&(i-=o.left,r-=o.top),i<0||r<0||i>p||r>g||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||c){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(n.nvPointerEventsClass))return;return a.elementMouseout({mouseX:i,mouseY:r}),void t.renderGuideLine(null)}var h=s.invert(i);a.elementMousemove({mouseX:i,mouseY:r,pointXValue:h}),"dblclick"===d3.event.type&&a.elementDblclick({mouseX:i,mouseY:r,pointXValue:h})}var f=d3.select(this),p=i||960,g=r||400,m=f.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([h]);m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),c&&(c.on("mousemove",d,!0).on("mouseout",d,!0).on("dblclick",d),t.renderGuideLine=function(t){if(l){var n=m.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[e.utils.NaNtoZero(t)]:[],String);n.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",g).attr("y2",0),n.exit().remove()}})})}var n=e.models.tooltip(),i=null,r=null,o={left:0,top:0},s=d3.scale.linear(),a=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementDblclick")),l=!0,c=null,u=-1!==navigator.userAgent.indexOf("MSIE");return t.dispatch=a,t.tooltip=n,t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.left=void 0!==e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(r=e,t):r},t.xScale=function(e){return arguments.length?(s=e,t):s},t.showGuideLine=function(e){return arguments.length?(l=e,t):l},t.svgContainer=function(e){return arguments.length?(c=e,t):c},t},e.interactiveBisect=function(t,e,n){"use strict";if(!t instanceof Array)return null;"function"!=typeof n&&(n=function(t,e){return t.x});var i=d3.bisector(n).left,r=d3.max([0,i(t,e)-1]),o=n(t[r],r);if(void 0===o&&(o=r),o===e)return r;var s=d3.min([r+1,t.length-1]),a=n(t[s],s);return void 0===a&&(a=s),Math.abs(a-e)>=Math.abs(o-e)?r:s},e.nearestValueIndex=function(t,e,n){"use strict";var i=1/0,r=null;return t.forEach(function(t,o){var s=Math.abs(e-t);s<=i&&s<n&&(i=s,r=o)}),r},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function t(){if(h){var t=d3.select(h);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];f.left=f.left*n,f.top=f.top*n}}}function n(t){var e,n=(e=h?d3.select(h):d3.select("body")).select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(u||"xy-tooltip")).attr("id",g)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(m,!0),n.classed(m,!0),n.node()}function i(){if(p&&w(o)){t();var r=f.left,u=null!=c?c:f.top,g=n(b(o));if(d=g,h){var m=h.getElementsByTagName("svg")[0],v=(m?m.getBoundingClientRect():h.getBoundingClientRect(),{left:0,top:0});if(m){var y=m.getBoundingClientRect(),x=h.getBoundingClientRect(),_=y.top;if(_<0){var C=h.getBoundingClientRect();_=Math.abs(_)>C.height?0:_}v.top=Math.abs(_-x.top),v.left=Math.abs(y.left-x.left)}r+=h.offsetLeft+v.left-2*h.scrollLeft,u+=h.offsetTop+v.top-2*h.scrollTop}return l&&l>0&&(u=Math.floor(u/l)*l),e.tooltip.calcTooltipPosition([r,u],s,a,g),i}}var r=null,o=null,s="w",a=50,l=25,c=null,u=null,h=null,d=null,f={left:null,top:null},p=!0,g="nvtooltip-"+Math.floor(1e5*Math.random()),m="nv-pointer-events-none",v=function(t,e){return t},y=function(t){return t},b=function(t){if(null!=r)return r;if(null==t)return"";var e=d3.select(document.createElement("table"));e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(y(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).html(function(t){return t.key}),n.append("td").classed("value",!0).html(function(t,e){return v(t.value,e)}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var i=e.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},w=function(t){return!!(t&&t.series&&t.series.length>0)};return i.nvPointerEventsClass=m,i.content=function(t){return arguments.length?(r=t,i):r},i.tooltipElem=function(){return d},i.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(b=t),i):b},i.data=function(t){return arguments.length?(o=t,i):o},i.gravity=function(t){return arguments.length?(s=t,i):s},i.distance=function(t){return arguments.length?(a=t,i):a},i.snapDistance=function(t){return arguments.length?(l=t,i):l},i.classes=function(t){return arguments.length?(u=t,i):u},i.chartContainer=function(t){return arguments.length?(h=t,i):h},i.position=function(t){return arguments.length?(f.left=void 0!==t.left?t.left:f.left,f.top=void 0!==t.top?t.top:f.top,i):f},i.fixedTop=function(t){return arguments.length?(c=t,i):c},i.enabled=function(t){return arguments.length?(p=t,i):p},i.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(v=t),i):v},i.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(y=t),i):y},i.id=function(){return g},i},e.tooltip.show=function(t,n,i,r,o,s){var a=document.createElement("div");a.className="nvtooltip "+(s||"xy-tooltip");var l=o;o&&!o.tagName.match(/g|svg/i)||(l=document.getElementsByTagName("body")[0]),a.style.left=0,a.style.top=0,a.style.opacity=0,a.innerHTML=n,l.appendChild(a),o&&(t[0]=t[0]-o.scrollLeft,t[1]=t[1]-o.scrollTop),e.tooltip.calcTooltipPosition(t,i,r,a)},e.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},e.tooltip.findTotalOffsetTop=function(t,e){var n=e;do{isNaN(t.offsetTop)||(n+=t.offsetTop)}while(t=t.offsetParent);return n},e.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do{isNaN(t.offsetLeft)||(n+=t.offsetLeft)}while(t=t.offsetParent);return n},e.tooltip.calcTooltipPosition=function(t,n,i,r){var o,s,a=parseInt(r.offsetHeight),l=parseInt(r.offsetWidth),c=e.utils.windowSize().width,u=e.utils.windowSize().height,h=window.pageYOffset,d=window.pageXOffset;u=window.innerWidth>=document.body.scrollWidth?u:u-16,c=window.innerHeight>=document.body.scrollHeight?c:c-16,n=n||"s",i=i||20;var f=function(t){return e.tooltip.findTotalOffsetTop(t,s)},p=function(t){return e.tooltip.findTotalOffsetLeft(t,o)};switch(n){case"e":o=t[0]-l-i,s=t[1]-a/2;var g=p(r),m=f(r);g<d&&(o=t[0]+i>d?t[0]+i:d-g+o),m<h&&(s=h-m+s),m+a>h+u&&(s=h+u-m+s-a);break;case"w":o=t[0]+i,s=t[1]-a/2;var g=p(r),m=f(r);g+l>c&&(o=t[0]-l-i),m<h&&(s=h+5),m+a>h+u&&(s=h+u-m+s-a);break;case"n":o=t[0]-l/2-5,s=t[1]+i;var g=p(r),m=f(r);g<d&&(o=d+5),g+l>c&&(o=o-l/2+5),m+a>h+u&&(s=h+u-m+s-a);break;case"s":o=t[0]-l/2,s=t[1]-a-i;var g=p(r),m=f(r);g<d&&(o=d+5),g+l>c&&(o=o-l/2+5),h>m&&(s=h);break;case"none":o=t[0],s=t[1]-i;var g=p(r),m=f(r)}return r.style.left=o+"px",r.style.top=s+"px",r.style.opacity=1,r.style.position="absolute",r},e.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),e.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},e.utils.windowResize=function(t){if(void 0!==t){var e=window.onresize;window.onresize=function(n){"function"==typeof e&&e(n),t(n)}}},e.utils.getColor=function(t){return arguments.length?"[object Array]"===Object.prototype.toString.call(t)?function(e,n){return e.color||t[n%t.length]}:t:e.utils.defaultColor()},e.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},e.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var i=(n=n||d3.scale.category20().range()).length;return function(r,o){var s=e(r);return i||(i=n.length),void 0!==t[s]?"function"==typeof t[s]?t[s]():t[s]:n[--i]}},e.utils.pjax=function(t,n){function i(i){d3.html(i,function(i){var r=d3.select(n).node();r.parentNode.replaceChild(d3.select(i).select(n).node(),r),e.utils.pjax(t,n)})}d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),i(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&i(d3.event.state)})},e.utils.calcApproxTextWidth=function(t){if("function"==typeof t.style&&"function"==typeof t.text){var e=parseInt(t.style("font-size").replace("px",""));return t.text().length*e*.5}return 0},e.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===1/0?0:t},e.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},e.models.axis=function(){"use strict";function t(e){return e.each(function(t){var e=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([t]),o=(e.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),e.select("g"));null!==p?n.ticks(p):("top"==n.orient()||"bottom"==n.orient())&&n.ticks(Math.abs(s.range()[1]-s.range()[0])/100),o.transition().call(n),m=m||n.scale();var v=n.tickFormat();null==v&&(v=m.tickFormat());var y=o.selectAll("text.nv-axislabel").data([a||null]);switch(y.exit().remove(),n.orient()){case"top":y.enter().append("text").attr("class","nv-axislabel");C=2==s.range().length?s.range()[1]:s.range()[s.range().length-1]+(s.range()[1]-s.range()[0]);y.attr("text-anchor","middle").attr("y",0).attr("x",C/2),l&&((S=e.selectAll("g.nv-axisMaxMin").data(s.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text"),S.exit().remove(),S.attr("transform",function(t,e){return"translate("+s(t)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate("+s.range()[e]+",0)"}));break;case"bottom":var b=36,w=30,x=o.selectAll("g").select("text");if(u%360){x.each(function(t,e){var n=this.getBBox().width;n>w&&(w=n)});var _=Math.abs(Math.sin(u*Math.PI/180)),b=(_?_*w:w)+30;x.attr("transform",function(t,e,n){return"rotate("+u+" 0,0)"}).style("text-anchor",u%360>0?"start":"end")}y.enter().append("text").attr("class","nv-axislabel");var C=2==s.range().length?s.range()[1]:s.range()[s.range().length-1]+(s.range()[1]-s.range()[0]);y.attr("text-anchor","middle").attr("y",b).attr("x",C/2),l&&((S=e.selectAll("g.nv-axisMaxMin").data([s.domain()[0],s.domain()[s.domain().length-1]])).enter().append("g").attr("class","nv-axisMaxMin").append("text"),S.exit().remove(),S.attr("transform",function(t,e){return"translate("+(s(t)+(f?s.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",function(t,e,n){return"rotate("+u+" 0,0)"}).style("text-anchor",u?u%360>0?"start":"end":"middle").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate("+(s(t)+(f?s.rangeBand()/2:0))+",0)"})),d&&x.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",h?"middle":"begin").attr("transform",h?"rotate(90)":"").attr("y",h?12-Math.max(i.right,r):-10).attr("x",h?s.range()[0]/2:n.tickPadding()),l&&((S=e.selectAll("g.nv-axisMaxMin").data(s.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),S.exit().remove(),S.attr("transform",function(t,e){return"translate(0,"+s(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate(0,"+s.range()[e]+")"}).select("text").style("opacity",1));break;case"left":if(y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",h?"middle":"end").attr("transform",h?"rotate(-90)":"").attr("y",h?-Math.max(i.left,r)+g:-10).attr("x",h?-s.range()[0]/2:-n.tickPadding()),l){var S=e.selectAll("g.nv-axisMaxMin").data(s.domain());S.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),S.exit().remove(),S.attr("transform",function(t,e){return"translate(0,"+m(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate(0,"+s.range()[e]+")"}).select("text").style("opacity",1)}}if(y.text(function(t){return t}),l&&("left"===n.orient()||"right"===n.orient())&&(o.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(s(t)<s.range()[1]+10||s(t)>s.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),s.domain()[0]==s.domain()[1]&&0==s.domain()[0]&&e.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),l&&("top"===n.orient()||"bottom"===n.orient())){var k=[];e.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?k.push(s(t)-this.getBBox().width-4):k.push(s(t)+this.getBBox().width+4)}catch(n){e?k.push(s(t)-4):k.push(s(t)+4)}}),o.selectAll("g").each(function(t,e){(s(t)<k[0]||s(t)>k[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}c&&o.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__}).classed("zero",!0),m=s.copy()}),t}var n=d3.svg.axis(),i={top:0,right:0,bottom:0,left:0},r=75,o=60,s=d3.scale.linear(),a=null,l=!0,c=!0,u=0,h=!0,d=!1,f=!1,p=null,g=12;n.scale(s).orient("bottom").tickFormat(function(t){return t});var m;return t.axis=n,d3.rebind(t,n,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(t,s,"domain","range","rangeBand","rangeBands"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left,t):i},t.width=function(e){return arguments.length?(r=e,t):r},t.ticks=function(e){return arguments.length?(p=e,t):p},t.height=function(e){return arguments.length?(o=e,t):o},t.axisLabel=function(e){return arguments.length?(a=e,t):a},t.showMaxMin=function(e){return arguments.length?(l=e,t):l},t.highlightZero=function(e){return arguments.length?(c=e,t):c},t.scale=function(e){return arguments.length?(s=e,n.scale(s),f="function"==typeof s.rangeBands,d3.rebind(t,s,"domain","range","rangeBand","rangeBands"),t):s},t.rotateYLabel=function(e){return arguments.length?(h=e,t):h},t.rotateLabels=function(e){return arguments.length?(u=e,t):u},t.staggerLabels=function(e){return arguments.length?(d=e,t):d},t.axisLabelDistance=function(e){return arguments.length?(g=e,t):g},t},e.models.bullet=function(){"use strict";function t(e){return e.each(function(t,e){var i=d-n.left-n.right,p=f-n.top-n.bottom,v=d3.select(this),y=o.call(this,t,e).slice().sort(d3.descending),b=s.call(this,t,e).slice().sort(d3.descending),w=a.call(this,t,e).slice().sort(d3.descending),x=l.call(this,t,e).slice(),_=c.call(this,t,e).slice(),C=u.call(this,t,e).slice(),S=d3.scale.linear().domain(d3.extent(d3.merge([h,y]))).range(r?[i,0]:[0,i]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(S.range());this.__chart__=S;var k=d3.min(y),E=d3.max(y),T=y[1],A=v.selectAll("g.nv-wrap.nv-bullet").data([t]),M=A.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),N=A.select("g");M.append("rect").attr("class","nv-range nv-rangeMax"),M.append("rect").attr("class","nv-range nv-rangeAvg"),M.append("rect").attr("class","nv-range nv-rangeMin"),M.append("rect").attr("class","nv-measure"),M.append("path").attr("class","nv-markerTriangle"),A.attr("transform","translate("+n.left+","+n.top+")");var D=function(t){return Math.abs(S(t)-S(0))},I=function(t){return S(t<0?t:0)};N.select("rect.nv-rangeMax").attr("height",p).attr("width",D(E>0?E:k)).attr("x",I(E>0?E:k)).datum(E>0?E:k),N.select("rect.nv-rangeAvg").attr("height",p).attr("width",D(T)).attr("x",I(T)).datum(T),N.select("rect.nv-rangeMin").attr("height",p).attr("width",D(E)).attr("x",I(E)).attr("width",D(E>0?k:E)).attr("x",I(E>0?k:E)).datum(E>0?k:E),N.select("rect.nv-measure").style("fill",g).attr("height",p/3).attr("y",p/3).attr("width",w<0?S(0)-S(w[0]):S(w[0])-S(0)).attr("x",I(w)).on("mouseover",function(){m.elementMouseover({value:w[0],label:C[0]||"Current",pos:[S(w[0]),p/2]})}).on("mouseout",function(){m.elementMouseout({value:w[0],label:C[0]||"Current"})});var L=p/6;b[0]?N.selectAll("path.nv-markerTriangle").attr("transform",function(t){return"translate("+S(b[0])+","+p/2+")"}).attr("d","M0,"+L+"L"+L+","+-L+" "+-L+","+-L+"Z").on("mouseover",function(){m.elementMouseover({value:b[0],label:_[0]||"Previous",pos:[S(b[0]),p/2]})}).on("mouseout",function(){m.elementMouseout({value:b[0],label:_[0]||"Previous"})}):N.selectAll("path.nv-markerTriangle").remove(),A.selectAll(".nv-range").on("mouseover",function(t,e){var n=x[e]||(e?1==e?"Mean":"Minimum":"Maximum");m.elementMouseover({value:t,label:n,pos:[S(t),p/2]})}).on("mouseout",function(t,e){var n=x[e]||(e?1==e?"Mean":"Minimum":"Maximum");m.elementMouseout({value:t,label:n})})}),t}var n={top:0,right:0,bottom:0,left:0},i="left",r=!1,o=function(t){return t.ranges},s=function(t){return t.markers},a=function(t){return t.measures},l=function(t){return t.rangeLabels?t.rangeLabels:[]},c=function(t){return t.markerLabels?t.markerLabels:[]},u=function(t){return t.measureLabels?t.measureLabels:[]},h=[0],d=380,f=30,p=null,g=e.utils.getColor(["#1f77b4"]),m=d3.dispatch("elementMouseover","elementMouseout");return t.dispatch=m,t.options=e.utils.optionsFunc.bind(t),t.orient=function(e){return arguments.length?(i=e,r="right"==i||"bottom"==i,t):i},t.ranges=function(e){return arguments.length?(o=e,t):o},t.markers=function(e){return arguments.length?(s=e,t):s},t.measures=function(e){return arguments.length?(a=e,t):a},t.forceX=function(e){return arguments.length?(h=e,t):h},t.width=function(e){return arguments.length?(d=e,t):d},t.height=function(e){return arguments.length?(f=e,t):f},t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.tickFormat=function(e){return arguments.length?(p=e,t):p},t.color=function(n){return arguments.length?(g=e.utils.getColor(n),t):g},t},e.models.bulletChart=function(){"use strict";function t(e){return e.each(function(i,f){var v=d3.select(this),y=(c||parseInt(v.style("width"))||960)-o.left-o.right,b=u-o.top-o.bottom,w=this;if(t.update=function(){t(e)},t.container=this,!i||!s.call(this,i,f)){var x=v.selectAll(".nv-noData").data([p]);return x.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),x.attr("x",o.left+y/2).attr("y",18+o.top+b/2).text(function(t){return t}),t}v.selectAll(".nv-noData").remove();var _=s.call(this,i,f).slice().sort(d3.descending),C=a.call(this,i,f).slice().sort(d3.descending),S=l.call(this,i,f).slice().sort(d3.descending),k=v.selectAll("g.nv-wrap.nv-bulletChart").data([i]),E=k.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),T=k.select("g");E.append("g").attr("class","nv-bulletWrap"),E.append("g").attr("class","nv-titles"),k.attr("transform","translate("+o.left+","+o.top+")");var A=d3.scale.linear().domain([0,Math.max(_[0],C[0],S[0])]).range(r?[y,0]:[0,y]),M=this.__chart__||d3.scale.linear().domain([0,1/0]).range(A.range());this.__chart__=A;var N=E.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(u-o.top-o.bottom)/2+")");N.append("text").attr("class","nv-title").text(function(t){return t.title}),N.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),n.width(y).height(b);var D=T.select(".nv-bulletWrap");d3.transition(D).call(n);var I=h||A.tickFormat(y/100),L=T.selectAll("g.nv-tick").data(A.ticks(y/50),function(t){return this.textContent||I(t)}),P=L.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+M(t)+",0)"}).style("opacity",1e-6);P.append("line").attr("y1",b).attr("y2",7*b/6),P.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*b/6).text(I);var O=d3.transition(L).attr("transform",function(t){return"translate("+A(t)+",0)"}).style("opacity",1);O.select("line").attr("y1",b).attr("y2",7*b/6),O.select("text").attr("y",7*b/6),d3.transition(L.exit()).attr("transform",function(t){return"translate("+A(t)+",0)"}).style("opacity",1e-6).remove(),g.on("tooltipShow",function(t){t.key=i.title,d&&m(t,w.parentNode)})}),d3.timer.flush(),t}var n=e.models.bullet(),i="left",r=!1,o={top:5,right:40,bottom:20,left:120},s=function(t){return t.ranges},a=function(t){return t.markers},l=function(t){return t.measures},c=null,u=55,h=null,d=!0,f=function(t,e,n,i,r){return"<h3>"+e+"</h3><p>"+n+"</p>"},p="No Data Available.",g=d3.dispatch("tooltipShow","tooltipHide"),m=function(n,i){var r=n.pos[0]+(i.offsetLeft||0)+o.left,s=n.pos[1]+(i.offsetTop||0)+o.top,a=f(n.key,n.label,n.value,n,t);e.tooltip.show([r,s],a,n.value<0?"e":"w",null,i)};return n.dispatch.on("elementMouseover.tooltip",function(t){g.tooltipShow(t)}),n.dispatch.on("elementMouseout.tooltip",function(t){g.tooltipHide(t)}),g.on("tooltipHide",function(){d&&e.tooltip.cleanup()}),t.dispatch=g,t.bullet=n,d3.rebind(t,n,"color"),t.options=e.utils.optionsFunc.bind(t),t.orient=function(e){return arguments.length?(i=e,r="right"==i||"bottom"==i,t):i},t.ranges=function(e){return arguments.length?(s=e,t):s},t.markers=function(e){return arguments.length?(a=e,t):a},t.measures=function(e){return arguments.length?(l=e,t):l},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(u=e,t):u},t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left,t):o},t.tickFormat=function(e){return arguments.length?(h=e,t):h},t.tooltips=function(e){return arguments.length?(d=e,t):d},t.tooltipContent=function(e){return arguments.length?(f=e,t):f},t.noData=function(e){return arguments.length?(p=e,t):p},t},e.models.cumulativeLineChart=function(){"use strict";function t(C){return C.each(function(C){function D(){tt.data([L]);var e=t.transitionDuration();t.transitionDuration(0),t.update(),t.transitionDuration(e)}var O=d3.select(this).classed("nv-chart-"+S,!0),R=this,H=(f||parseInt(O.style("width"))||960)-h.left-h.right,F=(p||parseInt(O.style("height"))||400)-h.top-h.bottom;if(t.update=function(){O.transition().duration(N).call(t)},t.container=this,k.disabled=C.map(function(t){return!!t.disabled}),!E){var z;E={};for(z in k)k[z]instanceof Array?E[z]=k[z].slice(0):E[z]=k[z]}var B=d3.behavior.drag().on("dragstart",function(e,n){d3.select(t.container).style("cursor","ew-resize")}).on("drag",function(t,e){L.x=d3.event.x,L.i=Math.round(I.invert(L.x)),D()}).on("dragend",function(e,n){d3.select(t.container).style("cursor","auto"),k.index=L.i,M.stateChange(k)});if(!C||!C.length||!C.filter(function(t){return t.values.length}).length){var W=O.selectAll(".nv-noData").data([T]);return W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),W.attr("x",h.left+H/2).attr("y",h.top+F/2).text(function(t){return t}),t}if(O.selectAll(".nv-noData").remove(),i=o.xScale(),r=o.yScale(),_)o.yDomain(null);else{var j=C.filter(function(t){return!t.disabled}).map(function(t,e){var n=d3.extent(t.values,o.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),$=[d3.min(j,function(t){return t[0]}),d3.max(j,function(t){return t[1]})];o.yDomain($)}I.domain([0,C[0].values.length-1]).range([0,H]).clamp(!0);var C=n(L.i,C),q=x?"none":"all",U=O.selectAll("g.nv-wrap.nv-cumulativeLine").data([C]),V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),Y=U.select("g");if(V.append("g").attr("class","nv-interactive"),V.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-background"),V.append("g").attr("class","nv-linesWrap").style("pointer-events",q),V.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),g&&(l.width(H),Y.select(".nv-legendWrap").datum(C).call(l),h.top!=l.height()&&(h.top=l.height(),F=(p||parseInt(O.style("height"))||400)-h.top-h.bottom),Y.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")),w){var X=[{key:"Re-scale y-axis",disabled:!_}];c.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),Y.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-h.top+")").call(c)}U.attr("transform","translate("+h.left+","+h.top+")"),y&&Y.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)");var G=C.filter(function(t){return t.tempDisabled});U.select(".tempDisabled").remove(),G.length&&U.append("text").attr("class","tempDisabled").attr("x",H/2).attr("y","-.71em").style("text-anchor","end").text(G.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),x&&(u.width(H).height(F).margin({left:h.left,top:h.top}).svgContainer(O).xScale(i),U.select(".nv-interactive").call(u)),V.select(".nv-background").append("rect"),Y.select(".nv-background rect").attr("width",H).attr("height",F),o.y(function(t){return t.display.y}).width(H).height(F).color(C.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!C[e].disabled&&!C[e].tempDisabled}));var K=Y.select(".nv-linesWrap").datum(C.filter(function(t){return!t.disabled&&!t.tempDisabled}));K.call(o),C.forEach(function(t,e){t.seriesIndex=e});var Q=C.filter(function(t){return!t.disabled&&!!A(t)}),Z=Y.select(".nv-avgLinesWrap").selectAll("line").data(Q,function(t){return t.key}),J=function(t){var e=r(A(t));return e<0?0:e>F?F:e};Z.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return o.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",H).attr("y1",J).attr("y2",J),Z.style("stroke-opacity",function(t){var e=r(A(t));return e<0||e>F?0:1}).attr("x1",0).attr("x2",H).attr("y1",J).attr("y2",J),Z.exit().remove();var tt=K.selectAll(".nv-indexLine").data([L]);tt.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(B),tt.attr("transform",function(t){return"translate("+I(t.i)+",0)"}).attr("height",F),m&&(s.scale(i).ticks(Math.min(C[0].values.length,H/70)).tickSize(-F,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(Y.select(".nv-x.nv-axis")).call(s)),v&&(a.scale(r).ticks(F/36).tickSize(-H,0),d3.transition(Y.select(".nv-y.nv-axis")).call(a)),Y.select(".nv-background rect").on("click",function(){L.x=d3.mouse(this)[0],L.i=Math.round(I.invert(L.x)),k.index=L.i,M.stateChange(k),D()}),o.dispatch.on("elementClick",function(t){L.i=t.pointIndex,L.x=I(L.i),k.index=L.i,M.stateChange(k),D()}),c.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,_=!e.disabled,k.rescaleY=_,M.stateChange(k),t.update()}),l.dispatch.on("stateChange",function(e){k.disabled=e.disabled,M.stateChange(k),t.update()}),u.dispatch.on("elementMousemove",function(n){o.clearHighlights();var i,r,l,c=[];if(C.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,a){r=e.interactiveBisect(s.values,n.pointXValue,t.x()),o.highlightPoint(a,r,!0);var u=s.values[r];void 0!==u&&(void 0===i&&(i=u),void 0===l&&(l=t.xScale()(t.x()(u,r))),c.push({key:s.key,value:t.y()(u,r),color:d(s,s.seriesIndex)}))}),c.length>2){var f=t.yScale().invert(n.mouseY),p=.03*Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),g=e.nearestValueIndex(c.map(function(t){return t.value}),f,p);null!==g&&(c[g].highlight=!0)}var m=s.tickFormat()(t.x()(i,r),r);u.tooltip.position({left:l+h.left,top:n.mouseY+h.top}).chartContainer(R.parentNode).enabled(b).valueFormatter(function(t,e){return a.tickFormat()(t)}).data({value:m,series:c})(),u.renderGuideLine(l)}),u.dispatch.on("elementMouseout",function(t){M.tooltipHide(),o.clearHighlights()}),M.on("tooltipShow",function(t){b&&P(t,R.parentNode)}),M.on("changeState",function(e){void 0!==e.disabled&&(C.forEach(function(t,n){t.disabled=e.disabled[n]}),k.disabled=e.disabled),void 0!==e.index&&(L.i=e.index,L.x=I(L.i),k.index=e.index,tt.data([L])),void 0!==e.rescaleY&&(_=e.rescaleY),t.update()})}),t}function n(t,e){return e.map(function(e,n){if(!e.values)return e;var i=o.y()(e.values[t],t);return i<-.95&&!D?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(o.y()(t,e)-i)/(1+i)},t}),e)})}var i,r,o=e.models.line(),s=e.models.axis(),a=e.models.axis(),l=e.models.legend(),c=e.models.legend(),u=e.interactiveGuideline(),h={top:30,right:30,bottom:50,left:60},d=e.utils.defaultColor(),f=null,p=null,g=!0,m=!0,v=!0,y=!1,b=!0,w=!0,x=!1,_=!0,C=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},S=o.id(),k={index:0,rescaleY:_},E=null,T="No Data Available.",A=function(t){return t.average},M=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),N=250,D=!1;s.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),c.updateState(!1);var I=d3.scale.linear(),L={i:0,x:0},P=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=s.tickFormat()(o.x()(n.point,n.pointIndex)),u=a.tickFormat()(o.y()(n.point,n.pointIndex)),h=C(n.series.key,c,u,n,t);e.tooltip.show([r,l],h,null,null,i)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],M.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){b&&e.tooltip.cleanup()}),t.dispatch=M,t.lines=o,t.legend=l,t.xAxis=s,t.yAxis=a,t.interactiveLayer=u,d3.rebind(t,o,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(h.top=void 0!==e.top?e.top:h.top,h.right=void 0!==e.right?e.right:h.right,h.bottom=void 0!==e.bottom?e.bottom:h.bottom,h.left=void 0!==e.left?e.left:h.left,t):h},t.width=function(e){return arguments.length?(f=e,t):f},t.height=function(e){return arguments.length?(p=e,t):p},t.color=function(n){return arguments.length?(d=e.utils.getColor(n),l.color(d),t):d},t.rescaleY=function(e){return arguments.length?(_=e,t):_},t.showControls=function(e){return arguments.length?(w=e,t):w},t.useInteractiveGuideline=function(e){return arguments.length?(x=e,!0===e&&(t.interactive(!1),t.useVoronoi(!1)),t):x},t.showLegend=function(e){return arguments.length?(g=e,t):g},t.showXAxis=function(e){return arguments.length?(m=e,t):m},t.showYAxis=function(e){return arguments.length?(v=e,t):v},t.rightAlignYAxis=function(e){return arguments.length?(y=e,a.orient(e?"right":"left"),t):y},t.tooltips=function(e){return arguments.length?(b=e,t):b},t.tooltipContent=function(e){return arguments.length?(C=e,t):C},t.state=function(e){return arguments.length?(k=e,t):k},t.defaultState=function(e){return arguments.length?(E=e,t):E},t.noData=function(e){return arguments.length?(T=e,t):T},t.average=function(e){return arguments.length?(A=e,t):A},t.transitionDuration=function(e){return arguments.length?(N=e,t):N},t.noErrorCheck=function(e){return arguments.length?(D=e,t):D},t},e.models.discreteBar=function(){"use strict";function t(e){return e.each(function(t){var e=c-l.left-l.right,h=u-l.top-l.bottom,_=d3.select(this);t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var C=n&&i?[]:t.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),y0:t.y0}})});d.domain(n||d3.merge(C).map(function(t){return t.x})).rangeBands(r||[0,e],.1),f.domain(i||d3.extent(d3.merge(C).map(function(t){return t.y}).concat(m))),y?f.range(o||[h-(f.domain()[0]<0?12:0),f.domain()[1]>0?12:0]):f.range(o||[h,0]),s=s||d,a=a||f.copy().range([f(0),f(0)]);var S=_.selectAll("g.nv-wrap.nv-discretebar").data([t]),k=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");S.select("g");k.append("g").attr("class","nv-groups"),S.attr("transform","translate("+l.left+","+l.top+")");var E=S.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),E.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),E.transition().style("stroke-opacity",1).style("fill-opacity",.75);var T=E.selectAll("g.nv-bar").data(function(t){return t.values});T.exit().remove();var A=T.enter().append("g").attr("transform",function(t,e,n){return"translate("+(d(p(t,e))+.05*d.rangeBand())+", "+f(0)+")"}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),w.elementMouseover({value:g(e,n),point:e,series:t[e.series],pos:[d(p(e,n))+d.rangeBand()*(e.series+.5)/t.length,f(g(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),w.elementMouseout({value:g(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){w.elementClick({value:g(e,n),point:e,series:t[e.series],pos:[d(p(e,n))+d.rangeBand()*(e.series+.5)/t.length,f(g(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){w.elementDblClick({value:g(e,n),point:e,series:t[e.series],pos:[d(p(e,n))+d.rangeBand()*(e.series+.5)/t.length,f(g(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()});A.append("rect").attr("height",0).attr("width",.9*d.rangeBand()/t.length),y?(A.append("text").attr("text-anchor","middle"),T.select("text").text(function(t,e){return b(g(t,e))}).transition().attr("x",.9*d.rangeBand()/2).attr("y",function(t,e){return g(t,e)<0?f(g(t,e))-f(0)+12:-4})):T.selectAll("text").remove(),T.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||v(t,e)}).style("stroke",function(t,e){return t.color||v(t,e)}).select("rect").attr("class",x).transition().attr("width",.9*d.rangeBand()/t.length),T.transition().attr("transform",function(t,e){return"translate("+(d(p(t,e))+.05*d.rangeBand())+", "+(g(t,e)<0?f(0):f(0)-f(g(t,e))<1?f(0)-1:f(g(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(f(g(t,e))-f(i&&i[0]||0))||1)}),s=d.copy(),a=f.copy()}),t}var n,i,r,o,s,a,l={top:0,right:0,bottom:0,left:0},c=960,u=500,h=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),f=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},m=[0],v=e.utils.defaultColor(),y=!1,b=d3.format(",.2f"),w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),x="discreteBar";return t.dispatch=w,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(p=e,t):p},t.y=function(e){return arguments.length?(g=e,t):g},t.margin=function(e){return arguments.length?(l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(u=e,t):u},t.xScale=function(e){return arguments.length?(d=e,t):d},t.yScale=function(e){return arguments.length?(f=e,t):f},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(i=e,t):i},t.xRange=function(e){return arguments.length?(r=e,t):r},t.yRange=function(e){return arguments.length?(o=e,t):o},t.forceY=function(e){return arguments.length?(m=e,t):m},t.color=function(n){return arguments.length?(v=e.utils.getColor(n),t):v},t.id=function(e){return arguments.length?(h=e,t):h},t.showValues=function(e){return arguments.length?(y=e,t):y},t.valueFormat=function(e){return arguments.length?(b=e,t):b},t.rectClass=function(e){return arguments.length?(x=e,t):x},t},e.models.discreteBarChart=function(){"use strict";function t(e){return e.each(function(e){var u=d3.select(this),m=this,x=(l||parseInt(u.style("width"))||960)-a.left-a.right,_=(c||parseInt(u.style("height"))||400)-a.top-a.bottom;if(t.update=function(){y.beforeUpdate(),u.transition().duration(b).call(t)},t.container=this,!e||!e.length||!e.filter(function(t){return t.values.length}).length){var C=u.selectAll(".nv-noData").data([v]);return C.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),C.attr("x",a.left+x/2).attr("y",a.top+_/2).text(function(t){return t}),t}u.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale().clamp(!0);var S=u.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([e]),k=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),E=k.append("defs"),T=S.select("g");if(k.append("g").attr("class","nv-x nv-axis"),k.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),k.append("g").attr("class","nv-barsWrap"),T.attr("transform","translate("+a.left+","+a.top+")"),f&&T.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),r.width(x).height(_),T.select(".nv-barsWrap").datum(e.filter(function(t){return!t.disabled})).transition().call(r),E.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),T.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",n.rangeBand()*(p?2:1)).attr("height",16).attr("x",-n.rangeBand()/(p?1:2)),h){o.scale(n).ticks(x/100).tickSize(-_,0),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+(i.range()[0]+(r.showValues()&&i.domain()[0]<0?16:0))+")"),T.select(".nv-x.nv-axis").transition().call(o);var A=T.select(".nv-x.nv-axis").selectAll("g");p&&A.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}d&&(s.scale(i).ticks(_/36).tickSize(-x,0),T.select(".nv-y.nv-axis").transition().call(s)),T.select(".nv-zeroLine line").attr("x1",0).attr("x2",x).attr("y1",i(0)).attr("y2",i(0)),y.on("tooltipShow",function(t){g&&w(t,m.parentNode)})}),t}var n,i,r=e.models.discreteBar(),o=e.models.axis(),s=e.models.axis(),a={top:15,right:10,bottom:50,left:60},l=null,c=null,u=e.utils.getColor(),h=!0,d=!0,f=!1,p=!1,g=!0,m=function(t,e,n,i,r){return"<h3>"+e+"</h3><p>"+n+"</p>"},v="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),b=250;o.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),s.orient(f?"right":"left").tickFormat(d3.format(",.1f"));var w=function(n,i){var a=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=o.tickFormat()(r.x()(n.point,n.pointIndex)),u=s.tickFormat()(r.y()(n.point,n.pointIndex)),h=m(n.series.key,c,u,n,t);e.tooltip.show([a,l],h,n.value<0?"n":"s",null,i)};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],y.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){y.tooltipHide(t)}),y.on("tooltipHide",function(){g&&e.tooltip.cleanup()}),t.dispatch=y,t.discretebar=r,t.xAxis=o,t.yAxis=s,d3.rebind(t,r,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left,t):a},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(c=e,t):c},t.color=function(n){return arguments.length?(u=e.utils.getColor(n),r.color(u),t):u},t.showXAxis=function(e){return arguments.length?(h=e,t):h},t.showYAxis=function(e){return arguments.length?(d=e,t):d},t.rightAlignYAxis=function(e){return arguments.length?(f=e,s.orient(e?"right":"left"),t):f},t.staggerLabels=function(e){return arguments.length?(p=e,t):p},t.tooltips=function(e){return arguments.length?(g=e,t):g},t.tooltipContent=function(e){return arguments.length?(m=e,t):m},t.noData=function(e){return arguments.length?(v=e,t):v},t.transitionDuration=function(e){return arguments.length?(b=e,t):b},t},e.models.distribution=function(){"use strict";function t(e){return e.each(function(t){"x"===s?(i.left,i.right):(i.top,i.bottom);var e="x"==s?"y":"x",r=d3.select(this);n=n||c;var u=r.selectAll("g.nv-distribution").data([t]),h=(u.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),u.select("g"));u.attr("transform","translate("+i.left+","+i.top+")");var d=h.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});d.enter().append("g"),d.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return l(t,e)});var f=d.selectAll("line.nv-dist"+s).data(function(t){return t.values});f.enter().append("line").attr(s+"1",function(t,e){return n(a(t,e))}).attr(s+"2",function(t,e){return n(a(t,e))}),d.exit().selectAll("line.nv-dist"+s).transition().attr(s+"1",function(t,e){return c(a(t,e))}).attr(s+"2",function(t,e){return c(a(t,e))}).style("stroke-opacity",0).remove(),f.attr("class",function(t,e){return"nv-dist"+s+" nv-dist"+s+"-"+e}).attr(e+"1",0).attr(e+"2",o),f.transition().attr(s+"1",function(t,e){return c(a(t,e))}).attr(s+"2",function(t,e){return c(a(t,e))}),n=c.copy()}),t}var n,i={top:0,right:0,bottom:0,left:0},r=400,o=8,s="x",a=function(t){return t[s]},l=e.utils.defaultColor(),c=d3.scale.linear();return t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left,t):i},t.width=function(e){return arguments.length?(r=e,t):r},t.axis=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(o=e,t):o},t.getData=function(e){return arguments.length?(a=d3.functor(e),t):a},t.scale=function(e){return arguments.length?(c=e,t):c},t.color=function(n){return arguments.length?(l=e.utils.getColor(n),t):l},t},e.models.historicalBar=function(){"use strict";function t(x){return x.each(function(t){var x=a-s.left-s.right,_=l-s.top-s.bottom,C=d3.select(this);u.domain(n||d3.extent(t[0].values.map(d).concat(p))),m?u.range(r||[.5*x/t[0].values.length,x*(t[0].values.length-.5)/t[0].values.length]):u.range(r||[0,x]),h.domain(i||d3.extent(t[0].values.map(f).concat(g))).range(o||[_,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var S=C.selectAll("g.nv-wrap.nv-historicalBar-"+c).data([t[0].values]),k=S.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+c),E=k.append("defs"),T=k.append("g"),A=S.select("g");T.append("g").attr("class","nv-bars"),S.attr("transform","translate("+s.left+","+s.top+")"),C.on("click",function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:c})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),S.select("#nv-chart-clip-path-"+c+" rect").attr("width",x).attr("height",_),A.attr("clip-path",v?"url(#nv-chart-clip-path-"+c+")":"");var M=S.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return d(t,e)});M.exit().remove();M.enter().append("rect").attr("x",0).attr("y",function(t,n){return e.utils.NaNtoZero(h(Math.max(0,f(t,n))))}).attr("height",function(t,n){return e.utils.NaNtoZero(Math.abs(h(f(t,n))-h(0)))}).attr("transform",function(e,n){return"translate("+(u(d(e,n))-x/t[0].values.length*.45)+",0)"}).on("mouseover",function(e,n){w&&(d3.select(this).classed("hover",!0),b.elementMouseover({point:e,series:t[0],pos:[u(d(e,n)),h(f(e,n))],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("mouseout",function(e,n){w&&(d3.select(this).classed("hover",!1),b.elementMouseout({point:e,series:t[0],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("click",function(t,e){w&&(b.elementClick({value:f(t,e),data:t,index:e,pos:[u(d(t,e)),h(f(t,e))],e:d3.event,id:c}),d3.event.stopPropagation())}).on("dblclick",function(t,e){w&&(b.elementDblClick({value:f(t,e),data:t,index:e,pos:[u(d(t,e)),h(f(t,e))],e:d3.event,id:c}),d3.event.stopPropagation())});M.attr("fill",function(t,e){return y(t,e)}).attr("class",function(t,e,n){return(f(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).transition().attr("transform",function(e,n){return"translate("+(u(d(e,n))-x/t[0].values.length*.45)+",0)"}).attr("width",x/t[0].values.length*.9),M.transition().attr("y",function(t,n){var i=f(t,n)<0?h(0):h(0)-h(f(t,n))<1?h(0)-1:h(f(t,n));return e.utils.NaNtoZero(i)}).attr("height",function(t,n){return e.utils.NaNtoZero(Math.max(Math.abs(h(f(t,n))-h(0)),1))})}),t}var n,i,r,o,s={top:0,right:0,bottom:0,left:0},a=960,l=500,c=Math.floor(1e4*Math.random()),u=d3.scale.linear(),h=d3.scale.linear(),d=function(t){return t.x},f=function(t){return t.y},p=[],g=[0],m=!1,v=!0,y=e.utils.defaultColor(),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),w=!0;return t.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+c).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},t.clearHighlights=function(){d3.select(".nv-historicalBar-"+c).select(".nv-bars .nv-bar.hover").classed("hover",!1)},t.dispatch=b,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(d=e,t):d},t.y=function(e){return arguments.length?(f=e,t):f},t.margin=function(e){return arguments.length?(s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(l=e,t):l},t.xScale=function(e){return arguments.length?(u=e,t):u},t.yScale=function(e){return arguments.length?(h=e,t):h},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(i=e,t):i},t.xRange=function(e){return arguments.length?(r=e,t):r},t.yRange=function(e){return arguments.length?(o=e,t):o},t.forceX=function(e){return arguments.length?(p=e,t):p},t.forceY=function(e){return arguments.length?(g=e,t):g},t.padData=function(e){return arguments.length?(m=e,t):m},t.clipEdge=function(e){return arguments.length?(v=e,t):v},t.color=function(n){return arguments.length?(y=e.utils.getColor(n),t):y},t.id=function(e){return arguments.length?(c=e,t):c},t.interactive=function(e){return arguments.length?(w=!1,t):w},t},e.models.historicalBarChart=function(){"use strict";function t(e){return e.each(function(v){var S=d3.select(this),k=this,E=(u||parseInt(S.style("width"))||960)-l.left-l.right,T=(h||parseInt(S.style("height"))||400)-l.top-l.bottom;if(t.update=function(){S.transition().duration(_).call(t)},t.container=this,y.disabled=v.map(function(t){return!!t.disabled}),!b){var A;b={};for(A in y)y[A]instanceof Array?b[A]=y[A].slice(0):b[A]=y[A]}if(!v||!v.length||!v.filter(function(t){return t.values.length}).length){var M=S.selectAll(".nv-noData").data([w]);return M.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),M.attr("x",l.left+E/2).attr("y",l.top+T/2).text(function(t){return t}),t}S.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var N=S.selectAll("g.nv-wrap.nv-historicalBarChart").data([v]),D=N.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),I=N.select("g");D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-barsWrap"),D.append("g").attr("class","nv-legendWrap"),d&&(a.width(E),I.select(".nv-legendWrap").datum(v).call(a),l.top!=a.height()&&(l.top=a.height(),T=(h||parseInt(S.style("height"))||400)-l.top-l.bottom),N.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),N.attr("transform","translate("+l.left+","+l.top+")"),g&&I.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),r.width(E).height(T).color(v.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!v[e].disabled})),I.select(".nv-barsWrap").datum(v.filter(function(t){return!t.disabled})).transition().call(r),f&&(o.scale(n).tickSize(-T,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),I.select(".nv-x.nv-axis").transition().call(o)),p&&(s.scale(i).ticks(T/36).tickSize(-E,0),I.select(".nv-y.nv-axis").transition().call(s)),a.dispatch.on("legendClick",function(n,i){n.disabled=!n.disabled,v.filter(function(t){return!t.disabled}).length||v.map(function(t){return t.disabled=!1,N.selectAll(".nv-series").classed("disabled",!1),t}),y.disabled=v.map(function(t){return!!t.disabled}),x.stateChange(y),e.transition().call(t)}),a.dispatch.on("legendDblclick",function(e){v.forEach(function(t){t.disabled=!0}),e.disabled=!1,y.disabled=v.map(function(t){return!!t.disabled}),x.stateChange(y),t.update()}),x.on("tooltipShow",function(t){m&&C(t,k.parentNode)}),x.on("changeState",function(e){void 0!==e.disabled&&(v.forEach(function(t,n){t.disabled=e.disabled[n]}),y.disabled=e.disabled),t.update()})}),t}var n,i,r=e.models.historicalBar(),o=e.models.axis(),s=e.models.axis(),a=e.models.legend(),l={top:30,right:90,bottom:50,left:90},c=e.utils.defaultColor(),u=null,h=null,d=!1,f=!0,p=!0,g=!1,m=!0,v=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},y={},b=null,w="No Data Available.",x=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),_=250;o.orient("bottom").tickPadding(7),s.orient(g?"right":"left");var C=function(n,i){if(i){var a=d3.select(i).select("svg"),l=a.node()?a.attr("viewBox"):null;if(l){l=l.split(" ");var c=parseInt(a.style("width"))/l[2];n.pos[0]=n.pos[0]*c,n.pos[1]=n.pos[1]*c}}var u=n.pos[0]+(i.offsetLeft||0),h=n.pos[1]+(i.offsetTop||0),d=o.tickFormat()(r.x()(n.point,n.pointIndex)),f=s.tickFormat()(r.y()(n.point,n.pointIndex)),p=v(n.series.key,d,f,n,t);e.tooltip.show([u,h],p,null,null,i)};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],x.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){x.tooltipHide(t)}),x.on("tooltipHide",function(){m&&e.tooltip.cleanup()}),t.dispatch=x,t.bars=r,t.legend=a,t.xAxis=o,t.yAxis=s,d3.rebind(t,r,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(n){return arguments.length?(c=e.utils.getColor(n),a.color(c),t):c},t.showLegend=function(e){return arguments.length?(d=e,t):d},t.showXAxis=function(e){return arguments.length?(f=e,t):f},t.showYAxis=function(e){return arguments.length?(p=e,t):p},t.rightAlignYAxis=function(e){return arguments.length?(g=e,s.orient(e?"right":"left"),t):g},t.tooltips=function(e){return arguments.length?(m=e,t):m},t.tooltipContent=function(e){return arguments.length?(v=e,t):v},t.state=function(e){return arguments.length?(y=e,t):y},t.defaultState=function(e){return arguments.length?(b=e,t):b},t.noData=function(e){return arguments.length?(w=e,t):w},t.transitionDuration=function(e){return arguments.length?(_=e,t):_},t},e.models.indentedTree=function(){"use strict";function t(e){return e.each(function(e){function n(e,i,r){return d3.event.stopPropagation(),d3.event.shiftKey&&!r?(d3.event.shiftKey=!1,e.values&&e.values.forEach(function(t){(t.values||t._values)&&n(t,0,!0)}),!0):!s(e)||(e.values?(e._values=e.values,e.values=null):(e.values=e._values,e._values=null),void t.update())}function i(t){return t._values&&t._values.length?f:t.values&&t.values.length?p:""}function o(t){return t._values&&t._values.length}function s(t){var e=t.values||t._values;return e&&e.length}var y=1,b=d3.select(this),w=d3.layout.tree().children(function(t){return t.values}).size([r,u]);t.update=function(){b.transition().duration(600).call(t)},e[0]||(e[0]={key:c});var x=w.nodes(e[0]),_=d3.select(this).selectAll("div").data([[x]]),C=_.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table"),S=_.select("table").attr("width","100%").attr("class",d);if(a){var k=C.append("thead").append("tr");h.forEach(function(t){k.append("th").attr("width",t.width?t.width:"10%").style("text-align","numeric"==t.type?"right":"left").append("span").text(t.label)})}var E=S.selectAll("tbody").data(function(t){return t});E.enter().append("tbody"),y=d3.max(x,function(t){return t.depth}),w.size([r,y*u]);var T=E.selectAll("tr").data(function(t){return t.filter(function(t){return!(l&&!t.children)||l(t)})},function(t,e){return t.id||t.id||++v});T.exit().remove(),T.select("img.nv-treeicon").attr("src",i).classed("folded",o);var A=T.enter().append("tr");h.forEach(function(t,e){var r=A.append("td").style("padding-left",function(t){return(e?0:t.depth*u+12+(i(t)?0:16))+"px"},"important").style("text-align","numeric"==t.type?"right":"left");0==e&&r.append("img").classed("nv-treeicon",!0).classed("nv-folded",o).attr("src",i).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(t){return i(t)?"inline-block":"none"}).on("click",n),r.each(function(n){!e&&m(n)?d3.select(this).append("a").attr("href",m).attr("class",d3.functor(t.classes)).append("span"):d3.select(this).append("span"),d3.select(this).select("span").attr("class",d3.functor(t.classes)).text(function(e){return t.format?t.format(e):e[t.key]||"-"})}),t.showCount&&(r.append("span").attr("class","nv-childrenCount"),T.selectAll("span.nv-childrenCount").text(function(t){return t.values&&t.values.length||t._values&&t._values.length?"("+(t.values&&t.values.filter(function(t){return!l||l(t)}).length||t._values&&t._values.filter(function(t){return!l||l(t)}).length||0)+")":""}))}),T.order().on("click",function(t){g.elementClick({row:this,data:t,pos:[t.x,t.y]})}).on("dblclick",function(t){g.elementDblclick({row:this,data:t,pos:[t.x,t.y]})}).on("mouseover",function(t){g.elementMouseover({row:this,data:t,pos:[t.x,t.y]})}).on("mouseout",function(t){g.elementMouseout({row:this,data:t,pos:[t.x,t.y]})})}),t}var n={top:0,right:0,bottom:0,left:0},i=960,r=500,o=e.utils.defaultColor(),s=Math.floor(1e4*Math.random()),a=!0,l=!1,c="No Data Available.",u=20,h=[{key:"key",label:"Name",type:"text"}],d=null,f="images/grey-plus.png",p="images/grey-minus.png",g=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),m=function(t){return t.url},v=0;return t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(r=e,t):r},t.color=function(n){return arguments.length?(o=e.utils.getColor(n),scatter.color(o),t):o},t.id=function(e){return arguments.length?(s=e,t):s},t.header=function(e){return arguments.length?(a=e,t):a},t.noData=function(e){return arguments.length?(c=e,t):c},t.filterZero=function(e){return arguments.length?(l=e,t):l},t.columns=function(e){return arguments.length?(h=e,t):h},t.tableClass=function(e){return arguments.length?(d=e,t):d},t.iconOpen=function(e){return arguments.length?(f=e,t):f},t.iconClose=function(e){return arguments.length?(p=e,t):p},t.getUrl=function(e){return arguments.length?(m=e,t):m},t},e.models.legend=function(){"use strict";function t(d){return d.each(function(t){var d=i-n.left-n.right,f=d3.select(this).selectAll("g.nv-legend").data([t]),p=(f.enter().append("g").attr("class","nvd3 nv-legend").append("g"),f.select("g"));f.attr("transform","translate("+n.left+","+n.top+")");var g=p.selectAll(".nv-series").data(function(t){return t}),m=g.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){h.legendMouseover(t,e)}).on("mouseout",function(t,e){h.legendMouseout(t,e)}).on("click",function(e,n){h.legendClick(e,n),c&&(u?(t.forEach(function(t){t.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,t.every(function(t){return t.disabled})&&t.forEach(function(t){t.disabled=!1})),h.stateChange({disabled:t.map(function(t){return!!t.disabled})}))}).on("dblclick",function(e,n){h.legendDblclick(e,n),c&&(t.forEach(function(t){t.disabled=!0}),e.disabled=!1,h.stateChange({disabled:t.map(function(t){return!!t.disabled})}))});if(m.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),m.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),g.classed("disabled",function(t){return t.disabled}),g.exit().remove(),g.select("circle").style("fill",function(t,e){return t.color||s(t,e)}).style("stroke",function(t,e){return t.color||s(t,e)}),g.select("text").text(o),a){var v=[];g.each(function(t,n){var i,r=d3.select(this).select("text");try{if((i=r.getComputedTextLength())<=0)throw Error()}catch(t){i=e.utils.calcApproxTextWidth(r)}v.push(i+28)});for(var y=0,b=0,w=[];b<d&&y<v.length;)w[y]=v[y],b+=v[y++];for(0===y&&(y=1);b>d&&y>1;){w=[],y--;for(var x=0;x<v.length;x++)v[x]>(w[x%y]||0)&&(w[x%y]=v[x]);b=w.reduce(function(t,e,n,i){return t+e})}for(var _=[],C=0,S=0;C<y;C++)_[C]=S,S+=w[C];g.attr("transform",function(t,e){return"translate("+_[e%y]+","+(5+20*Math.floor(e/y))+")"}),l?p.attr("transform","translate("+(i-n.right-b)+","+n.top+")"):p.attr("transform","translate(0,"+n.top+")"),r=n.top+n.bottom+20*Math.ceil(v.length/y)}else{var k,E=5,T=5,A=0;g.attr("transform",function(t,e){var r=d3.select(this).select("text").node().getComputedTextLength()+28;return k=T,i<n.left+n.right+k+r&&(T=k=5,E+=20),(T+=r)>A&&(A=T),"translate("+k+","+E+")"}),p.attr("transform","translate("+(i-n.right-A)+","+n.top+")"),r=n.top+n.bottom+E+15}}),t}var n={top:5,right:0,bottom:5,left:0},i=400,r=20,o=function(t){return t.key},s=e.utils.defaultColor(),a=!0,l=!0,c=!0,u=!1,h=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return t.dispatch=h,t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(r=e,t):r},t.key=function(e){return arguments.length?(o=e,t):o},t.color=function(n){return arguments.length?(s=e.utils.getColor(n),t):s},t.align=function(e){return arguments.length?(a=e,t):a},t.rightAlign=function(e){return arguments.length?(l=e,t):l},t.updateState=function(e){return arguments.length?(c=e,t):c},t.radioButtonMode=function(e){return arguments.length?(u=e,t):u},t},e.models.line=function(){"use strict";function t(v){return v.each(function(t){var v=s-o.left-o.right,y=a-o.top-o.bottom,b=d3.select(this);n=r.xScale(),i=r.yScale(),g=g||n,m=m||i;var w=b.selectAll("g.nv-wrap.nv-line").data([t]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),_=x.append("defs"),C=x.append("g"),S=w.select("g");C.append("g").attr("class","nv-groups"),C.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+o.left+","+o.top+")"),r.width(v).height(y);var k=w.select(".nv-scatterWrap");k.transition().call(r),_.append("clipPath").attr("id","nv-edge-clip-"+r.id()).append("rect"),w.select("#nv-edge-clip-"+r.id()+" rect").attr("width",v).attr("height",y),S.attr("clip-path",f?"url(#nv-edge-clip-"+r.id()+")":""),k.attr("clip-path",f?"url(#nv-edge-clip-"+r.id()+")":"");var E=w.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().remove(),E.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return l(t,e)}).style("stroke",function(t,e){return l(t,e)}),E.transition().style("stroke-opacity",1).style("fill-opacity",.5);var T=E.selectAll("path.nv-area").data(function(t){return d(t)?[t]:[]});T.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(p).defined(h).x(function(t,n){return e.utils.NaNtoZero(g(c(t,n)))}).y0(function(t,n){return e.utils.NaNtoZero(m(u(t,n)))}).y1(function(t,e){return m(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[t.values])}),E.exit().selectAll("path.nv-area").remove(),T.transition().attr("d",function(t){return d3.svg.area().interpolate(p).defined(h).x(function(t,i){return e.utils.NaNtoZero(n(c(t,i)))}).y0(function(t,n){return e.utils.NaNtoZero(i(u(t,n)))}).y1(function(t,e){return i(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[t.values])});var A=E.selectAll("path.nv-line").data(function(t){return[t.values]});A.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(p).defined(h).x(function(t,n){return e.utils.NaNtoZero(g(c(t,n)))}).y(function(t,n){return e.utils.NaNtoZero(m(u(t,n)))})),A.transition().attr("d",d3.svg.line().interpolate(p).defined(h).x(function(t,i){return e.utils.NaNtoZero(n(c(t,i)))}).y(function(t,n){return e.utils.NaNtoZero(i(u(t,n)))})),g=n.copy(),m=i.copy()}),t}var n,i,r=e.models.scatter(),o={top:0,right:0,bottom:0,left:0},s=960,a=500,l=e.utils.defaultColor(),c=function(t){return t.x},u=function(t){return t.y},h=function(t,e){return!isNaN(u(t,e))&&null!==u(t,e)},d=function(t){return t.area},f=!1,p="linear";r.size(16).sizeDomain([16,256]);var g,m;return t.dispatch=r.dispatch,t.scatter=r,d3.rebind(t,r,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(a=e,t):a},t.x=function(e){return arguments.length?(c=e,r.x(e),t):c},t.y=function(e){return arguments.length?(u=e,r.y(e),t):u},t.clipEdge=function(e){return arguments.length?(f=e,t):f},t.color=function(n){return arguments.length?(l=e.utils.getColor(n),r.color(l),t):l},t.interpolate=function(e){return arguments.length?(p=e,t):p},t.defined=function(e){return arguments.length?(h=e,t):h},t.isArea=function(e){return arguments.length?(d=d3.functor(e),t):d},t},e.models.lineChart=function(){"use strict";function t(b){return b.each(function(b){var E=d3.select(this),T=this,A=(h||parseInt(E.style("width"))||960)-c.left-c.right,M=(d||parseInt(E.style("height"))||400)-c.top-c.bottom;if(t.update=function(){E.transition().duration(S).call(t)},t.container=this,w.disabled=b.map(function(t){return!!t.disabled}),!x){var N;x={};for(N in w)w[N]instanceof Array?x[N]=w[N].slice(0):x[N]=w[N]}if(!b||!b.length||!b.filter(function(t){return t.values.length}).length){var D=E.selectAll(".nv-noData").data([_]);return D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),D.attr("x",c.left+A/2).attr("y",c.top+M/2).text(function(t){return t}),t}E.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var I=E.selectAll("g.nv-wrap.nv-lineChart").data([b]),L=I.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),P=I.select("g");L.append("rect").style("opacity",0),L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-linesWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-interactive"),P.select("rect").attr("width",A).attr("height",M>0?M:0),f&&(a.width(A),P.select(".nv-legendWrap").datum(b).call(a),c.top!=a.height()&&(c.top=a.height(),M=(d||parseInt(E.style("height"))||400)-c.top-c.bottom),I.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")),I.attr("transform","translate("+c.left+","+c.top+")"),m&&P.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)"),v&&(l.width(A).height(M).margin({left:c.left,top:c.top}).svgContainer(E).xScale(n),I.select(".nv-interactive").call(l)),r.width(A).height(M).color(b.map(function(t,e){return t.color||u(t,e)}).filter(function(t,e){return!b[e].disabled})),P.select(".nv-linesWrap").datum(b.filter(function(t){return!t.disabled})).transition().call(r),p&&(o.scale(n).ticks(A/100).tickSize(-M,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),P.select(".nv-x.nv-axis").transition().call(o)),g&&(s.scale(i).ticks(M/36).tickSize(-A,0),P.select(".nv-y.nv-axis").transition().call(s)),a.dispatch.on("stateChange",function(e){w=e,C.stateChange(w),t.update()}),l.dispatch.on("elementMousemove",function(n){r.clearHighlights();var i,a,h,d=[];if(b.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,s){a=e.interactiveBisect(o.values,n.pointXValue,t.x()),r.highlightPoint(s,a,!0);var l=o.values[a];void 0!==l&&(void 0===i&&(i=l),void 0===h&&(h=t.xScale()(t.x()(l,a))),d.push({key:o.key,value:t.y()(l,a),color:u(o,o.seriesIndex)}))}),d.length>2){var f=t.yScale().invert(n.mouseY),p=.03*Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),g=e.nearestValueIndex(d.map(function(t){return t.value}),f,p);null!==g&&(d[g].highlight=!0)}var m=o.tickFormat()(t.x()(i,a));l.tooltip.position({left:h+c.left,top:n.mouseY+c.top}).chartContainer(T.parentNode).enabled(y).valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:m,series:d})(),l.renderGuideLine(h)}),l.dispatch.on("elementMouseout",function(t){C.tooltipHide(),r.clearHighlights()}),C.on("tooltipShow",function(t){y&&k(t,T.parentNode)}),C.on("changeState",function(e){void 0!==e.disabled&&b.length===e.disabled.length&&(b.forEach(function(t,n){t.disabled=e.disabled[n]}),w.disabled=e.disabled),t.update()})}),t}var n,i,r=e.models.line(),o=e.models.axis(),s=e.models.axis(),a=e.models.legend(),l=e.interactiveGuideline(),c={top:30,right:20,bottom:50,left:60},u=e.utils.defaultColor(),h=null,d=null,f=!0,p=!0,g=!0,m=!1,v=!1,y=!0,b=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},w={},x=null,_="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),S=250;o.orient("bottom").tickPadding(7),s.orient(m?"right":"left");var k=function(n,i){var a=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=o.tickFormat()(r.x()(n.point,n.pointIndex)),u=s.tickFormat()(r.y()(n.point,n.pointIndex)),h=b(n.series.key,c,u,n,t);e.tooltip.show([a,l],h,null,null,i)};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],C.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){y&&e.tooltip.cleanup()}),t.dispatch=C,t.lines=r,t.legend=a,t.xAxis=o,t.yAxis=s,t.interactiveLayer=l,d3.rebind(t,r,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(h=e,t):h},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(n){return arguments.length?(u=e.utils.getColor(n),a.color(u),t):u},t.showLegend=function(e){return arguments.length?(f=e,t):f},t.showXAxis=function(e){return arguments.length?(p=e,t):p},t.showYAxis=function(e){return arguments.length?(g=e,t):g},t.rightAlignYAxis=function(e){return arguments.length?(m=e,s.orient(e?"right":"left"),t):m},t.useInteractiveGuideline=function(e){return arguments.length?(v=e,!0===e&&(t.interactive(!1),t.useVoronoi(!1)),t):v},t.tooltips=function(e){return arguments.length?(y=e,t):y},t.tooltipContent=function(e){return arguments.length?(b=e,t):b},t.state=function(e){return arguments.length?(w=e,t):w},t.defaultState=function(e){return arguments.length?(x=e,t):x},t.noData=function(e){return arguments.length?(_=e,t):_},t.transitionDuration=function(e){return arguments.length?(S=e,t):S},t},e.models.linePlusBarChart=function(){"use strict";function t(e){return e.each(function(e){var p=d3.select(this),g=this,b=(d||parseInt(p.style("width"))||960)-h.left-h.right,k=(f||parseInt(p.style("height"))||400)-h.top-h.bottom;if(t.update=function(){p.transition().call(t)},w.disabled=e.map(function(t){return!!t.disabled}),!x){var E;x={};for(E in w)w[E]instanceof Array?x[E]=w[E].slice(0):x[E]=w[E]}if(!e||!e.length||!e.filter(function(t){return t.values.length}).length){var T=p.selectAll(".nv-noData").data([_]);return T.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),T.attr("x",h.left+b/2).attr("y",h.top+k/2).text(function(t){return t}),t}p.selectAll(".nv-noData").remove();var A=e.filter(function(t){return!t.disabled&&t.bar}),M=e.filter(function(t){return!t.bar});n=M.filter(function(t){return!t.disabled}).length&&M.filter(function(t){return!t.disabled})[0].values.length?o.xScale():s.xScale(),i=s.yScale(),r=o.yScale();var N=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([e]),D=N.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),I=N.select("g");D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y1 nv-axis"),D.append("g").attr("class","nv-y2 nv-axis"),D.append("g").attr("class","nv-barsWrap"),D.append("g").attr("class","nv-linesWrap"),D.append("g").attr("class","nv-legendWrap"),v&&(u.width(b/2),I.select(".nv-legendWrap").datum(e.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(u),h.top!=u.height()&&(h.top=u.height(),k=(f||parseInt(p.style("height"))||400)-h.top-h.bottom),I.select(".nv-legendWrap").attr("transform","translate("+b/2+","+-h.top+")")),N.attr("transform","translate("+h.left+","+h.top+")"),o.width(b).height(k).color(e.map(function(t,e){return t.color||m(t,e)}).filter(function(t,n){return!e[n].disabled&&!e[n].bar})),s.width(b).height(k).color(e.map(function(t,e){return t.color||m(t,e)}).filter(function(t,n){return!e[n].disabled&&e[n].bar}));var L=I.select(".nv-barsWrap").datum(A.length?A:[{values:[]}]),P=I.select(".nv-linesWrap").datum(M[0]&&!M[0].disabled?M:[{values:[]}]);d3.transition(L).call(s),d3.transition(P).call(o),a.scale(n).ticks(b/100).tickSize(-k,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),d3.transition(I.select(".nv-x.nv-axis")).call(a),l.scale(i).ticks(k/36).tickSize(-b,0),d3.transition(I.select(".nv-y1.nv-axis")).style("opacity",A.length?1:0).call(l),c.scale(r).ticks(k/36).tickSize(A.length?0:-b,0),I.select(".nv-y2.nv-axis").style("opacity",M.length?1:0).attr("transform","translate("+b+",0)"),d3.transition(I.select(".nv-y2.nv-axis")).call(c),u.dispatch.on("stateChange",function(e){w=e,C.stateChange(w),t.update()}),C.on("tooltipShow",function(t){y&&S(t,g.parentNode)}),C.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),w.disabled=n.disabled),t.update()})}),t}var n,i,r,o=e.models.line(),s=e.models.historicalBar(),a=e.models.axis(),l=e.models.axis(),c=e.models.axis(),u=e.models.legend(),h={top:30,right:60,bottom:50,left:60},d=null,f=null,p=function(t){return t.x},g=function(t){return t.y},m=e.utils.defaultColor(),v=!0,y=!0,b=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},w={},x=null,_="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");s.padData(!0),o.clipEdge(!1).padData(!0),a.orient("bottom").tickPadding(7).highlightZero(!1),l.orient("left"),c.orient("right");var S=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),s=n.pos[1]+(i.offsetTop||0),u=a.tickFormat()(o.x()(n.point,n.pointIndex)),h=(n.series.bar?l:c).tickFormat()(o.y()(n.point,n.pointIndex)),d=b(n.series.key,u,h,n,t);e.tooltip.show([r,s],d,n.value<0?"n":"s",null,i)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],C.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),s.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],C.tooltipShow(t)}),s.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){y&&e.tooltip.cleanup()}),t.dispatch=C,t.legend=u,t.lines=o,t.bars=s,t.xAxis=a,t.y1Axis=l,t.y2Axis=c,d3.rebind(t,o,"defined","size","clipVoronoi","interpolate"),t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(p=e,o.x(e),s.x(e),t):p},t.y=function(e){return arguments.length?(g=e,o.y(e),s.y(e),t):g},t.margin=function(e){return arguments.length?(h.top=void 0!==e.top?e.top:h.top,h.right=void 0!==e.right?e.right:h.right,h.bottom=void 0!==e.bottom?e.bottom:h.bottom,h.left=void 0!==e.left?e.left:h.left,t):h},t.width=function(e){return arguments.length?(d=e,t):d},t.height=function(e){return arguments.length?(f=e,t):f},t.color=function(n){return arguments.length?(m=e.utils.getColor(n),u.color(m),t):m},t.showLegend=function(e){return arguments.length?(v=e,t):v},t.tooltips=function(e){return arguments.length?(y=e,t):y},t.tooltipContent=function(e){return arguments.length?(b=e,t):b},t.state=function(e){return arguments.length?(w=e,t):w},t.defaultState=function(e){return arguments.length?(x=e,t):x},t.noData=function(e){return arguments.length?(_=e,t):_},t},e.models.lineWithFocusChart=function(){"use strict";function t(e){return e.each(function(e){function C(){f.empty()||f.extent(x),W.data([f.empty()?r.domain():x]).each(function(t,e){var i=r(t[0])-n.range()[0],o=n.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",i<0?0:i),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",o<0?0:o)})}function A(){x=f.empty()?null:f.extent();var t=f.empty()?r.domain():f.extent();Math.abs(t[0]-t[1])<=1||(k.brush({extent:t,brush:f}),C(),H.select(".nv-focus .nv-linesWrap").datum(e.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return s.x()(e,n)>=t[0]&&s.x()(e,n)<=t[1]})}})).transition().duration(E).call(s),H.select(".nv-focus .nv-x.nv-axis").transition().duration(E).call(l),H.select(".nv-focus .nv-y.nv-axis").transition().duration(E).call(c))}var M=d3.select(this),N=this,D=(v||parseInt(M.style("width"))||960)-p.left-p.right,I=(y||parseInt(M.style("height"))||400)-p.top-p.bottom-b,L=b-g.top-g.bottom;if(t.update=function(){M.transition().duration(E).call(t)},t.container=this,!e||!e.length||!e.filter(function(t){return t.values.length}).length){var P=M.selectAll(".nv-noData").data([S]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",p.left+D/2).attr("y",p.top+I/2).text(function(t){return t}),t}M.selectAll(".nv-noData").remove(),n=s.xScale(),i=s.yScale(),r=a.xScale(),o=a.yScale();var O=M.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([e]),R=O.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),H=O.select("g");R.append("g").attr("class","nv-legendWrap");var F=R.append("g").attr("class","nv-focus");F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-linesWrap");var z=R.append("g").attr("class","nv-context");z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-linesWrap"),z.append("g").attr("class","nv-brushBackground"),z.append("g").attr("class","nv-x nv-brush"),w&&(d.width(D),H.select(".nv-legendWrap").datum(e).call(d),p.top!=d.height()&&(p.top=d.height(),I=(y||parseInt(M.style("height"))||400)-p.top-p.bottom-b),H.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")),O.attr("transform","translate("+p.left+","+p.top+")"),s.width(D).height(I).color(e.map(function(t,e){return t.color||m(t,e)}).filter(function(t,n){return!e[n].disabled})),a.defined(s.defined()).width(D).height(L).color(e.map(function(t,e){return t.color||m(t,e)}).filter(function(t,n){return!e[n].disabled})),H.select(".nv-context").attr("transform","translate(0,"+(I+p.bottom+g.top)+")");var B=H.select(".nv-context .nv-linesWrap").datum(e.filter(function(t){return!t.disabled}));d3.transition(B).call(a),l.scale(n).ticks(D/100).tickSize(-I,0),c.scale(i).ticks(I/36).tickSize(-D,0),H.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+I+")"),f.x(r).on("brush",function(){var e=t.transitionDuration();t.transitionDuration(0),A(),t.transitionDuration(e)}),x&&f.extent(x);var W=H.select(".nv-brushBackground").selectAll("g").data([x||f.extent()]),j=W.enter().append("g");j.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",L),j.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",L);var $=H.select(".nv-x.nv-brush").call(f);$.selectAll("rect").attr("height",L),$.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=L/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),A(),u.scale(r).ticks(D/100).tickSize(-L,0),H.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d3.transition(H.select(".nv-context .nv-x.nv-axis")).call(u),h.scale(o).ticks(L/36).tickSize(-D,0),d3.transition(H.select(".nv-context .nv-y.nv-axis")).call(h),H.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d.dispatch.on("stateChange",function(e){t.update()}),k.on("tooltipShow",function(t){_&&T(t,N.parentNode)})}),t}var n,i,r,o,s=e.models.line(),a=e.models.line(),l=e.models.axis(),c=e.models.axis(),u=e.models.axis(),h=e.models.axis(),d=e.models.legend(),f=d3.svg.brush(),p={top:30,right:30,bottom:30,left:60},g={top:0,right:30,bottom:20,left:60},m=e.utils.defaultColor(),v=null,y=null,b=100,w=!0,x=null,_=!0,C=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},S="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","brush"),E=250;s.clipEdge(!0),a.interactive(!1),l.orient("bottom").tickPadding(5),c.orient("left"),u.orient("bottom").tickPadding(5),h.orient("left");var T=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),o=n.pos[1]+(i.offsetTop||0),a=l.tickFormat()(s.x()(n.point,n.pointIndex)),u=c.tickFormat()(s.y()(n.point,n.pointIndex)),h=C(n.series.key,a,u,n,t);e.tooltip.show([r,o],h,null,null,i)};return s.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+p.left,t.pos[1]+p.top],k.tooltipShow(t)}),s.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){_&&e.tooltip.cleanup()}),t.dispatch=k,t.legend=d,t.lines=s,t.lines2=a,t.xAxis=l,t.yAxis=c,t.x2Axis=u,t.y2Axis=h,d3.rebind(t,s,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(s.x(e),a.x(e),t):s.x},t.y=function(e){return arguments.length?(s.y(e),a.y(e),t):s.y},t.margin=function(e){return arguments.length?(p.top=void 0!==e.top?e.top:p.top,p.right=void 0!==e.right?e.right:p.right,p.bottom=void 0!==e.bottom?e.bottom:p.bottom,p.left=void 0!==e.left?e.left:p.left,t):p},t.margin2=function(e){return arguments.length?(g=e,t):g},t.width=function(e){return arguments.length?(v=e,t):v},t.height=function(e){return arguments.length?(y=e,t):y},t.height2=function(e){return arguments.length?(b=e,t):b},t.color=function(n){return arguments.length?(m=e.utils.getColor(n),d.color(m),t):m},t.showLegend=function(e){return arguments.length?(w=e,t):w},t.tooltips=function(e){return arguments.length?(_=e,t):_},t.tooltipContent=function(e){return arguments.length?(C=e,t):C},t.interpolate=function(e){return arguments.length?(s.interpolate(e),a.interpolate(e),t):s.interpolate()},t.noData=function(e){return arguments.length?(S=e,t):S},t.xTickFormat=function(e){return arguments.length?(l.tickFormat(e),u.tickFormat(e),t):l.tickFormat()},t.yTickFormat=function(e){return arguments.length?(c.tickFormat(e),h.tickFormat(e),t):c.tickFormat()},t.brushExtent=function(e){return arguments.length?(x=e,t):x},t.transitionDuration=function(e){return arguments.length?(E=e,t):E},t},e.models.linePlusBarWithFocusChart=function(){"use strict";function t(e){return e.each(function(e){function I(){w.empty()||w.extent(N),et.data([w.empty()?r.domain():N]).each(function(t,e){var n=r(t[0])-r.range()[0],i=r.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",i<0?0:i)})}function H(){N=w.empty()?null:w.extent(),n=w.empty()?r.domain():w.extent(),P.brush({extent:n,brush:w}),I(),h.width(B).height(W).color(e.map(function(t,e){return t.color||A(t,e)}).filter(function(t,n){return!e[n].disabled&&e[n].bar})),c.width(B).height(W).color(e.map(function(t,e){return t.color||A(t,e)}).filter(function(t,n){return!e[n].disabled&&!e[n].bar}));var t=K.select(".nv-focus .nv-barsWrap").datum(q.length?q.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return h.x()(t,e)>=n[0]&&h.x()(t,e)<=n[1]})}}):[{values:[]}]),a=K.select(".nv-focus .nv-linesWrap").datum(U[0].disabled?[{values:[]}]:U.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return c.x()(t,e)>=n[0]&&c.x()(t,e)<=n[1]})}}));i=q.length?h.xScale():c.xScale(),f.scale(i).ticks(B/100).tickSize(-W,0),f.domain([Math.ceil(n[0]),Math.floor(n[1])]),K.select(".nv-x.nv-axis").transition().duration(O).call(f),t.transition().duration(O).call(h),a.transition().duration(O).call(c),K.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),g.scale(o).ticks(W/36).tickSize(-B,0),K.select(".nv-focus .nv-y1.nv-axis").style("opacity",q.length?1:0),m.scale(s).ticks(W/36).tickSize(q.length?0:-B,0),K.select(".nv-focus .nv-y2.nv-axis").style("opacity",U.length?1:0).attr("transform","translate("+i.range()[1]+",0)"),K.select(".nv-focus .nv-y1.nv-axis").transition().duration(O).call(g),K.select(".nv-focus .nv-y2.nv-axis").transition().duration(O).call(m)}var F=d3.select(this),z=this,B=(C||parseInt(F.style("width"))||960)-x.left-x.right,W=(S||parseInt(F.style("height"))||400)-x.top-x.bottom-k,j=k-_.top-_.bottom;if(t.update=function(){F.transition().duration(O).call(t)},t.container=this,!e||!e.length||!e.filter(function(t){return t.values.length}).length){var $=F.selectAll(".nv-noData").data([L]);return $.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),$.attr("x",x.left+B/2).attr("y",x.top+W/2).text(function(t){return t}),t}F.selectAll(".nv-noData").remove();var q=e.filter(function(t){return!t.disabled&&t.bar}),U=e.filter(function(t){return!t.bar});i=h.xScale(),r=p.scale(),o=h.yScale(),s=c.yScale(),a=d.yScale(),l=u.yScale();var V=e.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:E(t,e),y:T(t,e)}})}),Y=e.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:E(t,e),y:T(t,e)}})});i.range([0,B]),r.domain(d3.extent(d3.merge(V.concat(Y)),function(t){return t.x})).range([0,B]);var X=F.selectAll("g.nv-wrap.nv-linePlusBar").data([e]),G=X.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),K=X.select("g");G.append("g").attr("class","nv-legendWrap");var Q=G.append("g").attr("class","nv-focus");Q.append("g").attr("class","nv-x nv-axis"),Q.append("g").attr("class","nv-y1 nv-axis"),Q.append("g").attr("class","nv-y2 nv-axis"),Q.append("g").attr("class","nv-barsWrap"),Q.append("g").attr("class","nv-linesWrap");var Z=G.append("g").attr("class","nv-context");Z.append("g").attr("class","nv-x nv-axis"),Z.append("g").attr("class","nv-y1 nv-axis"),Z.append("g").attr("class","nv-y2 nv-axis"),Z.append("g").attr("class","nv-barsWrap"),Z.append("g").attr("class","nv-linesWrap"),Z.append("g").attr("class","nv-brushBackground"),Z.append("g").attr("class","nv-x nv-brush"),M&&(b.width(B/2),K.select(".nv-legendWrap").datum(e.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(b),x.top!=b.height()&&(x.top=b.height(),W=(S||parseInt(F.style("height"))||400)-x.top-x.bottom-k),K.select(".nv-legendWrap").attr("transform","translate("+B/2+","+-x.top+")")),X.attr("transform","translate("+x.left+","+x.top+")"),d.width(B).height(j).color(e.map(function(t,e){return t.color||A(t,e)}).filter(function(t,n){return!e[n].disabled&&e[n].bar})),u.width(B).height(j).color(e.map(function(t,e){return t.color||A(t,e)}).filter(function(t,n){return!e[n].disabled&&!e[n].bar}));var J=K.select(".nv-context .nv-barsWrap").datum(q.length?q:[{values:[]}]),tt=K.select(".nv-context .nv-linesWrap").datum(U[0].disabled?[{values:[]}]:U);K.select(".nv-context").attr("transform","translate(0,"+(W+x.bottom+_.top)+")"),J.transition().call(d),tt.transition().call(u),w.x(r).on("brush",H),N&&w.extent(N);var et=K.select(".nv-brushBackground").selectAll("g").data([N||w.extent()]),nt=et.enter().append("g");nt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",j),nt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",j);var it=K.select(".nv-x.nv-brush").call(w);it.selectAll("rect").attr("height",j),it.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=j/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),p.ticks(B/100).tickSize(-j,0),K.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),K.select(".nv-context .nv-x.nv-axis").transition().call(p),v.scale(a).ticks(j/36).tickSize(-B,0),K.select(".nv-context .nv-y1.nv-axis").style("opacity",q.length?1:0).attr("transform","translate(0,"+r.range()[0]+")"),K.select(".nv-context .nv-y1.nv-axis").transition().call(v),y.scale(l).ticks(j/36).tickSize(q.length?0:-B,0),K.select(".nv-context .nv-y2.nv-axis").style("opacity",U.length?1:0).attr("transform","translate("+r.range()[1]+",0)"),K.select(".nv-context .nv-y2.nv-axis").transition().call(y),b.dispatch.on("stateChange",function(e){t.update()}),P.on("tooltipShow",function(t){D&&R(t,z.parentNode)}),H()}),t}var n,i,r,o,s,a,l,c=e.models.line(),u=e.models.line(),h=e.models.historicalBar(),d=e.models.historicalBar(),f=e.models.axis(),p=e.models.axis(),g=e.models.axis(),m=e.models.axis(),v=e.models.axis(),y=e.models.axis(),b=e.models.legend(),w=d3.svg.brush(),x={top:30,right:30,bottom:30,left:60},_={top:0,right:30,bottom:20,left:60},C=null,S=null,k=100,E=function(t){return t.x},T=function(t){return t.y},A=e.utils.defaultColor(),M=!0,N=null,D=!0,I=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},L="No Data Available.",P=d3.dispatch("tooltipShow","tooltipHide","brush"),O=0;c.clipEdge(!0),u.interactive(!1),f.orient("bottom").tickPadding(5),g.orient("left"),m.orient("right"),p.orient("bottom").tickPadding(5),v.orient("left"),y.orient("right");var R=function(i,r){n&&(i.pointIndex+=Math.ceil(n[0]));var o=i.pos[0]+(r.offsetLeft||0),s=i.pos[1]+(r.offsetTop||0),a=f.tickFormat()(c.x()(i.point,i.pointIndex)),l=(i.series.bar?g:m).tickFormat()(c.y()(i.point,i.pointIndex)),u=I(i.series.key,a,l,i,t);e.tooltip.show([o,s],u,i.value<0?"n":"s",null,r)};return c.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+x.left,t.pos[1]+x.top],P.tooltipShow(t)}),c.dispatch.on("elementMouseout.tooltip",function(t){P.tooltipHide(t)}),h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+x.left,t.pos[1]+x.top],P.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){P.tooltipHide(t)}),P.on("tooltipHide",function(){D&&e.tooltip.cleanup()}),t.dispatch=P,t.legend=b,t.lines=c,t.lines2=u,t.bars=h,t.bars2=d,t.xAxis=f,t.x2Axis=p,t.y1Axis=g,t.y2Axis=m,t.y3Axis=v,t.y4Axis=y,d3.rebind(t,c,"defined","size","clipVoronoi","interpolate"),t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(E=e,c.x(e),h.x(e),t):E},t.y=function(e){return arguments.length?(T=e,c.y(e),h.y(e),t):T},t.margin=function(e){return arguments.length?(x.top=void 0!==e.top?e.top:x.top,x.right=void 0!==e.right?e.right:x.right,x.bottom=void 0!==e.bottom?e.bottom:x.bottom,x.left=void 0!==e.left?e.left:x.left,t):x},t.width=function(e){return arguments.length?(C=e,t):C},t.height=function(e){return arguments.length?(S=e,t):S},t.color=function(n){return arguments.length?(A=e.utils.getColor(n),b.color(A),t):A},t.showLegend=function(e){return arguments.length?(M=e,t):M},t.tooltips=function(e){return arguments.length?(D=e,t):D},t.tooltipContent=function(e){return arguments.length?(I=e,t):I},t.noData=function(e){return arguments.length?(L=e,t):L},t.brushExtent=function(e){return arguments.length?(N=e,t):N},t},e.models.multiBar=function(){"use strict";function t(e){return e.each(function(t){var e=u-c.left-c.right,T=h-c.top-c.bottom,A=d3.select(this);_&&t.length&&(_=[{values:t[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),b&&(t=d3.layout.stack().offset(w).values(function(t){return t.values}).y(m)(!t.length&&_?_:t)),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),b&&t[0].values.map(function(e,n){var i=0,r=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r,r-=e.size):(e.y1=e.size+i,i+=e.size)})});var M=i&&r?[]:t.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});d.domain(i||d3.merge(M).map(function(t){return t.x})).rangeBands(o||[0,e],k),f.domain(r||d3.extent(d3.merge(M).map(function(t){return b?t.y>0?t.y1:t.y1+t.y:t.y}).concat(v))).range(s||[T,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),a=a||d,l=l||f;var N=A.selectAll("g.nv-wrap.nv-multibar").data([t]),D=N.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),I=D.append("defs"),L=D.append("g"),P=N.select("g");L.append("g").attr("class","nv-groups"),N.attr("transform","translate("+c.left+","+c.top+")"),I.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),N.select("#nv-edge-clip-"+p+" rect").attr("width",e).attr("height",T),P.attr("clip-path",y?"url(#nv-edge-clip-"+p+")":"");var O=N.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});O.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),O.exit().transition().selectAll("rect.nv-bar").delay(function(e,n){return n*S/t[0].values.length}).attr("y",function(t){return l(b?t.y0:0)}).attr("height",0).remove(),O.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),O.transition().style("stroke-opacity",1).style("fill-opacity",.75);var R=O.selectAll("rect.nv-bar").data(function(e){return _&&!t.length?_.values:e.values});R.exit().remove();R.enter().append("rect").attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(e,n,i){return b?0:i*d.rangeBand()/t.length}).attr("y",function(t){return l(b?t.y0:0)}).attr("height",0).attr("width",d.rangeBand()/(b?1:t.length)).attr("transform",function(t,e){return"translate("+d(g(t,e))+",0)"});R.style("fill",function(t,e,n){return x(t,n,e)}).style("stroke",function(t,e,n){return x(t,n,e)}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),E.elementMouseover({value:m(e,n),point:e,series:t[e.series],pos:[d(g(e,n))+d.rangeBand()*(b?t.length/2:e.series+.5)/t.length,f(m(e,n)+(b?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),E.elementMouseout({value:m(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){E.elementClick({value:m(e,n),point:e,series:t[e.series],pos:[d(g(e,n))+d.rangeBand()*(b?t.length/2:e.series+.5)/t.length,f(m(e,n)+(b?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){E.elementDblClick({value:m(e,n),point:e,series:t[e.series],pos:[d(g(e,n))+d.rangeBand()*(b?t.length/2:e.series+.5)/t.length,f(m(e,n)+(b?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),R.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(t,e){return"translate("+d(g(t,e))+",0)"}),C&&(n||(n=t.map(function(){return!0})),R.style("fill",function(t,e,i){return d3.rgb(C(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()}).style("stroke",function(t,e,i){return d3.rgb(C(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()})),b?R.transition().delay(function(e,n){return n*S/t[0].values.length}).attr("y",function(t,e){return f(b?t.y1:0)}).attr("height",function(t,e){return Math.max(Math.abs(f(t.y+(b?t.y0:0))-f(b?t.y0:0)),1)}).attr("x",function(e,n){return b?0:e.series*d.rangeBand()/t.length}).attr("width",d.rangeBand()/(b?1:t.length)):R.transition().delay(function(e,n){return n*S/t[0].values.length}).attr("x",function(e,n){return e.series*d.rangeBand()/t.length}).attr("width",d.rangeBand()/t.length).attr("y",function(t,e){return m(t,e)<0?f(0):f(0)-f(m(t,e))<1?f(0)-1:f(m(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(f(m(t,e))-f(0)),1)||0}),a=d.copy(),l=f.copy()}),t}var n,i,r,o,s,a,l,c={top:0,right:0,bottom:0,left:0},u=960,h=500,d=d3.scale.ordinal(),f=d3.scale.linear(),p=Math.floor(1e4*Math.random()),g=function(t){return t.x},m=function(t){return t.y},v=[0],y=!0,b=!1,w="zero",x=e.utils.defaultColor(),_=!1,C=null,S=1200,k=.1,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=E,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(g=e,t):g},t.y=function(e){return arguments.length?(m=e,t):m},t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.xScale=function(e){return arguments.length?(d=e,t):d},t.yScale=function(e){return arguments.length?(f=e,t):f},t.xDomain=function(e){return arguments.length?(i=e,t):i},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.xRange=function(e){return arguments.length?(o=e,t):o},t.yRange=function(e){return arguments.length?(s=e,t):s},t.forceY=function(e){return arguments.length?(v=e,t):v},t.stacked=function(e){return arguments.length?(b=e,t):b},t.stackOffset=function(e){return arguments.length?(w=e,t):w},t.clipEdge=function(e){return arguments.length?(y=e,t):y},t.color=function(n){return arguments.length?(x=e.utils.getColor(n),t):x},t.barColor=function(n){return arguments.length?(C=e.utils.getColor(n),t):C},t.disabled=function(e){return arguments.length?(n=e,t):n},t.id=function(e){return arguments.length?(p=e,t):p},t.hideable=function(e){return arguments.length?(_=e,t):_},t.delay=function(e){return arguments.length?(S=e,t):S},t.groupSpacing=function(e){return arguments.length?(k=e,t):k},t},e.models.multiBarChart=function(){"use strict";function t(e){return e.each(function(e){var _=d3.select(this),N=this,D=(u||parseInt(_.style("width"))||960)-c.left-c.right,I=(h||parseInt(_.style("height"))||400)-c.top-c.bottom;if(t.update=function(){_.transition().duration(A).call(t)},t.container=this,C.disabled=e.map(function(t){return!!t.disabled}),!S){var L;S={};for(L in C)C[L]instanceof Array?S[L]=C[L].slice(0):S[L]=C[L]}if(!e||!e.length||!e.filter(function(t){return t.values.length}).length){var P=_.selectAll(".nv-noData").data([k]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",c.left+D/2).attr("y",c.top+I/2).text(function(t){return t}),t}_.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var O=_.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([e]),R=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),H=O.select("g");if(R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-barsWrap"),R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap"),p&&(a.width(D-T()),r.barColor()&&e.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),H.select(".nv-legendWrap").datum(e).call(a),c.top!=a.height()&&(c.top=a.height(),I=(h||parseInt(_.style("height"))||400)-c.top-c.bottom),H.select(".nv-legendWrap").attr("transform","translate("+T()+","+-c.top+")")),f){var F=[{key:"Grouped",disabled:r.stacked()},{key:"Stacked",disabled:!r.stacked()}];l.width(T()).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+-c.top+")").call(l)}if(O.attr("transform","translate("+c.left+","+c.top+")"),v&&H.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),r.disabled(e.map(function(t){return t.disabled})).width(D).height(I).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),H.select(".nv-barsWrap").datum(e.filter(function(t){return!t.disabled})).transition().call(r),g){o.scale(n).ticks(D/100).tickSize(-I,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),H.select(".nv-x.nv-axis").transition().call(o);var z=H.select(".nv-x.nv-axis > g").selectAll("g");if(z.selectAll("line, text").style("opacity",1),b){var B=function(t,e){return"translate("+t+","+e+")"};z.selectAll("text").attr("transform",function(t,e,n){return B(0,n%2==0?5:17)});var W=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;H.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return B(0,0===e||W%2!=0?17:5)})}y&&z.filter(function(t,n){return n%Math.ceil(e[0].values.length/(D/100))!=0}).selectAll("text, line").style("opacity",0),w&&z.selectAll(".tick text").attr("transform","rotate("+w+" 0,0)").style("text-anchor",w>0?"start":"end"),H.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}m&&(s.scale(i).ticks(I/36).tickSize(-D,0),H.select(".nv-y.nv-axis").transition().call(s)),a.dispatch.on("stateChange",function(e){C=e,E.stateChange(C),t.update()}),l.dispatch.on("legendClick",function(e,n){if(e.disabled){switch(F=F.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":r.stacked(!1);break;case"Stacked":r.stacked(!0)}C.stacked=r.stacked(),E.stateChange(C),t.update()}}),E.on("tooltipShow",function(t){x&&M(t,N.parentNode)}),E.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),C.disabled=n.disabled),void 0!==n.stacked&&(r.stacked(n.stacked),C.stacked=n.stacked),t.update()})}),t}var n,i,r=e.models.multiBar(),o=e.models.axis(),s=e.models.axis(),a=e.models.legend(),l=e.models.legend(),c={top:30,right:20,bottom:50,left:60},u=null,h=null,d=e.utils.defaultColor(),f=!0,p=!0,g=!0,m=!0,v=!1,y=!0,b=!1,w=0,x=!0,_=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},C={stacked:!1},S=null,k="No Data Available.",E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),T=function(){return f?180:0},A=250;r.stacked(!1),o.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),s.orient(v?"right":"left").tickFormat(d3.format(",.1f")),l.updateState(!1);var M=function(n,i){var a=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=o.tickFormat()(r.x()(n.point,n.pointIndex)),u=s.tickFormat()(r.y()(n.point,n.pointIndex)),h=_(n.series.key,c,u,n,t);e.tooltip.show([a,l],h,n.value<0?"n":"s",null,i)};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],E.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){E.tooltipHide(t)}),E.on("tooltipHide",function(){x&&e.tooltip.cleanup()}),t.dispatch=E,t.multibar=r,t.legend=a,t.xAxis=o,t.yAxis=s,d3.rebind(t,r,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(n){return arguments.length?(d=e.utils.getColor(n),a.color(d),t):d},t.showControls=function(e){return arguments.length?(f=e,t):f},t.showLegend=function(e){return arguments.length?(p=e,t):p},t.showXAxis=function(e){return arguments.length?(g=e,t):g},t.showYAxis=function(e){return arguments.length?(m=e,t):m},t.rightAlignYAxis=function(e){return arguments.length?(v=e,s.orient(e?"right":"left"),t):v},t.reduceXTicks=function(e){return arguments.length?(y=e,t):y},t.rotateLabels=function(e){return arguments.length?(w=e,t):w},t.staggerLabels=function(e){return arguments.length?(b=e,t):b},t.tooltip=function(e){return arguments.length?(_=e,t):_},t.tooltips=function(e){return arguments.length?(x=e,t):x},t.tooltipContent=function(e){return arguments.length?(_=e,t):_},t.state=function(e){return arguments.length?(C=e,t):C},t.defaultState=function(e){return arguments.length?(S=e,t):S},t.noData=function(e){return arguments.length?(k=e,t):k},t.transitionDuration=function(e){return arguments.length?(A=e,t):A},t},e.models.multiBarHorizontal=function(){"use strict";function t(e){return e.each(function(t){var e=u-c.left-c.right,d=h-c.top-c.bottom;d3.select(this);w&&(t=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(m)(t)),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),w&&t[0].values.map(function(e,n){var i=0,r=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r-e.size,r-=e.size):(e.y1=i,i+=e.size)})});var k=i&&r?[]:t.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});f.domain(i||d3.merge(k).map(function(t){return t.x})).rangeBands(o||[0,d],.1),p.domain(r||d3.extent(d3.merge(k).map(function(t){return w?t.y>0?t.y1+t.y:t.y1:t.y}).concat(v))),x&&!w?p.range(s||[p.domain()[0]<0?C:0,e-(p.domain()[1]>0?C:0)]):p.range(s||[0,e]),a=a||f,l=l||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var T=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([t]),A=T.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),M=(A.append("defs"),A.append("g"));T.select("g");M.append("g").attr("class","nv-groups"),T.attr("transform","translate("+c.left+","+c.top+")");var N=T.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});N.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),N.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),N.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return y(t,e)}).style("stroke",function(t,e){return y(t,e)}),N.transition().style("stroke-opacity",1).style("fill-opacity",.75);var D=N.selectAll("g.nv-bar").data(function(t){return t.values});D.exit().remove();var I=D.enter().append("g").attr("transform",function(e,n,i){return"translate("+l(w?e.y0:0)+","+(w?0:i*f.rangeBand()/t.length+f(g(e,n)))+")"});I.append("rect").attr("width",0).attr("height",f.rangeBand()/(w?1:t.length)),D.on("mouseover",function(e,n){d3.select(this).classed("hover",!0),E.elementMouseover({value:m(e,n),point:e,series:t[e.series],pos:[p(m(e,n)+(w?e.y0:0)),f(g(e,n))+f.rangeBand()*(w?t.length/2:e.series+.5)/t.length],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),E.elementMouseout({value:m(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){E.elementClick({value:m(e,n),point:e,series:t[e.series],pos:[f(g(e,n))+f.rangeBand()*(w?t.length/2:e.series+.5)/t.length,p(m(e,n)+(w?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){E.elementDblClick({value:m(e,n),point:e,series:t[e.series],pos:[f(g(e,n))+f.rangeBand()*(w?t.length/2:e.series+.5)/t.length,p(m(e,n)+(w?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),I.append("text"),x&&!w?(D.select("text").attr("text-anchor",function(t,e){return m(t,e)<0?"end":"start"}).attr("y",f.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return S(m(t,e))}),D.transition().select("text").attr("x",function(t,e){return m(t,e)<0?-4:p(m(t,e))-p(0)+4})):D.selectAll("text").text(""),_&&!w?(I.append("text").classed("nv-bar-label",!0),D.select("text.nv-bar-label").attr("text-anchor",function(t,e){return m(t,e)<0?"start":"end"}).attr("y",f.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return g(t,e)}),D.transition().select("text.nv-bar-label").attr("x",function(t,e){return m(t,e)<0?p(0)-p(m(t,e))+4:-4})):D.selectAll("text.nv-bar-label").text(""),D.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}),b&&(n||(n=t.map(function(){return!0})),D.style("fill",function(t,e,i){return d3.rgb(b(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()}).style("stroke",function(t,e,i){return d3.rgb(b(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()})),w?D.transition().attr("transform",function(t,e){return"translate("+p(t.y1)+","+f(g(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(p(m(t,e)+t.y0)-p(t.y0))}).attr("height",f.rangeBand()):D.transition().attr("transform",function(e,n){return"translate("+p(m(e,n)<0?m(e,n):0)+","+(e.series*f.rangeBand()/t.length+f(g(e,n)))+")"}).select("rect").attr("height",f.rangeBand()/t.length).attr("width",function(t,e){return Math.max(Math.abs(p(m(t,e))-p(0)),1)}),a=f.copy(),l=p.copy()}),t}var n,i,r,o,s,a,l,c={top:0,right:0,bottom:0,left:0},u=960,h=500,d=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),p=d3.scale.linear(),g=function(t){return t.x},m=function(t){return t.y},v=[0],y=e.utils.defaultColor(),b=null,w=!1,x=!1,_=!1,C=60,S=d3.format(",.2f"),k=1200,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=E,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(g=e,t):g},t.y=function(e){return arguments.length?(m=e,t):m},t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.xScale=function(e){return arguments.length?(f=e,t):f},t.yScale=function(e){return arguments.length?(p=e,t):p},t.xDomain=function(e){return arguments.length?(i=e,t):i},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.xRange=function(e){return arguments.length?(o=e,t):o},t.yRange=function(e){return arguments.length?(s=e,t):s},t.forceY=function(e){return arguments.length?(v=e,t):v},t.stacked=function(e){return arguments.length?(w=e,t):w},t.color=function(n){return arguments.length?(y=e.utils.getColor(n),t):y},t.barColor=function(n){return arguments.length?(b=e.utils.getColor(n),t):b},t.disabled=function(e){return arguments.length?(n=e,t):n},t.id=function(e){return arguments.length?(d=e,t):d},t.delay=function(e){return arguments.length?(k=e,t):k},t.showValues=function(e){return arguments.length?(x=e,t):x},t.showBarLabels=function(e){return arguments.length?(_=e,t):_},t.valueFormat=function(e){return arguments.length?(S=e,t):S},t.valuePadding=function(e){return arguments.length?(C=e,t):C},t},e.models.multiBarHorizontalChart=function(){"use strict";function t(e){return e.each(function(e){var y=d3.select(this),E=this,T=(u||parseInt(y.style("width"))||960)-c.left-c.right,A=(h||parseInt(y.style("height"))||400)-c.top-c.bottom;if(t.update=function(){y.transition().duration(S).call(t)},t.container=this,b.disabled=e.map(function(t){return!!t.disabled}),!w){var M;w={};for(M in b)b[M]instanceof Array?w[M]=b[M].slice(0):w[M]=b[M]}if(!e||!e.length||!e.filter(function(t){return t.values.length}).length){var N=y.selectAll(".nv-noData").data([x]);return N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),N.attr("x",c.left+T/2).attr("y",c.top+A/2).text(function(t){return t}),t}y.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var D=y.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([e]),I=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),L=D.select("g");if(I.append("g").attr("class","nv-x nv-axis"),I.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),I.append("g").attr("class","nv-barsWrap"),I.append("g").attr("class","nv-legendWrap"),I.append("g").attr("class","nv-controlsWrap"),p&&(a.width(T-C()),r.barColor()&&e.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),L.select(".nv-legendWrap").datum(e).call(a),c.top!=a.height()&&(c.top=a.height(),A=(h||parseInt(y.style("height"))||400)-c.top-c.bottom),L.select(".nv-legendWrap").attr("transform","translate("+C()+","+-c.top+")")),f){var P=[{key:"Grouped",disabled:r.stacked()},{key:"Stacked",disabled:!r.stacked()}];l.width(C()).color(["#444","#444","#444"]),L.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-c.top+")").call(l)}D.attr("transform","translate("+c.left+","+c.top+")"),r.disabled(e.map(function(t){return t.disabled})).width(T).height(A).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),L.select(".nv-barsWrap").datum(e.filter(function(t){return!t.disabled})).transition().call(r),g&&(o.scale(n).ticks(A/24).tickSize(-T,0),L.select(".nv-x.nv-axis").transition().call(o),L.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),m&&(s.scale(i).ticks(T/100).tickSize(-A,0),L.select(".nv-y.nv-axis").attr("transform","translate(0,"+A+")"),L.select(".nv-y.nv-axis").transition().call(s)),L.select(".nv-zeroLine line").attr("x1",i(0)).attr("x2",i(0)).attr("y1",0).attr("y2",-A),a.dispatch.on("stateChange",function(e){b=e,_.stateChange(b),t.update()}),l.dispatch.on("legendClick",function(e,n){if(e.disabled){switch(P=P.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":r.stacked(!1);break;case"Stacked":r.stacked(!0)}b.stacked=r.stacked(),_.stateChange(b),t.update()}}),_.on("tooltipShow",function(t){v&&k(t,E.parentNode)}),_.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),b.disabled=n.disabled),void 0!==n.stacked&&(r.stacked(n.stacked),b.stacked=n.stacked),t.update()})}),t}var n,i,r=e.models.multiBarHorizontal(),o=e.models.axis(),s=e.models.axis(),a=e.models.legend().height(30),l=e.models.legend().height(30),c={top:30,right:20,bottom:50,left:60},u=null,h=null,d=e.utils.defaultColor(),f=!0,p=!0,g=!0,m=!0,v=!0,y=function(t,e,n,i,r){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},b={stacked:!1},w=null,x="No Data Available.",_=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),C=function(){return f?180:0},S=250;r.stacked(!1),o.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),s.orient("bottom").tickFormat(d3.format(",.1f")),l.updateState(!1);var k=function(n,i){var a=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=o.tickFormat()(r.x()(n.point,n.pointIndex)),u=s.tickFormat()(r.y()(n.point,n.pointIndex)),h=y(n.series.key,c,u,n,t);e.tooltip.show([a,l],h,n.value<0?"e":"w",null,i)};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],_.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){_.tooltipHide(t)}),_.on("tooltipHide",function(){v&&e.tooltip.cleanup()}),t.dispatch=_,t.multibar=r,t.legend=a,t.xAxis=o,t.yAxis=s,d3.rebind(t,r,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(n){return arguments.length?(d=e.utils.getColor(n),a.color(d),t):d},t.showControls=function(e){return arguments.length?(f=e,t):f},t.showLegend=function(e){return arguments.length?(p=e,t):p},t.showXAxis=function(e){return arguments.length?(g=e,t):g},t.showYAxis=function(e){return arguments.length?(m=e,t):m},t.tooltip=function(e){return arguments.length?(y=e,t):y},t.tooltips=function(e){return arguments.length?(v=e,t):v},t.tooltipContent=function(e){return arguments.length?(y=e,t):y},t.state=function(e){return arguments.length?(b=e,t):b},t.defaultState=function(e){return arguments.length?(w=e,t):w},t.noData=function(e){return arguments.length?(x=e,t):x},t.transitionDuration=function(e){return arguments.length?(S=e,t):S},t},e.models.multiChart=function(){"use strict";function t(e){return e.each(function(e){var u=d3.select(this),E=this;t.update=function(){u.transition().call(t)},t.container=this;var T=(s||parseInt(u.style("width"))||960)-r.left-r.right,A=(a||parseInt(u.style("height"))||400)-r.top-r.bottom,M=e.filter(function(t){return!t.disabled&&"line"==t.type&&1==t.yAxis}),N=e.filter(function(t){return!t.disabled&&"line"==t.type&&2==t.yAxis}),D=e.filter(function(t){return!t.disabled&&"bar"==t.type&&1==t.yAxis}),I=e.filter(function(t){return!t.disabled&&"bar"==t.type&&2==t.yAxis}),L=e.filter(function(t){return!t.disabled&&"area"==t.type&&1==t.yAxis}),P=e.filter(function(t){return!t.disabled&&"area"==t.type&&2==t.yAxis}),O=e.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})}),R=e.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})});h.domain(d3.extent(d3.merge(O.concat(R)),function(t){return t.x})).range([0,T]);var H=u.selectAll("g.wrap.multiChart").data([e]),F=H.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");F.append("g").attr("class","x axis"),F.append("g").attr("class","y1 axis"),F.append("g").attr("class","y2 axis"),F.append("g").attr("class","lines1Wrap"),F.append("g").attr("class","lines2Wrap"),F.append("g").attr("class","bars1Wrap"),F.append("g").attr("class","bars2Wrap"),F.append("g").attr("class","stack1Wrap"),F.append("g").attr("class","stack2Wrap"),F.append("g").attr("class","legendWrap");var z=H.select("g");l&&(C.width(T/2),z.select(".legendWrap").datum(e.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(C),r.top!=C.height()&&(r.top=C.height(),A=(a||parseInt(u.style("height"))||400)-r.top-r.bottom),z.select(".legendWrap").attr("transform","translate("+T/2+","+-r.top+")")),p.width(T).height(A).interpolate("monotone").color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&1==e[n].yAxis&&"line"==e[n].type})),g.width(T).height(A).interpolate("monotone").color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&2==e[n].yAxis&&"line"==e[n].type})),m.width(T).height(A).color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&1==e[n].yAxis&&"bar"==e[n].type})),v.width(T).height(A).color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&2==e[n].yAxis&&"bar"==e[n].type})),y.width(T).height(A).color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&1==e[n].yAxis&&"area"==e[n].type})),b.width(T).height(A).color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&2==e[n].yAxis&&"area"==e[n].type})),z.attr("transform","translate("+r.left+","+r.top+")");var B=z.select(".lines1Wrap").datum(M),W=z.select(".bars1Wrap").datum(D),j=z.select(".stack1Wrap").datum(L),$=z.select(".lines2Wrap").datum(N),q=z.select(".bars2Wrap").datum(I),U=z.select(".stack2Wrap").datum(P),V=L.length?L.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],Y=P.length?P.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];d.domain(n||d3.extent(d3.merge(O).concat(V),function(t){return t.y})).range([0,A]),f.domain(i||d3.extent(d3.merge(R).concat(Y),function(t){return t.y})).range([0,A]),p.yDomain(d.domain()),m.yDomain(d.domain()),y.yDomain(d.domain()),g.yDomain(f.domain()),v.yDomain(f.domain()),b.yDomain(f.domain()),L.length&&d3.transition(j).call(y),P.length&&d3.transition(U).call(b),D.length&&d3.transition(W).call(m),I.length&&d3.transition(q).call(v),M.length&&d3.transition(B).call(p),N.length&&d3.transition($).call(g),w.ticks(T/100).tickSize(-A,0),z.select(".x.axis").attr("transform","translate(0,"+A+")"),d3.transition(z.select(".x.axis")).call(w),x.ticks(A/36).tickSize(-T,0),d3.transition(z.select(".y1.axis")).call(x),_.ticks(A/36).tickSize(-T,0),d3.transition(z.select(".y2.axis")).call(_),z.select(".y2.axis").style("opacity",R.length?1:0).attr("transform","translate("+h.range()[1]+",0)"),C.dispatch.on("stateChange",function(e){t.update()}),S.on("tooltipShow",function(t){c&&k(t,E.parentNode)})}),t}var n,i,r={top:30,right:20,bottom:50,left:60},o=d3.scale.category20().range(),s=null,a=null,l=!0,c=!0,u=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},h=d3.scale.linear(),d=d3.scale.linear(),f=d3.scale.linear(),p=e.models.line().yScale(d),g=e.models.line().yScale(f),m=e.models.multiBar().stacked(!1).yScale(d),v=e.models.multiBar().stacked(!1).yScale(f),y=e.models.stackedArea().yScale(d),b=e.models.stackedArea().yScale(f),w=e.models.axis().scale(h).orient("bottom").tickPadding(5),x=e.models.axis().scale(d).orient("left"),_=e.models.axis().scale(f).orient("right"),C=e.models.legend().height(30),S=d3.dispatch("tooltipShow","tooltipHide"),k=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),o=n.pos[1]+(i.offsetTop||0),s=w.tickFormat()(p.x()(n.point,n.pointIndex)),a=(2==n.series.yAxis?_:x).tickFormat()(p.y()(n.point,n.pointIndex)),l=u(n.series.key,s,a,n,t);e.tooltip.show([r,o],l,void 0,void 0,i.offsetParent)};return p.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],S.tooltipShow(t)}),p.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),g.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],S.tooltipShow(t)}),g.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],S.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),v.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],S.tooltipShow(t)}),v.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),y.dispatch.on("tooltipShow",function(t){if(!Math.round(100*y.y()(t.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],S.tooltipShow(t)}),y.dispatch.on("tooltipHide",function(t){S.tooltipHide(t)}),b.dispatch.on("tooltipShow",function(t){if(!Math.round(100*b.y()(t.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],S.tooltipShow(t)}),b.dispatch.on("tooltipHide",function(t){S.tooltipHide(t)}),p.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],S.tooltipShow(t)}),p.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),g.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],S.tooltipShow(t)}),g.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){c&&e.tooltip.cleanup()}),t.dispatch=S,t.lines1=p,t.lines2=g,t.bars1=m,t.bars2=v,t.stack1=y,t.stack2=b,t.xAxis=w,t.yAxis1=x,t.yAxis2=_,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(getX=e,p.x(e),m.x(e),t):getX},t.y=function(e){return arguments.length?(getY=e,p.y(e),m.y(e),t):getY},t.yDomain1=function(e){return arguments.length?(n=e,t):n},t.yDomain2=function(e){return arguments.length?(i=e,t):i},t.margin=function(e){return arguments.length?(r=e,t):r},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(a=e,t):a},t.color=function(e){return arguments.length?(o=e,C.color(e),t):o},t.showLegend=function(e){return arguments.length?(l=e,t):l},t.tooltips=function(e){return arguments.length?(c=e,t):c},t.tooltipContent=function(e){return arguments.length?(u=e,t):u},t},e.models.ohlcBar=function(){"use strict";function t(e){return e.each(function(t){var e=a-s.left-s.right,_=l-s.top-s.bottom,S=d3.select(this);u.domain(n||d3.extent(t[0].values.map(d).concat(y))),w?u.range(r||[.5*e/t[0].values.length,e*(t[0].values.length-.5)/t[0].values.length]):u.range(r||[0,e]),h.domain(i||[d3.min(t[0].values.map(v).concat(b)),d3.max(t[0].values.map(m).concat(b))]).range(o||[_,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var k=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([t[0].values]),E=k.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),T=E.append("defs"),A=E.append("g"),M=k.select("g");A.append("g").attr("class","nv-ticks"),k.attr("transform","translate("+s.left+","+s.top+")"),S.on("click",function(t,e){C.chartClick({data:t,index:e,pos:d3.event,id:c})}),T.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),k.select("#nv-chart-clip-path-"+c+" rect").attr("width",e).attr("height",_),M.attr("clip-path",x?"url(#nv-chart-clip-path-"+c+")":"");var N=k.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});N.exit().remove();N.enter().append("path").attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(n,i){var r=e/t[0].values.length*.9;return"m0,0l0,"+(h(p(n,i))-h(m(n,i)))+"l"+-r/2+",0l"+r/2+",0l0,"+(h(v(n,i))-h(p(n,i)))+"l0,"+(h(g(n,i))-h(v(n,i)))+"l"+r/2+",0l"+-r/2+",0z"}).attr("transform",function(t,e){return"translate("+u(d(t,e))+","+h(m(t,e))+")"}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),C.elementMouseover({point:e,series:t[0],pos:[u(d(e,n)),h(f(e,n))],pointIndex:n,seriesIndex:0,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),C.elementMouseout({point:e,series:t[0],pointIndex:n,seriesIndex:0,e:d3.event})}).on("click",function(t,e){C.elementClick({value:f(t,e),data:t,index:e,pos:[u(d(t,e)),h(f(t,e))],e:d3.event,id:c}),d3.event.stopPropagation()}).on("dblclick",function(t,e){C.elementDblClick({value:f(t,e),data:t,index:e,pos:[u(d(t,e)),h(f(t,e))],e:d3.event,id:c}),d3.event.stopPropagation()});N.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(N).attr("transform",function(t,e){return"translate("+u(d(t,e))+","+h(m(t,e))+")"}).attr("d",function(n,i){var r=e/t[0].values.length*.9;return"m0,0l0,"+(h(p(n,i))-h(m(n,i)))+"l"+-r/2+",0l"+r/2+",0l0,"+(h(v(n,i))-h(p(n,i)))+"l0,"+(h(g(n,i))-h(v(n,i)))+"l"+r/2+",0l"+-r/2+",0z"})}),t}var n,i,r,o,s={top:0,right:0,bottom:0,left:0},a=960,l=500,c=Math.floor(1e4*Math.random()),u=d3.scale.linear(),h=d3.scale.linear(),d=function(t){return t.x},f=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},m=function(t){return t.high},v=function(t){return t.low},y=[],b=[],w=!1,x=!0,_=e.utils.defaultColor(),C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=C,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(d=e,t):d},t.y=function(e){return arguments.length?(f=e,t):f},t.open=function(e){return arguments.length?(p=e,t):p},t.close=function(e){return arguments.length?(g=e,t):g},t.high=function(e){return arguments.length?(m=e,t):m},t.low=function(e){return arguments.length?(v=e,t):v},t.margin=function(e){return arguments.length?(s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(l=e,t):l},t.xScale=function(e){return arguments.length?(u=e,t):u},t.yScale=function(e){return arguments.length?(h=e,t):h},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(i=e,t):i},t.xRange=function(e){return arguments.length?(r=e,t):r},t.yRange=function(e){return arguments.length?(o=e,t):o},t.forceX=function(e){return arguments.length?(y=e,t):y},t.forceY=function(e){return arguments.length?(b=e,t):b},t.padData=function(e){return arguments.length?(w=e,t):w},t.clipEdge=function(e){return arguments.length?(x=e,t):x},t.color=function(n){return arguments.length?(_=e.utils.getColor(n),t):_},t.id=function(e){return arguments.length?(c=e,t):c},t},e.models.pie=function(){"use strict";function t(e){return e.each(function(t){var e=i-n.left-n.right,a=r-n.top-n.bottom,u=Math.min(e,a)/2,C=u-u/5,S=d3.select(this),k=S.selectAll(".nv-wrap.nv-pie").data(t),E=k.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+l).append("g"),T=k.select("g");E.append("g").attr("class","nv-pie"),E.append("g").attr("class","nv-pieLabels"),k.attr("transform","translate("+n.left+","+n.top+")"),T.select(".nv-pie").attr("transform","translate("+e/2+","+a/2+")"),T.select(".nv-pieLabels").attr("transform","translate("+e/2+","+a/2+")"),S.on("click",function(t,e){_.chartClick({data:t,index:e,pos:d3.event,id:l})});var A=d3.svg.arc().outerRadius(C);b&&A.startAngle(b),w&&A.endAngle(w),v&&A.innerRadius(u*x);var M=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:s(t)}),N=k.select(".nv-pie").selectAll(".nv-slice").data(M),D=k.select(".nv-pieLabels").selectAll(".nv-label").data(M);N.exit().remove(),D.exit().remove();var I=N.enter().append("g").attr("class","nv-slice").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),_.elementMouseover({label:o(t.data),value:s(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:l})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),_.elementMouseout({label:o(t.data),value:s(t.data),point:t.data,index:e,id:l})}).on("click",function(t,e){_.elementClick({label:o(t.data),value:s(t.data),point:t.data,index:e,pos:d3.event,id:l}),d3.event.stopPropagation()}).on("dblclick",function(t,e){_.elementDblClick({label:o(t.data),value:s(t.data),point:t.data,index:e,pos:d3.event,id:l}),d3.event.stopPropagation()});N.attr("fill",function(t,e){return c(t,e)}).attr("stroke",function(t,e){return c(t,e)});I.append("path").each(function(t){this._current=t});if(N.select("path").transition().attr("d",A).attrTween("d",function(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,v||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return A(e(t))}}),h){var L=d3.svg.arc().innerRadius(0);f&&(L=A),p&&(L=d3.svg.arc().outerRadius(A.outerRadius())),D.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t){if(y){t.outerRadius=C+10,t.innerRadius=C+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+L.centroid(t)+") rotate("+e+")"}return t.outerRadius=u+10,t.innerRadius=u+15,"translate("+L.centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",y?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var P={},O=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)};D.transition().attr("transform",function(t){if(y){t.outerRadius=C+10,t.innerRadius=C+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+L.centroid(t)+") rotate("+e+")"}t.outerRadius=u+10,t.innerRadius=u+15;var n=L.centroid(t),i=O(n);return P[i]&&(n[1]-=14),P[O(n)]=!0,"translate("+n+")"}),D.select(".nv-label text").style("text-anchor",y?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t,e){var n=(t.endAngle-t.startAngle)/(2*Math.PI),i={key:o(t.data),value:s(t.data),percent:d3.format("%")(n)};return t.value&&n>m?i[g]:""})}}),t}var n={top:0,right:0,bottom:0,left:0},i=500,r=500,o=function(t){return t.x},s=function(t){return t.y},a=function(t){return t.description},l=Math.floor(1e4*Math.random()),c=e.utils.defaultColor(),u=d3.format(",.2f"),h=!0,f=!0,p=!1,g="key",m=.02,v=!1,y=!1,b=!1,w=!1,x=.5,_=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=_,t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(r=e,t):r},t.values=function(n){return e.log("pie.values() is no longer supported."),t},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(s=d3.functor(e),t):s},t.description=function(e){return arguments.length?(a=e,t):a},t.showLabels=function(e){return arguments.length?(h=e,t):h},t.labelSunbeamLayout=function(e){return arguments.length?(y=e,t):y},t.donutLabelsOutside=function(e){return arguments.length?(p=e,t):p},t.pieLabelsOutside=function(e){return arguments.length?(f=e,t):f},t.labelType=function(e){return arguments.length?(g=e,g=g||"key",t):g},t.donut=function(e){return arguments.length?(v=e,t):v},t.donutRatio=function(e){return arguments.length?(x=e,t):x},t.startAngle=function(e){return arguments.length?(b=e,t):b},t.endAngle=function(e){return arguments.length?(w=e,t):w},t.id=function(e){return arguments.length?(l=e,t):l},t.color=function(n){return arguments.length?(c=e.utils.getColor(n),t):c},t.valueFormat=function(e){return arguments.length?(u=e,t):u},t.labelThreshold=function(e){return arguments.length?(m=e,t):m},t},e.models.pieChart=function(){"use strict";function t(e){return e.each(function(e){var l=d3.select(this),c=(o||parseInt(l.style("width"))||960)-r.left-r.right,u=(s||parseInt(l.style("height"))||400)-r.top-r.bottom;if(t.update=function(){l.transition().call(t)},t.container=this,h.disabled=e.map(function(t){return!!t.disabled}),!d){var g;d={};for(g in h)h[g]instanceof Array?d[g]=h[g].slice(0):d[g]=h[g]}if(!e||!e.length){var m=l.selectAll(".nv-noData").data([f]);return m.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),m.attr("x",r.left+c/2).attr("y",r.top+u/2).text(function(t){return t}),t}l.selectAll(".nv-noData").remove();var v=l.selectAll("g.nv-wrap.nv-pieChart").data([e]),y=v.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),b=v.select("g");y.append("g").attr("class","nv-pieWrap"),y.append("g").attr("class","nv-legendWrap"),a&&(i.width(c).key(n.x()),v.select(".nv-legendWrap").datum(e).call(i),r.top!=i.height()&&(r.top=i.height(),u=(s||parseInt(l.style("height"))||400)-r.top-r.bottom),v.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")")),v.attr("transform","translate("+r.left+","+r.top+")"),n.width(c).height(u);var w=b.select(".nv-pieWrap").datum([e]);d3.transition(w).call(n),i.dispatch.on("stateChange",function(e){h=e,p.stateChange(h),t.update()}),n.dispatch.on("elementMouseout.tooltip",function(t){p.tooltipHide(t)}),p.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),h.disabled=n.disabled),t.update()})}),t}var n=e.models.pie(),i=e.models.legend(),r={top:30,right:20,bottom:20,left:20},o=null,s=null,a=!0,l=e.utils.defaultColor(),c=!0,u=function(t,e,n,i){return"<h3>"+t+"</h3><p>"+e+"</p>"},h={},d=null,f="No Data Available.",p=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),g=function(i,r){var o=n.description()(i.point)||n.x()(i.point),s=i.pos[0]+(r&&r.offsetLeft||0),a=i.pos[1]+(r&&r.offsetTop||0),l=n.valueFormat()(n.y()(i.point)),c=u(o,l,i,t);e.tooltip.show([s,a],c,i.value<0?"n":"s",null,r)};return n.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],p.tooltipShow(t)}),p.on("tooltipShow",function(t){c&&g(t)}),p.on("tooltipHide",function(){c&&e.tooltip.cleanup()}),t.legend=i,t.dispatch=p,t.pie=n,d3.rebind(t,n,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(s=e,t):s},t.color=function(r){return arguments.length?(l=e.utils.getColor(r),i.color(l),n.color(l),t):l},t.showLegend=function(e){return arguments.length?(a=e,t):a},t.tooltips=function(e){return arguments.length?(c=e,t):c},t.tooltipContent=function(e){return arguments.length?(u=e,t):u},t.state=function(e){return arguments.length?(h=e,t):h},t.defaultState=function(e){return arguments.length?(d=e,t):d},t.noData=function(e){return arguments.length?(f=e,t):f},t},e.models.scatter=function(){"use strict";function t(B){return B.each(function(t){var B=a-s.left-s.right,W=l-s.top-s.bottom,j=d3.select(this);t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var $=N&&D&&P?[]:d3.merge(t.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),size:m(t,e)}})}));h.domain(N||d3.extent($.map(function(t){return t.x}).concat(b))),k&&t[0]?h.range(I||[(B*E+B)/(2*t[0].values.length),B-B*(1+E)/(2*t[0].values.length)]):h.range(I||[0,B]),d.domain(D||d3.extent($.map(function(t){return t.y}).concat(w))).range(L||[W,0]),f.domain(P||d3.extent($.map(function(t){return t.size}).concat(x))).range(O||[16,256]),h.domain()[0]!==h.domain()[1]&&d.domain()[0]!==d.domain()[1]||(R=!0),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]):h.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),isNaN(h.domain()[0])&&h.domain([-1,1]),isNaN(d.domain()[0])&&d.domain([-1,1]),n=n||h,i=i||d,r=r||f;var q=j.selectAll("g.nv-wrap.nv-scatter").data([t]),U=q.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+u+(R?" nv-single-point":"")),V=U.append("defs"),Y=U.append("g"),X=q.select("g");Y.append("g").attr("class","nv-groups"),Y.append("g").attr("class","nv-point-paths"),q.attr("transform","translate("+s.left+","+s.top+")"),V.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),q.select("#nv-edge-clip-"+u+" rect").attr("width",B).attr("height",W>0?W:0),X.attr("clip-path",T?"url(#nv-edge-clip-"+u+")":""),z=!0;var G=q.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});if(G.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),G.exit().remove(),G.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),G.transition().style("fill",function(t,e){return c(t,e)}).style("stroke",function(t,e){return c(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5),y)(K=G.selectAll("circle.nv-point").data(function(t){return t.values},C)).enter().append("circle").style("fill",function(t,e){return t.color}).style("stroke",function(t,e){return t.color}).attr("cx",function(t,i){return e.utils.NaNtoZero(n(p(t,i)))}).attr("cy",function(t,n){return e.utils.NaNtoZero(i(g(t,n)))}).attr("r",function(t,e){return Math.sqrt(f(m(t,e))/Math.PI)}),K.exit().remove(),G.exit().selectAll("path.nv-point").transition().attr("cx",function(t,n){return e.utils.NaNtoZero(h(p(t,n)))}).attr("cy",function(t,n){return e.utils.NaNtoZero(d(g(t,n)))}).remove(),K.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),K.transition().attr("cx",function(t,n){return e.utils.NaNtoZero(h(p(t,n)))}).attr("cy",function(t,n){return e.utils.NaNtoZero(d(g(t,n)))}).attr("r",function(t,e){return Math.sqrt(f(m(t,e))/Math.PI)});else{var K=G.selectAll("path.nv-point").data(function(t){return t.values});K.enter().append("path").style("fill",function(t,e){return t.color}).style("stroke",function(t,e){return t.color}).attr("transform",function(t,e){return"translate("+n(p(t,e))+","+i(g(t,e))+")"}).attr("d",d3.svg.symbol().type(v).size(function(t,e){return f(m(t,e))})),K.exit().remove(),G.exit().selectAll("path.nv-point").transition().attr("transform",function(t,e){return"translate("+h(p(t,e))+","+d(g(t,e))+")"}).remove(),K.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),K.transition().attr("transform",function(t,e){return"translate("+h(p(t,e))+","+d(g(t,e))+")"}).attr("d",d3.svg.symbol().type(v).size(function(t,e){return f(m(t,e))}))}clearTimeout(o),o=setTimeout(function(){if(!_)return!1;var e=d3.merge(t.map(function(t,e){return t.values.map(function(t,n){var i=p(t,n),r=g(t,n);return[h(i)+1e-7*Math.random(),d(r)+1e-7*Math.random(),e,n,t]}).filter(function(t,e){return S(t[4],e)})}));if(!0===F){if(A){q.select("defs").selectAll(".nv-point-clips").data([u]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+u);var n=q.select("#nv-points-clip-"+u).selectAll("circle").data(e);n.enter().append("circle").attr("r",M),n.exit().remove(),n.attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}),q.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+u+")")}e.length&&(e.push([h.range()[0]-20,d.range()[0]-20,null,null]),e.push([h.range()[1]+20,d.range()[1]+20,null,null]),e.push([h.range()[0]-20,d.range()[0]+20,null,null]),e.push([h.range()[1]+20,d.range()[1]-20,null,null]));var i=d3.geom.polygon([[-10,-10],[-10,l+10],[a+10,l+10],[a+10,-10]]),r=d3.geom.voronoi(e).map(function(t,n){return{data:i.clip(t),series:e[n][2],point:e[n][3]}}),o=q.select(".nv-point-paths").selectAll("path").data(r);o.enter().append("path").attr("class",function(t,e){return"nv-path-"+e}),o.exit().remove(),o.attr("d",function(t){return 0===t.data.length?"M 0 0":"M"+t.data.join("L")+"Z"});var c=function(e,n){if(z)return 0;var i=t[e.series];if(void 0!==i){var r=i.values[e.point];n({point:r,series:i,pos:[h(p(r,e.point))+s.left,d(g(r,e.point))+s.top],seriesIndex:e.series,pointIndex:e.point})}};o.on("click",function(t){c(t,H.elementClick)}).on("mouseover",function(t){c(t,H.elementMouseover)}).on("mouseout",function(t,e){c(t,H.elementMouseout)})}else q.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(e,n){if(z||!t[e.series])return 0;var i=t[e.series],r=i.values[n];H.elementClick({point:r,series:i,pos:[h(p(r,n))+s.left,d(g(r,n))+s.top],seriesIndex:e.series,pointIndex:n})}).on("mouseover",function(e,n){if(z||!t[e.series])return 0;var i=t[e.series],r=i.values[n];H.elementMouseover({point:r,series:i,pos:[h(p(r,n))+s.left,d(g(r,n))+s.top],seriesIndex:e.series,pointIndex:n})}).on("mouseout",function(e,n){if(z||!t[e.series])return 0;var i=t[e.series],r=i.values[n];H.elementMouseout({point:r,series:i,seriesIndex:e.series,pointIndex:n})});z=!1},300),n=h.copy(),i=d.copy(),r=f.copy()}),t}var n,i,r,o,s={top:0,right:0,bottom:0,left:0},a=960,l=500,c=e.utils.defaultColor(),u=Math.floor(1e5*Math.random()),h=d3.scale.linear(),d=d3.scale.linear(),f=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},m=function(t){return t.size||1},v=function(t){return t.shape||"circle"},y=!0,b=[],w=[],x=[],_=!0,C=null,S=function(t){return!t.notActive},k=!1,E=.1,T=!1,A=!0,M=function(){return 25},N=null,D=null,I=null,L=null,P=null,O=null,R=!1,H=d3.dispatch("elementClick","elementMouseover","elementMouseout"),F=!0,z=!1;return t.clearHighlights=function(){d3.selectAll(".nv-chart-"+u+" .nv-point.hover").classed("hover",!1)},t.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+u+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)},H.on("elementMouseover.point",function(e){_&&t.highlightPoint(e.seriesIndex,e.pointIndex,!0)}),H.on("elementMouseout.point",function(e){_&&t.highlightPoint(e.seriesIndex,e.pointIndex,!1)}),t.dispatch=H,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(p=d3.functor(e),t):p},t.y=function(e){return arguments.length?(g=d3.functor(e),t):g},t.size=function(e){return arguments.length?(m=d3.functor(e),t):m},t.margin=function(e){return arguments.length?(s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(l=e,t):l},t.xScale=function(e){return arguments.length?(h=e,t):h},t.yScale=function(e){return arguments.length?(d=e,t):d},t.zScale=function(e){return arguments.length?(f=e,t):f},t.xDomain=function(e){return arguments.length?(N=e,t):N},t.yDomain=function(e){return arguments.length?(D=e,t):D},t.sizeDomain=function(e){return arguments.length?(P=e,t):P},t.xRange=function(e){return arguments.length?(I=e,t):I},t.yRange=function(e){return arguments.length?(L=e,t):L},t.sizeRange=function(e){return arguments.length?(O=e,t):O},t.forceX=function(e){return arguments.length?(b=e,t):b},t.forceY=function(e){return arguments.length?(w=e,t):w},t.forceSize=function(e){return arguments.length?(x=e,t):x},t.interactive=function(e){return arguments.length?(_=e,t):_},t.pointKey=function(e){return arguments.length?(C=e,t):C},t.pointActive=function(e){return arguments.length?(S=e,t):S},t.padData=function(e){return arguments.length?(k=e,t):k},t.padDataOuter=function(e){return arguments.length?(E=e,t):E},t.clipEdge=function(e){return arguments.length?(T=e,t):T},t.clipVoronoi=function(e){return arguments.length?(A=e,t):A},t.useVoronoi=function(e){return arguments.length?(!1===(F=e)&&(A=!1),t):F},t.clipRadius=function(e){return arguments.length?(M=e,t):M},t.color=function(n){return arguments.length?(c=e.utils.getColor(n),t):c},t.shape=function(e){return arguments.length?(v=e,t):v},t.onlyCircles=function(e){return arguments.length?(y=e,t):y},t.id=function(e){return arguments.length?(u=e,t):u},t.singlePoint=function(e){return arguments.length?(R=e,t):R},t},e.models.scatterChart=function(){"use strict";function t(e){return e.each(function(e){var T=d3.select(this),A=this,M=(u||parseInt(T.style("width"))||960)-c.left-c.right,z=(h||parseInt(T.style("height"))||400)-c.top-c.bottom;if(t.update=function(){T.transition().duration(P).call(t)},t.container=this,N.disabled=e.map(function(t){return!!t.disabled}),!D){var B;D={};for(B in N)N[B]instanceof Array?D[B]=N[B].slice(0):D[B]=N[B]}if(!e||!e.length||!e.filter(function(t){return t.values.length}).length){var W=T.selectAll(".nv-noData").data([L]);return W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),W.attr("x",c.left+M/2).attr("y",c.top+z/2).text(function(t){return t}),t}T.selectAll(".nv-noData").remove(),O=O||f,R=R||p;var j=T.selectAll("g.nv-wrap.nv-scatterChart").data([e]),$=j.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()).append("g"),q=j.select("g");if($.append("rect").attr("class","nvd3 nv-background"),$.append("g").attr("class","nv-x nv-axis"),$.append("g").attr("class","nv-y nv-axis"),$.append("g").attr("class","nv-scatterWrap"),$.append("g").attr("class","nv-distWrap"),$.append("g").attr("class","nv-legendWrap"),$.append("g").attr("class","nv-controlsWrap"),b){var U=C?M/2:M;o.width(U),j.select(".nv-legendWrap").datum(e).call(o),c.top!=o.height()&&(c.top=o.height(),z=(h||parseInt(T.style("height"))||400)-c.top-c.bottom),j.select(".nv-legendWrap").attr("transform","translate("+(M-U)+","+-c.top+")")}if(C&&(s.width(180).color(["#444"]),q.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+-c.top+")").call(s)),j.attr("transform","translate("+c.left+","+c.top+")"),_&&q.select(".nv-y.nv-axis").attr("transform","translate("+M+",0)"),n.width(M).height(z).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),0!==g&&n.xDomain(null),0!==m&&n.yDomain(null),j.select(".nv-scatterWrap").datum(e.filter(function(t){return!t.disabled})).call(n),0!==g){var V=f.domain()[1]-f.domain()[0];n.xDomain([f.domain()[0]-g*V,f.domain()[1]+g*V])}if(0!==m){var Y=p.domain()[1]-p.domain()[0];n.yDomain([p.domain()[0]-m*Y,p.domain()[1]+m*Y])}(0!==m||0!==g)&&j.select(".nv-scatterWrap").datum(e.filter(function(t){return!t.disabled})).call(n),w&&(i.scale(f).ticks(i.ticks()&&i.ticks().length?i.ticks():M/100).tickSize(-z,0),q.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")").call(i)),x&&(r.scale(p).ticks(r.ticks()&&r.ticks().length?r.ticks():z/36).tickSize(-M,0),q.select(".nv-y.nv-axis").call(r)),v&&(a.getData(n.x()).scale(f).width(M).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),$.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),q.select(".nv-distributionX").attr("transform","translate(0,"+p.range()[0]+")").datum(e.filter(function(t){return!t.disabled})).call(a)),y&&(l.getData(n.y()).scale(p).width(z).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),$.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),q.select(".nv-distributionY").attr("transform","translate("+(_?M:-l.size())+",0)").datum(e.filter(function(t){return!t.disabled})).call(l)),d3.fisheye&&(q.select(".nv-background").attr("width",M).attr("height",z),q.select(".nv-background").on("mousemove",function(){if(k)return q.select(".nv-point-paths").style("pointer-events","all"),!1;q.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);f.distortion(S).focus(t[0]),p.distortion(S).focus(t[1]),q.select(".nv-scatterWrap").call(n),w&&q.select(".nv-x.nv-axis").call(i),x&&q.select(".nv-y.nv-axis").call(r),q.select(".nv-distributionX").datum(e.filter(function(t){return!t.disabled})).call(a),q.select(".nv-distributionY").datum(e.filter(function(t){return!t.disabled})).call(l)}),q.select(".nv-background").on("click",function(){k=!k}),n.dispatch.on("elementClick.freezeFisheye",function(){k=!k})),s.dispatch.on("legendClick",function(e,o){e.disabled=!e.disabled,S=e.disabled?0:2.5,q.select(".nv-background").style("pointer-events",e.disabled?"none":"all"),q.select(".nv-point-paths").style("pointer-events",e.disabled?"all":"none"),e.disabled?(f.distortion(S).focus(0),p.distortion(S).focus(0),q.select(".nv-scatterWrap").call(n),q.select(".nv-x.nv-axis").call(i),q.select(".nv-y.nv-axis").call(r)):k=!1,t.update()}),o.dispatch.on("stateChange",function(e){N.disabled=e.disabled,I.stateChange(N),t.update()}),n.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",function(e,n){return t.pos[1]-z}),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+a.size()),t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],I.tooltipShow(t)}),I.on("tooltipShow",function(t){E&&H(t,A.parentNode)}),I.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),N.disabled=n.disabled),t.update()}),O=f.copy(),R=p.copy()}),t}var n=e.models.scatter(),i=e.models.axis(),r=e.models.axis(),o=e.models.legend(),s=e.models.legend(),a=e.models.distribution(),l=e.models.distribution(),c={top:30,right:20,bottom:50,left:75},u=null,h=null,d=e.utils.defaultColor(),f=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.xScale(),p=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.yScale(),g=0,m=0,v=!1,y=!1,b=!0,w=!0,x=!0,_=!1,C=!!d3.fisheye,S=0,k=!1,E=!0,T=function(t,e,n){return"<strong>"+e+"</strong>"},A=function(t,e,n){return"<strong>"+n+"</strong>"},M=null,N={},D=null,I=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),L="No Data Available.",P=250;n.xScale(f).yScale(p),i.orient("bottom").tickPadding(10),r.orient(_?"right":"left").tickPadding(10),a.axis("x"),l.axis("y"),s.updateState(!1);var O,R,H=function(o,s){var a=o.pos[0]+(s.offsetLeft||0),l=o.pos[1]+(s.offsetTop||0),u=o.pos[0]+(s.offsetLeft||0),h=p.range()[0]+c.top+(s.offsetTop||0),d=f.range()[0]+c.left+(s.offsetLeft||0),g=o.pos[1]+(s.offsetTop||0),m=i.tickFormat()(n.x()(o.point,o.pointIndex)),v=r.tickFormat()(n.y()(o.point,o.pointIndex));null!=T&&e.tooltip.show([u,h],T(o.series.key,m,v,o,t),"n",1,s,"x-nvtooltip"),null!=A&&e.tooltip.show([d,g],A(o.series.key,m,v,o,t),"e",1,s,"y-nvtooltip"),null!=M&&e.tooltip.show([a,l],M(o.series.key,m,v,o,t),o.value<0?"n":"s",null,s)},F=[{key:"Magnify",disabled:!0}];return n.dispatch.on("elementMouseout.tooltip",function(t){I.tooltipHide(t),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",l.size())}),I.on("tooltipHide",function(){E&&e.tooltip.cleanup()}),t.dispatch=I,t.scatter=n,t.legend=o,t.controls=s,t.xAxis=i,t.yAxis=r,t.distX=a,t.distY=l,d3.rebind(t,n,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(n){return arguments.length?(d=e.utils.getColor(n),o.color(d),a.color(d),l.color(d),t):d},t.showDistX=function(e){return arguments.length?(v=e,t):v},t.showDistY=function(e){return arguments.length?(y=e,t):y},t.showControls=function(e){return arguments.length?(C=e,t):C},t.showLegend=function(e){return arguments.length?(b=e,t):b},t.showXAxis=function(e){return arguments.length?(w=e,t):w},t.showYAxis=function(e){return arguments.length?(x=e,t):x},t.rightAlignYAxis=function(e){return arguments.length?(_=e,r.orient(e?"right":"left"),t):_},t.fisheye=function(e){return arguments.length?(S=e,t):S},t.xPadding=function(e){return arguments.length?(g=e,t):g},t.yPadding=function(e){return arguments.length?(m=e,t):m},t.tooltips=function(e){return arguments.length?(E=e,t):E},t.tooltipContent=function(e){return arguments.length?(M=e,t):M},t.tooltipXContent=function(e){return arguments.length?(T=e,t):T},t.tooltipYContent=function(e){return arguments.length?(A=e,t):A},t.state=function(e){return arguments.length?(N=e,t):N},t.defaultState=function(e){return arguments.length?(D=e,t):D},t.noData=function(e){return arguments.length?(L=e,t):L},t.transitionDuration=function(e){return arguments.length?(P=e,t):P},t},e.models.scatterPlusLineChart=function(){"use strict";function t(e){return e.each(function(e){var k=d3.select(this),E=this,T=(u||parseInt(k.style("width"))||960)-c.left-c.right,H=(h||parseInt(k.style("height"))||400)-c.top-c.bottom;if(t.update=function(){k.transition().duration(I).call(t)},t.container=this,A.disabled=e.map(function(t){return!!t.disabled}),!M){var F;M={};for(F in A)A[F]instanceof Array?M[F]=A[F].slice(0):M[F]=A[F]}if(!e||!e.length||!e.filter(function(t){return t.values.length}).length){var z=k.selectAll(".nv-noData").data([D]);return z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",c.left+T/2).attr("y",c.top+H/2).text(function(t){return t}),t}k.selectAll(".nv-noData").remove(),f=n.xScale(),p=n.yScale(),L=L||f,P=P||p;var B=k.selectAll("g.nv-wrap.nv-scatterChart").data([e]),W=B.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()).append("g"),j=B.select("g");W.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),W.append("g").attr("class","nv-x nv-axis"),W.append("g").attr("class","nv-y nv-axis"),W.append("g").attr("class","nv-scatterWrap"),W.append("g").attr("class","nv-regressionLinesWrap"),W.append("g").attr("class","nv-distWrap"),W.append("g").attr("class","nv-legendWrap"),W.append("g").attr("class","nv-controlsWrap"),B.attr("transform","translate("+c.left+","+c.top+")"),w&&j.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)"),v&&(o.width(T/2),B.select(".nv-legendWrap").datum(e).call(o),c.top!=o.height()&&(c.top=o.height(),H=(h||parseInt(k.style("height"))||400)-c.top-c.bottom),B.select(".nv-legendWrap").attr("transform","translate("+T/2+","+-c.top+")")),x&&(s.width(180).color(["#444"]),j.select(".nv-controlsWrap").datum(R).attr("transform","translate(0,"+-c.top+")").call(s)),n.width(T).height(H).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),B.select(".nv-scatterWrap").datum(e.filter(function(t){return!t.disabled})).call(n),B.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var $=B.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});$.enter().append("g").attr("class","nv-regLines");var q=$.selectAll(".nv-regLine").data(function(t){return[t]});q.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);q.transition().attr("x1",f.range()[0]).attr("x2",f.range()[1]).attr("y1",function(t,e){return p(f.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return p(f.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return d(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),y&&(i.scale(f).ticks(i.ticks()?i.ticks():T/100).tickSize(-H,0),j.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")").call(i)),b&&(r.scale(p).ticks(r.ticks()?r.ticks():H/36).tickSize(-T,0),j.select(".nv-y.nv-axis").call(r)),g&&(a.getData(n.x()).scale(f).width(T).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),W.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),j.select(".nv-distributionX").attr("transform","translate(0,"+p.range()[0]+")").datum(e.filter(function(t){return!t.disabled})).call(a)),m&&(l.getData(n.y()).scale(p).width(H).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),W.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),j.select(".nv-distributionY").attr("transform","translate("+(w?T:-l.size())+",0)").datum(e.filter(function(t){return!t.disabled})).call(l)),d3.fisheye&&(j.select(".nv-background").attr("width",T).attr("height",H),j.select(".nv-background").on("mousemove",function(){if(C)return j.select(".nv-point-paths").style("pointer-events","all"),!1;j.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);f.distortion(_).focus(t[0]),p.distortion(_).focus(t[1]),j.select(".nv-scatterWrap").datum(e.filter(function(t){return!t.disabled})).call(n),y&&j.select(".nv-x.nv-axis").call(i),b&&j.select(".nv-y.nv-axis").call(r),j.select(".nv-distributionX").datum(e.filter(function(t){return!t.disabled})).call(a),j.select(".nv-distributionY").datum(e.filter(function(t){return!t.disabled})).call(l)}),j.select(".nv-background").on("click",function(){C=!C}),n.dispatch.on("elementClick.freezeFisheye",function(){C=!C})),s.dispatch.on("legendClick",function(e,o){e.disabled=!e.disabled,_=e.disabled?0:2.5,j.select(".nv-background").style("pointer-events",e.disabled?"none":"all"),j.select(".nv-point-paths").style("pointer-events",e.disabled?"all":"none"),e.disabled?(f.distortion(_).focus(0),p.distortion(_).focus(0),j.select(".nv-scatterWrap").call(n),j.select(".nv-x.nv-axis").call(i),j.select(".nv-y.nv-axis").call(r)):C=!1,t.update()}),o.dispatch.on("stateChange",function(e){A=e,N.stateChange(A),t.update()}),n.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-H),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+a.size()),t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],N.tooltipShow(t)}),N.on("tooltipShow",function(t){S&&O(t,E.parentNode)}),N.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),A.disabled=n.disabled),t.update()}),L=f.copy(),P=p.copy()}),t}var n=e.models.scatter(),i=e.models.axis(),r=e.models.axis(),o=e.models.legend(),s=e.models.legend(),a=e.models.distribution(),l=e.models.distribution(),c={top:30,right:20,bottom:50,left:75},u=null,h=null,d=e.utils.defaultColor(),f=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.xScale(),p=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.yScale(),g=!1,m=!1,v=!0,y=!0,b=!0,w=!1,x=!!d3.fisheye,_=0,C=!1,S=!0,k=function(t,e,n){return"<strong>"+e+"</strong>"},E=function(t,e,n){return"<strong>"+n+"</strong>"},T=function(t,e,n,i){return"<h3>"+t+"</h3><p>"+i+"</p>"},A={},M=null,N=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),D="No Data Available.",I=250;n.xScale(f).yScale(p),i.orient("bottom").tickPadding(10),r.orient(w?"right":"left").tickPadding(10),a.axis("x"),l.axis("y"),s.updateState(!1);var L,P,O=function(o,s){var a=o.pos[0]+(s.offsetLeft||0),l=o.pos[1]+(s.offsetTop||0),u=o.pos[0]+(s.offsetLeft||0),h=p.range()[0]+c.top+(s.offsetTop||0),d=f.range()[0]+c.left+(s.offsetLeft||0),g=o.pos[1]+(s.offsetTop||0),m=i.tickFormat()(n.x()(o.point,o.pointIndex)),v=r.tickFormat()(n.y()(o.point,o.pointIndex));null!=k&&e.tooltip.show([u,h],k(o.series.key,m,v,o,t),"n",1,s,"x-nvtooltip"),null!=E&&e.tooltip.show([d,g],E(o.series.key,m,v,o,t),"e",1,s,"y-nvtooltip"),null!=T&&e.tooltip.show([a,l],T(o.series.key,m,v,o.point.tooltip,o,t),o.value<0?"n":"s",null,s)},R=[{key:"Magnify",disabled:!0}];return n.dispatch.on("elementMouseout.tooltip",function(t){N.tooltipHide(t),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",l.size())}),N.on("tooltipHide",function(){S&&e.tooltip.cleanup()}),t.dispatch=N,t.scatter=n,t.legend=o,t.controls=s,t.xAxis=i,t.yAxis=r,t.distX=a,t.distY=l,d3.rebind(t,n,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(n){return arguments.length?(d=e.utils.getColor(n),o.color(d),a.color(d),l.color(d),t):d},t.showDistX=function(e){return arguments.length?(g=e,t):g},t.showDistY=function(e){return arguments.length?(m=e,t):m},t.showControls=function(e){return arguments.length?(x=e,t):x},t.showLegend=function(e){return arguments.length?(v=e,t):v},t.showXAxis=function(e){return arguments.length?(y=e,t):y},t.showYAxis=function(e){return arguments.length?(b=e,t):b},t.rightAlignYAxis=function(e){return arguments.length?(w=e,r.orient(e?"right":"left"),t):w},t.fisheye=function(e){return arguments.length?(_=e,t):_},t.tooltips=function(e){return arguments.length?(S=e,t):S},t.tooltipContent=function(e){return arguments.length?(T=e,t):T},t.tooltipXContent=function(e){return arguments.length?(k=e,t):k},t.tooltipYContent=function(e){return arguments.length?(E=e,t):E},t.state=function(e){return arguments.length?(A=e,t):A},t.defaultState=function(e){return arguments.length?(M=e,t):M},t.noData=function(e){return arguments.length?(D=e,t):D},t.transitionDuration=function(e){return arguments.length?(I=e,t):I},t},e.models.sparkline=function(){"use strict";function t(e){return e.each(function(t){var e=a-s.left-s.right,c=l-s.top-s.bottom,g=d3.select(this);u.domain(n||d3.extent(t,d)).range(r||[0,e]),h.domain(i||d3.extent(t,f)).range(o||[c,0]);var m=g.selectAll("g.nv-wrap.nv-sparkline").data([t]);m.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),m.select("g");m.attr("transform","translate("+s.left+","+s.top+")");var v=m.selectAll("path").data(function(t){return[t]});v.enter().append("path"),v.exit().remove(),v.style("stroke",function(t,e){return t.color||p(t,e)}).attr("d",d3.svg.line().x(function(t,e){return u(d(t,e))}).y(function(t,e){return h(f(t,e))}));var y=m.selectAll("circle.nv-point").data(function(t){function e(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return f(t,e)}),i=e(n.lastIndexOf(h.domain()[1]));return[e(n.indexOf(h.domain()[0])),i,e(n.length-1)].filter(function(t){return null!=t})});y.enter().append("circle"),y.exit().remove(),y.attr("cx",function(t,e){return u(d(t,t.pointIndex))}).attr("cy",function(t,e){return h(f(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return d(t,t.pointIndex)==u.domain()[1]?"nv-point nv-currentValue":f(t,t.pointIndex)==h.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),t}var n,i,r,o,s={top:2,right:0,bottom:2,left:0},a=400,l=32,c=!0,u=d3.scale.linear(),h=d3.scale.linear(),d=function(t){return t.x},f=function(t){return t.y},p=e.utils.getColor(["#000"]);return t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(l=e,t):l},t.x=function(e){return arguments.length?(d=d3.functor(e),t):d},t.y=function(e){return arguments.length?(f=d3.functor(e),t):f},t.xScale=function(e){return arguments.length?(u=e,t):u},t.yScale=function(e){return arguments.length?(h=e,t):h},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(i=e,t):i},t.xRange=function(e){return arguments.length?(r=e,t):r},t.yRange=function(e){return arguments.length?(o=e,t):o},t.animate=function(e){return arguments.length?(c=e,t):c},t.color=function(n){return arguments.length?(p=e.utils.getColor(n),t):p},t},e.models.sparklinePlus=function(){"use strict";function t(e){return e.each(function(d){function m(){if(!c){var t=S.selectAll(".nv-hoverValue").data(l),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+n(r.x()(d[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),l.length&&(e.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",b),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),S.select(".nv-hoverValue .nv-xValue").text(u(r.x()(d[l[0]],l[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),S.select(".nv-hoverValue .nv-yValue").text(h(r.y()(d[l[0]],l[0]))))}}var v=d3.select(this),y=(s||parseInt(v.style("width"))||960)-o.left-o.right,b=(a||parseInt(v.style("height"))||400)-o.top-o.bottom;if(t.update=function(){t(e)},t.container=this,!d||!d.length){var w=v.selectAll(".nv-noData").data([g]);return w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),w.attr("x",o.left+y/2).attr("y",o.top+b/2).text(function(t){return t}),t}v.selectAll(".nv-noData").remove();var x=r.y()(d[d.length-1],d.length-1);n=r.xScale(),i=r.yScale();var _=v.selectAll("g.nv-wrap.nv-sparklineplus").data([d]),C=_.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),S=_.select("g");C.append("g").attr("class","nv-sparklineWrap"),C.append("g").attr("class","nv-valueWrap"),C.append("g").attr("class","nv-hoverArea"),_.attr("transform","translate("+o.left+","+o.top+")");var k=S.select(".nv-sparklineWrap");r.width(y).height(b),k.call(r);var E=S.select(".nv-valueWrap").selectAll(".nv-currentValue").data([x]);E.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),E.attr("x",y+(p?o.right:0)).attr("y",f?function(t){return i(t)}:0).style("fill",r.color()(d[d.length-1],d.length-1)).text(h(x)),C.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!c){var t=d3.mouse(this)[0]-o.left;l=[function(t,e){for(var n=Math.abs(r.x()(t[0],0)-e),i=0,o=0;o<t.length;o++)Math.abs(r.x()(t[o],o)-e)<n&&(n=Math.abs(r.x()(t[o],o)-e),i=o);return i}(d,Math.round(n.invert(t)))],m()}}).on("click",function(){c=!c}).on("mouseout",function(){l=[],m()}),S.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-o.left+","+-o.top+")"}).attr("width",y+o.left+o.right).attr("height",b+o.top)}),t}var n,i,r=e.models.sparkline(),o={top:15,right:100,bottom:10,left:50},s=null,a=null,l=[],c=!1,u=d3.format(",r"),h=d3.format(",.2f"),d=!0,f=!0,p=!1,g="No Data Available.";return t.sparkline=r,d3.rebind(t,r,"x","y","xScale","yScale","color"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(a=e,t):a},t.xTickFormat=function(e){return arguments.length?(u=e,t):u},t.yTickFormat=function(e){return arguments.length?(h=e,t):h},t.showValue=function(e){return arguments.length?(d=e,t):d},t.alignValue=function(e){return arguments.length?(f=e,t):f},t.rightAlignValue=function(e){return arguments.length?(p=e,t):p},t.noData=function(e){return arguments.length?(g=e,t):g},t},e.models.stackedArea=function(){"use strict";function t(e){return e.each(function(e){var h=o-r.left-r.right,y=s-r.top-r.bottom,b=d3.select(this);n=m.xScale(),i=m.yScale();var w=e;e.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var x=e.filter(function(t){return!t.disabled});e=d3.layout.stack().order(f).offset(d).values(function(t){return t.values}).x(c).y(u).out(function(t,e,n){var i=0===u(t)?0:n;t.display={y:i,y0:e}})(x);var _=b.selectAll("g.nv-wrap.nv-stackedarea").data([e]),C=_.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),S=C.append("defs"),k=C.append("g"),E=_.select("g");k.append("g").attr("class","nv-areaWrap"),k.append("g").attr("class","nv-scatterWrap"),_.attr("transform","translate("+r.left+","+r.top+")"),m.width(h).height(y).x(c).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(e.map(function(t,e){return t.color||a(t,t.seriesIndex)})),E.select(".nv-scatterWrap").datum(e).call(m),S.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect"),_.select("#nv-edge-clip-"+l+" rect").attr("width",h).attr("height",y),E.attr("clip-path",g?"url(#nv-edge-clip-"+l+")":"");var T=d3.svg.area().x(function(t,e){return n(c(t,e))}).y0(function(t){return i(t.display.y0)}).y1(function(t){return i(t.display.y+t.display.y0)}).interpolate(p),A=d3.svg.area().x(function(t,e){return n(c(t,e))}).y0(function(t){return i(t.display.y0)}).y1(function(t){return i(t.display.y0)}),M=E.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});M.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return A(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),v.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),v.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),v.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),M.exit().remove(),M.style("fill",function(t,e){return t.color||a(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||a(t,t.seriesIndex)}),M.transition().attr("d",function(t,e){return T(t.values,e)}),m.dispatch.on("elementMouseover.area",function(t){E.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),m.dispatch.on("elementMouseout.area",function(t){E.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),t.d3_stackedOffset_stackPercent=function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;n<o;++n){for(e=0,i=0;e<w.length;e++)i+=u(w[e].values[n]);if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=s}for(n=0;n<o;++n)a[n]=0;return a}}),t}var n,i,r={top:0,right:0,bottom:0,left:0},o=960,s=500,a=e.utils.defaultColor(),l=Math.floor(1e5*Math.random()),c=function(t){return t.x},u=function(t){return t.y},h="stack",d="zero",f="default",p="linear",g=!1,m=e.models.scatter(),v=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");return m.size(2.2).sizeDomain([2.2,2.2]),m.dispatch.on("elementClick.area",function(t){v.areaClick(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],v.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){v.tooltipHide(t)}),t.dispatch=v,t.scatter=m,d3.rebind(t,m,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights"),t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(c=d3.functor(e),t):c},t.y=function(e){return arguments.length?(u=d3.functor(e),t):u},t.margin=function(e){return arguments.length?(r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(s=e,t):s},t.clipEdge=function(e){return arguments.length?(g=e,t):g},t.color=function(n){return arguments.length?(a=e.utils.getColor(n),t):a},t.offset=function(e){return arguments.length?(d=e,t):d},t.order=function(e){return arguments.length?(f=e,t):f},t.style=function(e){if(!arguments.length)return h;switch(h=e){case"stack":t.offset("zero"),t.order("default");break;case"stream":t.offset("wiggle"),t.order("inside-out");break;case"stream-center":t.offset("silhouette"),t.order("inside-out");break;case"expand":t.offset("expand"),t.order("default");break;case"stack_percent":t.offset(t.d3_stackedOffset_stackPercent),t.order("default")}return t},t.interpolate=function(e){return arguments.length?(p=e,t):p},t},e.models.stackedAreaChart=function(){"use strict";function t(x){return x.each(function(x){var I=d3.select(this),L=this,P=(h||parseInt(I.style("width"))||960)-u.left-u.right,O=(d||parseInt(I.style("height"))||400)-u.top-u.bottom;if(t.update=function(){I.transition().duration(N).call(t)},t.container=this,C.disabled=x.map(function(t){return!!t.disabled}),!S){var R;S={};for(R in C)C[R]instanceof Array?S[R]=C[R].slice(0):S[R]=C[R]}if(!x||!x.length||!x.filter(function(t){return t.values.length}).length){var H=I.selectAll(".nv-noData").data([k]);return H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),H.attr("x",u.left+P/2).attr("y",u.top+O/2).text(function(t){return t}),t}I.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var F=I.selectAll("g.nv-wrap.nv-stackedAreaChart").data([x]),z=F.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),B=F.select("g");if(z.append("rect").style("opacity",0),z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-stackedWrap"),z.append("g").attr("class","nv-legendWrap"),z.append("g").attr("class","nv-controlsWrap"),z.append("g").attr("class","nv-interactive"),B.select("rect").attr("width",P).attr("height",O),g){var W=p?P-T:P;a.width(W),B.select(".nv-legendWrap").datum(x).call(a),u.top!=a.height()&&(u.top=a.height(),O=(d||parseInt(I.style("height"))||400)-u.top-u.bottom),B.select(".nv-legendWrap").attr("transform","translate("+(P-W)+","+-u.top+")")}if(p){var j=[{key:M.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=r.style(),style:"stack"},{key:M.stream||"Stream",metaKey:"Stream",disabled:"stream"!=r.style(),style:"stream"},{key:M.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=r.style(),style:"expand"},{key:M.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=r.style(),style:"stack_percent"}];T=A.length/3*260,j=j.filter(function(t){return-1!==A.indexOf(t.metaKey)}),l.width(T).color(["#444","#444","#444"]),B.select(".nv-controlsWrap").datum(j).call(l),u.top!=Math.max(l.height(),a.height())&&(u.top=Math.max(l.height(),a.height()),O=(d||parseInt(I.style("height"))||400)-u.top-u.bottom),B.select(".nv-controlsWrap").attr("transform","translate(0,"+-u.top+")")}F.attr("transform","translate("+u.left+","+u.top+")"),y&&B.select(".nv-y.nv-axis").attr("transform","translate("+P+",0)"),b&&(c.width(P).height(O).margin({left:u.left,top:u.top}).svgContainer(I).xScale(n),F.select(".nv-interactive").call(c)),r.width(P).height(O),B.select(".nv-stackedWrap").datum(x).transition().call(r),m&&(o.scale(n).ticks(P/100).tickSize(-O,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+O+")"),B.select(".nv-x.nv-axis").transition().duration(0).call(o)),v&&(s.scale(i).ticks("wiggle"==r.offset()?0:O/36).tickSize(-P,0).setTickFormat("expand"==r.style()||"stack_percent"==r.style()?d3.format("%"):_),B.select(".nv-y.nv-axis").transition().duration(0).call(s)),r.dispatch.on("areaClick.toggle",function(e){1===x.filter(function(t){return!t.disabled}).length?x.forEach(function(t){t.disabled=!1}):x.forEach(function(t,n){t.disabled=n!=e.seriesIndex}),C.disabled=x.map(function(t){return!!t.disabled}),E.stateChange(C),t.update()}),a.dispatch.on("stateChange",function(e){C.disabled=e.disabled,E.stateChange(C),t.update()}),l.dispatch.on("legendClick",function(e,n){e.disabled&&(j=j.map(function(t){return t.disabled=!0,t}),e.disabled=!1,r.style(e.style),C.style=r.style(),E.stateChange(C),t.update())}),c.dispatch.on("elementMousemove",function(n){r.clearHighlights();var i,a,l,h=[];if(x.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,s){a=e.interactiveBisect(o.values,n.pointXValue,t.x()),r.highlightPoint(s,a,!0);var c=o.values[a];if(void 0!==c){void 0===i&&(i=c),void 0===l&&(l=t.xScale()(t.x()(c,a)));var u="expand"==r.style()?c.display.y:t.y()(c,a);h.push({key:o.key,value:u,color:f(o,o.seriesIndex),stackedValue:c.display})}}),h.reverse(),h.length>2){var d=t.yScale().invert(n.mouseY),p=null;h.forEach(function(t,e){d=Math.abs(d);var n=Math.abs(t.stackedValue.y0),i=Math.abs(t.stackedValue.y);d>=n&&d<=i+n&&(p=e)}),null!=p&&(h[p].highlight=!0)}var g=o.tickFormat()(t.x()(i,a)),m="expand"==r.style()?function(t,e){return d3.format(".1%")(t)}:function(t,e){return s.tickFormat()(t)};c.tooltip.position({left:l+u.left,top:n.mouseY+u.top}).chartContainer(L.parentNode).enabled(w).valueFormatter(m).data({value:g,series:h})(),c.renderGuideLine(l)}),c.dispatch.on("elementMouseout",function(t){E.tooltipHide(),r.clearHighlights()}),E.on("tooltipShow",function(t){w&&D(t,L.parentNode)}),E.on("changeState",function(e){void 0!==e.disabled&&x.length===e.disabled.length&&(x.forEach(function(t,n){t.disabled=e.disabled[n]}),C.disabled=e.disabled),void 0!==e.style&&r.style(e.style),t.update()})}),t}var n,i,r=e.models.stackedArea(),o=e.models.axis(),s=e.models.axis(),a=e.models.legend(),l=e.models.legend(),c=e.interactiveGuideline(),u={top:30,right:25,bottom:50,left:60},h=null,d=null,f=e.utils.defaultColor(),p=!0,g=!0,m=!0,v=!0,y=!1,b=!1,w=!0,x=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},_=d3.format(",.2f"),C={style:r.style()},S=null,k="No Data Available.",E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),T=250,A=["Stacked","Stream","Expanded"],M={},N=250;o.orient("bottom").tickPadding(7),s.orient(y?"right":"left"),l.updateState(!1);var D=function(n,i){var a=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=o.tickFormat()(r.x()(n.point,n.pointIndex)),u=s.tickFormat()(r.y()(n.point,n.pointIndex)),h=x(n.series.key,c,u,n,t);e.tooltip.show([a,l],h,n.value<0?"n":"s",null,i)};return r.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],E.tooltipShow(t)}),r.dispatch.on("tooltipHide",function(t){E.tooltipHide(t)}),E.on("tooltipHide",function(){w&&e.tooltip.cleanup()}),t.dispatch=E,t.stacked=r,t.legend=a,t.controls=l,t.xAxis=o,t.yAxis=s,t.interactiveLayer=c,d3.rebind(t,r,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left,t):u},t.width=function(e){return arguments.length?(h=e,t):h},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(n){return arguments.length?(f=e.utils.getColor(n),a.color(f),r.color(f),t):f},t.showControls=function(e){return arguments.length?(p=e,t):p},t.showLegend=function(e){return arguments.length?(g=e,t):g},t.showXAxis=function(e){return arguments.length?(m=e,t):m},t.showYAxis=function(e){return arguments.length?(v=e,t):v},t.rightAlignYAxis=function(e){return arguments.length?(y=e,s.orient(e?"right":"left"),t):y},t.useInteractiveGuideline=function(e){return arguments.length?(b=e,!0===e&&(t.interactive(!1),t.useVoronoi(!1)),t):b},t.tooltip=function(e){return arguments.length?(x=e,t):x},t.tooltips=function(e){return arguments.length?(w=e,t):w},t.tooltipContent=function(e){return arguments.length?(x=e,t):x},t.state=function(e){return arguments.length?(C=e,t):C},t.defaultState=function(e){return arguments.length?(S=e,t):S},t.noData=function(e){return arguments.length?(k=e,t):k},t.transitionDuration=function(e){return arguments.length?(N=e,t):N},t.controlsData=function(e){return arguments.length?(A=e,t):A},t.controlLabels=function(e){return arguments.length?"object"!=typeof e?M:(M=e,t):M},s.setTickFormat=s.tickFormat,s.tickFormat=function(t){return arguments.length?(_=t,s):_},t}}(),nv.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},nv.utils.windowResize=function(t){if(void 0!==t){var e=window.onresize;window.onresize=function(n){"function"==typeof e&&e(n),t(n)}}},nv.utils.getColor=function(t){return arguments.length?"[object Array]"===Object.prototype.toString.call(t)?function(e,n){return e.color||t[n%t.length]}:t:nv.utils.defaultColor()},nv.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},nv.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var i=(n=n||d3.scale.category20().range()).length;return function(r,o){var s=e(r);return i||(i=n.length),void 0!==t[s]?"function"==typeof t[s]?t[s]():t[s]:n[--i]}},nv.utils.pjax=function(t,e){function n(n){d3.html(n,function(n){var i=d3.select(e).node();i.parentNode.replaceChild(d3.select(n).select(e).node(),i),nv.utils.pjax(t,e)})}d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),n(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&n(d3.event.state)})},nv.utils.calcApproxTextWidth=function(t){if("function"==typeof t.style&&"function"==typeof t.text){var e=parseInt(t.style("font-size").replace("px",""));return t.text().length*e*.5}return 0},nv.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===1/0?0:t},nv.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function t(){if(u){var t=d3.select(u);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];d.left=d.left*n,d.top=d.top*n}}}function e(t){var e,n=(e=u?d3.select(u):d3.select("body")).select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(c||"xy-tooltip")).attr("id",p)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(g,!0),n.classed(g,!0),n.node()}function n(){if(f&&b(r)){t();var i=d.left,c=null!=l?l:d.top,p=e(y(r));if(h=p,u){var g=u.getElementsByTagName("svg")[0],m=(g?g.getBoundingClientRect():u.getBoundingClientRect(),{left:0,top:0});if(g){var v=g.getBoundingClientRect(),w=u.getBoundingClientRect(),x=v.top;if(x<0){var _=u.getBoundingClientRect();x=Math.abs(x)>_.height?0:x}m.top=Math.abs(x-w.top),m.left=Math.abs(v.left-w.left)}i+=u.offsetLeft+m.left-2*u.scrollLeft,c+=u.offsetTop+m.top-2*u.scrollTop}return a&&a>0&&(c=Math.floor(c/a)*a),nv.tooltip.calcTooltipPosition([i,c],o,s,p),n}}var i=null,r=null,o="w",s=50,a=25,l=null,c=null,u=null,h=null,d={left:null,top:null},f=!0,p="nvtooltip-"+Math.floor(1e5*Math.random()),g="nv-pointer-events-none",m=function(t,e){return t},v=function(t){return t},y=function(t){if(null!=i)return i;if(null==t)return"";var e=d3.select(document.createElement("table"));e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).html(function(t){return t.key}),n.append("td").classed("value",!0).html(function(t,e){return m(t.value,e)}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var r=e.node().outerHTML;return void 0!==t.footer&&(r+="<div class='footer'>"+t.footer+"</div>"),r},b=function(t){return!!(t&&t.series&&t.series.length>0)};return n.nvPointerEventsClass=g,n.content=function(t){return arguments.length?(i=t,n):i},n.tooltipElem=function(){return h},n.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(y=t),n):y},n.data=function(t){return arguments.length?(r=t,n):r},n.gravity=function(t){return arguments.length?(o=t,n):o},n.distance=function(t){return arguments.length?(s=t,n):s},n.snapDistance=function(t){return arguments.length?(a=t,n):a},n.classes=function(t){return arguments.length?(c=t,n):c},n.chartContainer=function(t){return arguments.length?(u=t,n):u},n.position=function(t){return arguments.length?(d.left=void 0!==t.left?t.left:d.left,d.top=void 0!==t.top?t.top:d.top,n):d},n.fixedTop=function(t){return arguments.length?(l=t,n):l},n.enabled=function(t){return arguments.length?(f=t,n):f},n.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(m=t),n):m},n.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(v=t),n):v},n.id=function(){return p},n},nv.tooltip.show=function(t,e,n,i,r,o){var s=document.createElement("div");s.className="nvtooltip "+(o||"xy-tooltip");var a=r;r&&!r.tagName.match(/g|svg/i)||(a=document.getElementsByTagName("body")[0]),s.style.left=0,s.style.top=0,s.style.opacity=0,s.innerHTML=e,a.appendChild(s),r&&(t[0]=t[0]-r.scrollLeft,t[1]=t[1]-r.scrollTop),nv.tooltip.calcTooltipPosition(t,n,i,s)},nv.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},nv.tooltip.findTotalOffsetTop=function(t,e){var n=e;do{isNaN(t.offsetTop)||(n+=t.offsetTop)}while(t=t.offsetParent);return n},nv.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do{isNaN(t.offsetLeft)||(n+=t.offsetLeft)}while(t=t.offsetParent);return n},nv.tooltip.calcTooltipPosition=function(t,e,n,i){var r,o,s=parseInt(i.offsetHeight),a=parseInt(i.offsetWidth),l=nv.utils.windowSize().width,c=nv.utils.windowSize().height,u=window.pageYOffset,h=window.pageXOffset;c=window.innerWidth>=document.body.scrollWidth?c:c-16,l=window.innerHeight>=document.body.scrollHeight?l:l-16,e=e||"s",n=n||20;var d=function(t){return nv.tooltip.findTotalOffsetTop(t,o)},f=function(t){return nv.tooltip.findTotalOffsetLeft(t,r)};switch(e){case"e":r=t[0]-a-n,o=t[1]-s/2;var p=f(i),g=d(i);p<h&&(r=t[0]+n>h?t[0]+n:h-p+r),g<u&&(o=u-g+o),g+s>u+c&&(o=u+c-g+o-s);break;case"w":r=t[0]+n,o=t[1]-s/2;var p=f(i),g=d(i);p+a>l&&(r=t[0]-a-n),g<u&&(o=u+5),g+s>u+c&&(o=u+c-g+o-s);break;case"n":r=t[0]-a/2-5,o=t[1]+n;var p=f(i),g=d(i);p<h&&(r=h+5),p+a>l&&(r=r-a/2+5),g+s>u+c&&(o=u+c-g+o-s);break;case"s":r=t[0]-a/2,o=t[1]-s-n;var p=f(i),g=d(i);p<h&&(r=h+5),p+a>l&&(r=r-a/2+5),u>g&&(o=u);break;case"none":r=t[0],o=t[1]-n;var p=f(i),g=d(i)}return i.style.left=r+"px",i.style.top=o+"px",i.style.opacity=1,i.style.position="absolute",i},nv.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),nv.interactiveGuideline=function(){"use strict";function t(u){u.each(function(u){function h(){var n=d3.mouse(this),i=n[0],a=n[1],l=!0,u=!1;if(c&&(i=d3.event.offsetX,a=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(l=!1),d3.event.target.className.baseVal.match("nv-legend")&&(u=!0)),l&&(i-=r.left,a-=r.top),i<0||a<0||i>f||a>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||u){if(c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(e.nvPointerEventsClass))return;return s.elementMouseout({mouseX:i,mouseY:a}),void t.renderGuideLine(null)}var h=o.invert(i);s.elementMousemove({mouseX:i,mouseY:a,pointXValue:h}),"dblclick"===d3.event.type&&s.elementDblclick({mouseX:i,mouseY:a,pointXValue:h})}var d=d3.select(this),f=n||960,p=i||400,g=d.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([u]);g.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),l&&(l.on("mousemove",h,!0).on("mouseout",h,!0).on("dblclick",h),t.renderGuideLine=function(t){if(a){var e=g.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[nv.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",p).attr("y2",0),e.exit().remove()}})})}var e=nv.models.tooltip(),n=null,i=null,r={left:0,top:0},o=d3.scale.linear(),s=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementDblclick")),a=!0,l=null,c=-1!==navigator.userAgent.indexOf("MSIE");return t.dispatch=s,t.tooltip=e,t.margin=function(e){return arguments.length?(r.top=void 0!==e.top?e.top:r.top,r.left=void 0!==e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(i=e,t):i},t.xScale=function(e){return arguments.length?(o=e,t):o},t.showGuideLine=function(e){return arguments.length?(a=e,t):a},t.svgContainer=function(e){return arguments.length?(l=e,t):l},t},nv.interactiveBisect=function(t,e,n){"use strict";if(!t instanceof Array)return null;"function"!=typeof n&&(n=function(t,e){return t.x});var i=d3.bisector(n).left,r=d3.max([0,i(t,e)-1]),o=n(t[r],r);if(void 0===o&&(o=r),o===e)return r;var s=d3.min([r+1,t.length-1]),a=n(t[s],s);return void 0===a&&(a=s),Math.abs(a-e)>=Math.abs(o-e)?r:s},nv.nearestValueIndex=function(t,e,n){"use strict";var i=1/0,r=null;return t.forEach(function(t,o){var s=Math.abs(e-t);s<=i&&s<n&&(i=s,r=o)}),r},nv.models.axis=function(){"use strict";function t(r){return r.each(function(t){var r=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([t]),m=(r.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),r.select("g"));null!==f?e.ticks(f):"top"!=e.orient()&&"bottom"!=e.orient()||e.ticks(Math.abs(o.range()[1]-o.range()[0])/100),m.transition().call(e),g=g||e.scale();var v=e.tickFormat();null==v&&(v=g.tickFormat());var y=m.selectAll("text.nv-axislabel").data([s||null]);switch(y.exit().remove(),e.orient()){case"top":y.enter().append("text").attr("class","nv-axislabel");C=2==o.range().length?o.range()[1]:o.range()[o.range().length-1]+(o.range()[1]-o.range()[0]);y.attr("text-anchor","middle").attr("y",0).attr("x",C/2),a&&((S=r.selectAll("g.nv-axisMaxMin").data(o.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text"),S.exit().remove(),S.attr("transform",function(t,e){return"translate("+o(t)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate("+o.range()[e]+",0)"}));break;case"bottom":var b=36,w=30,x=m.selectAll("g").select("text");if(c%360){x.each(function(t,e){var n=this.getBBox().width;n>w&&(w=n)});var _=Math.abs(Math.sin(c*Math.PI/180)),b=(_?_*w:w)+30;x.attr("transform",function(t,e,n){return"rotate("+c+" 0,0)"}).style("text-anchor",c%360>0?"start":"end")}y.enter().append("text").attr("class","nv-axislabel");var C=2==o.range().length?o.range()[1]:o.range()[o.range().length-1]+(o.range()[1]-o.range()[0]);y.attr("text-anchor","middle").attr("y",b).attr("x",C/2),a&&((S=r.selectAll("g.nv-axisMaxMin").data([o.domain()[0],o.domain()[o.domain().length-1]])).enter().append("g").attr("class","nv-axisMaxMin").append("text"),S.exit().remove(),S.attr("transform",function(t,e){return"translate("+(o(t)+(d?o.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",function(t,e,n){return"rotate("+c+" 0,0)"}).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate("+(o(t)+(d?o.rangeBand()/2:0))+",0)"})),h&&x.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",u?"middle":"begin").attr("transform",u?"rotate(90)":"").attr("y",u?12-Math.max(n.right,i):-10).attr("x",u?o.range()[0]/2:e.tickPadding()),a&&((S=r.selectAll("g.nv-axisMaxMin").data(o.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),S.exit().remove(),S.attr("transform",function(t,e){return"translate(0,"+o(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate(0,"+o.range()[e]+")"}).select("text").style("opacity",1));break;case"left":if(y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",u?"middle":"end").attr("transform",u?"rotate(-90)":"").attr("y",u?-Math.max(n.left,i)+p:-10).attr("x",u?-o.range()[0]/2:-e.tickPadding()),a){var S=r.selectAll("g.nv-axisMaxMin").data(o.domain());S.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),S.exit().remove(),S.attr("transform",function(t,e){return"translate(0,"+g(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate(0,"+o.range()[e]+")"}).select("text").style("opacity",1)}}if(y.text(function(t){return t}),!a||"left"!==e.orient()&&"right"!==e.orient()||(m.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(o(t)<o.range()[1]+10||o(t)>o.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),o.domain()[0]==o.domain()[1]&&0==o.domain()[0]&&r.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),a&&("top"===e.orient()||"bottom"===e.orient())){var k=[];r.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?k.push(o(t)-this.getBBox().width-4):k.push(o(t)+this.getBBox().width+4)}catch(n){e?k.push(o(t)-4):k.push(o(t)+4)}}),m.selectAll("g").each(function(t,e){(o(t)<k[0]||o(t)>k[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}l&&m.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__}).classed("zero",!0),g=o.copy()}),t}var e=d3.svg.axis(),n={top:0,right:0,bottom:0,left:0},i=75,r=60,o=d3.scale.linear(),s=null,a=!0,l=!0,c=0,u=!0,h=!1,d=!1,f=null,p=12;e.scale(o).orient("bottom").tickFormat(function(t){return t});var g;return t.axis=e,d3.rebind(t,e,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(t,o,"domain","range","rangeBand","rangeBands"),t.options=nv.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.width=function(e){return arguments.length?(i=e,t):i},t.ticks=function(e){return arguments.length?(f=e,t):f},t.height=function(e){return arguments.length?(r=e,t):r},t.axisLabel=function(e){return arguments.length?(s=e,t):s},t.showMaxMin=function(e){return arguments.length?(a=e,t):a},t.highlightZero=function(e){return arguments.length?(l=e,t):l},t.scale=function(n){return arguments.length?(o=n,e.scale(o),d="function"==typeof o.rangeBands,d3.rebind(t,o,"domain","range","rangeBand","rangeBands"),t):o},t.rotateYLabel=function(e){return arguments.length?(u=e,t):u},t.rotateLabels=function(e){return arguments.length?(c=e,t):c},t.staggerLabels=function(e){return arguments.length?(h=e,t):h},t.axisLabelDistance=function(e){return arguments.length?(p=e,t):p},t},nv.models.line=function(){"use strict";function t(m){return m.each(function(t){var m=o-r.left-r.right,v=s-r.top-r.bottom,y=d3.select(this);e=i.xScale(),n=i.yScale(),p=p||e,g=g||n;var b=y.selectAll("g.nv-wrap.nv-line").data([t]),w=b.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),x=w.append("defs"),_=w.append("g"),C=b.select("g");_.append("g").attr("class","nv-groups"),_.append("g").attr("class","nv-scatterWrap"),b.attr("transform","translate("+r.left+","+r.top+")"),i.width(m).height(v);var S=b.select(".nv-scatterWrap");S.transition().call(i),x.append("clipPath").attr("id","nv-edge-clip-"+i.id()).append("rect"),b.select("#nv-edge-clip-"+i.id()+" rect").attr("width",m).attr("height",v>0?v:0),C.attr("clip-path",d?"url(#nv-edge-clip-"+i.id()+")":""),S.attr("clip-path",d?"url(#nv-edge-clip-"+i.id()+")":"");var k=b.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});k.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),k.exit().remove(),k.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return a(t,e)}).style("stroke",function(t,e){return a(t,e)}),k.transition().style("stroke-opacity",1).style("fill-opacity",.5);var E=k.selectAll("path.nv-area").data(function(t){return h(t)?[t]:[]});E.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(f).defined(u).x(function(t,e){return nv.utils.NaNtoZero(p(l(t,e)))}).y0(function(t,e){return nv.utils.NaNtoZero(g(c(t,e)))}).y1(function(t,e){return g(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[t.values])}),k.exit().selectAll("path.nv-area").remove(),E.transition().attr("d",function(t){return d3.svg.area().interpolate(f).defined(u).x(function(t,n){return nv.utils.NaNtoZero(e(l(t,n)))}).y0(function(t,e){return nv.utils.NaNtoZero(n(c(t,e)))}).y1(function(t,e){return n(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[t.values])});var T=k.selectAll("path.nv-line").data(function(t){return[t.values]});T.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(f).defined(u).x(function(t,e){return nv.utils.NaNtoZero(p(l(t,e)))}).y(function(t,e){return nv.utils.NaNtoZero(g(c(t,e)))})),T.transition().attr("d",d3.svg.line().interpolate(f).defined(u).x(function(t,n){return nv.utils.NaNtoZero(e(l(t,n)))}).y(function(t,e){return nv.utils.NaNtoZero(n(c(t,e)))})),p=e.copy(),g=n.copy()}),t}var e,n,i=nv.models.scatter(),r={top:0,right:0,bottom:0,left:0},o=960,s=500,a=nv.utils.defaultColor(),l=function(t){return t.x},c=function(t){return t.y},u=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},h=function(t){return t.area},d=!1,f="linear";i.size(16).sizeDomain([16,256]);var p,g;return t.dispatch=i.dispatch,t.scatter=i,d3.rebind(t,i,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),t.options=nv.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(s=e,t):s},t.x=function(e){return arguments.length?(l=e,i.x(e),t):l},t.y=function(e){return arguments.length?(c=e,i.y(e),t):c},t.clipEdge=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(a=nv.utils.getColor(e),i.color(a),t):a},t.interpolate=function(e){return arguments.length?(f=e,t):f},t.defined=function(e){return arguments.length?(u=e,t):u},t.isArea=function(e){return arguments.length?(h=d3.functor(e),t):h},t},nv.models.lineWithFocusChart=function(){"use strict";function t(_){return _.each(function(_){function T(){d.empty()||d.extent(w),W.data([d.empty()?i.domain():w]).each(function(t,n){var r=i(t[0])-e.range()[0],o=e.range()[1]-i(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",o<0?0:o)})}function A(){w=d.empty()?null:d.extent();var t=d.empty()?i.domain():d.extent();Math.abs(t[0]-t[1])<=1||(S.brush({extent:t,brush:d}),T(),H.select(".nv-focus .nv-linesWrap").datum(_.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,values:e.values.filter(function(e,n){return o.x()(e,n)>=t[0]&&o.x()(e,n)<=t[1]})}})).transition().duration(k).call(o),H.select(".nv-focus .nv-x.nv-axis").transition().duration(k).call(a),H.select(".nv-focus .nv-y.nv-axis").transition().duration(k).call(l))}var M=d3.select(this),N=this,D=(m||parseInt(M.style("width"))||960)-f.left-f.right,I=(v||parseInt(M.style("height"))||400)-f.top-f.bottom-y,L=y-p.top-p.bottom;if(t.update=function(){M.transition().duration(k).call(t)},t.container=this,!(_&&_.length&&_.filter(function(t){return t.values.length}).length)){var P=M.selectAll(".nv-noData").data([C]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",f.left+D/2).attr("y",f.top+I/2).text(function(t){return t}),t}M.selectAll(".nv-noData").remove(),e=o.xScale(),n=o.yScale(),i=s.xScale(),r=s.yScale();var O=M.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([_]),R=O.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),H=O.select("g");R.append("g").attr("class","nv-legendWrap");var F=R.append("g").attr("class","nv-context");F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-linesWrap"),F.append("g").attr("class","nv-brushBackground"),F.append("g").attr("class","nv-x nv-brush");var z=R.append("g").attr("class","nv-focus");z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-linesWrap"),b&&(h.width(D),H.select(".nv-legendWrap").datum(_).call(h),f.top!=h.height()&&(f.top=h.height(),I=(v||parseInt(M.style("height"))||400)-f.top-f.bottom-y),H.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")),O.attr("transform","translate("+f.left+","+f.top+")"),o.width(D).height(I).color(_.map(function(t,e){return t.color||g(t,e)}).filter(function(t,e){return!_[e].disabled})),s.defined(o.defined()).width(D).height(L).color(_.map(function(t,e){return t.color||g(t,e)}).filter(function(t,e){return!_[e].disabled})),H.select(".nv-context").attr("transform","translate(0,"+(I+f.bottom+p.top)+")");var B=H.select(".nv-context .nv-linesWrap").datum(_.filter(function(t){return!t.disabled}));d3.transition(B).call(s),a.scale(e).ticks(D/100).tickSize(-I,0),l.scale(n).ticks(I/36).tickSize(-D,0),H.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+I+")"),d.x(i).on("brush",function(){var e=t.transitionDuration();t.transitionDuration(0),A(),t.transitionDuration(e)}),w&&d.extent(w);var W=H.select(".nv-brushBackground").selectAll("g").data([w||d.extent()]),j=W.enter().append("g");j.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",L),j.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",L);var $=H.select(".nv-x.nv-brush").call(d);$.selectAll("rect").attr("height",L),$.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=L/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),A(),c.scale(i).ticks(D/100).tickSize(-L,0),H.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(H.select(".nv-context .nv-x.nv-axis")).call(c),u.scale(r).ticks(L/36).tickSize(-D,0),d3.transition(H.select(".nv-context .nv-y.nv-axis")).call(u),H.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),h.dispatch.on("stateChange",function(e){t.update()}),S.on("tooltipShow",function(t){x&&E(t,N.parentNode)})}),t}var e,n,i,r,o=nv.models.line(),s=nv.models.line(),a=nv.models.axis(),l=nv.models.axis(),c=nv.models.axis(),u=nv.models.axis(),h=nv.models.legend(),d=d3.svg.brush(),f={top:30,right:30,bottom:30,left:60},p={top:0,right:30,bottom:20,left:60},g=nv.utils.defaultColor(),m=null,v=null,y=100,b=!0,w=null,x=!0,_=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},C="No Data Available.",S=d3.dispatch("tooltipShow","tooltipHide","brush"),k=250;o.clipEdge(!0),s.interactive(!1),a.orient("bottom").tickPadding(5),l.orient("left"),c.orient("bottom").tickPadding(5),u.orient("left");var E=function(e,n){var i=e.pos[0]+(n.offsetLeft||0),r=e.pos[1]+(n.offsetTop||0),s=a.tickFormat()(o.x()(e.point,e.pointIndex)),c=l.tickFormat()(o.y()(e.point,e.pointIndex)),u=_(e.series.key,s,c,e,t);nv.tooltip.show([i,r],u,null,null,n)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+f.left,t.pos[1]+f.top],S.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){x&&nv.tooltip.cleanup()}),t.dispatch=S,t.legend=h,t.lines=o,t.lines2=s,t.xAxis=a,t.yAxis=l,t.x2Axis=c,t.y2Axis=u,d3.rebind(t,o,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),t.options=nv.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(o.x(e),s.x(e),t):o.x},t.y=function(e){return arguments.length?(o.y(e),s.y(e),t):o.y},t.margin=function(e){return arguments.length?(f.top=void 0!==e.top?e.top:f.top,f.right=void 0!==e.right?e.right:f.right,f.bottom=void 0!==e.bottom?e.bottom:f.bottom,f.left=void 0!==e.left?e.left:f.left,t):f},t.margin2=function(e){return arguments.length?(p=e,t):p},t.width=function(e){return arguments.length?(m=e,t):m},t.height=function(e){return arguments.length?(v=e,t):v},t.height2=function(e){return arguments.length?(y=e,t):y},t.color=function(e){return arguments.length?(g=nv.utils.getColor(e),h.color(g),t):g},t.showLegend=function(e){return arguments.length?(b=e,t):b},t.tooltips=function(e){return arguments.length?(x=e,t):x},t.tooltipContent=function(e){return arguments.length?(_=e,t):_},t.interpolate=function(e){return arguments.length?(o.interpolate(e),s.interpolate(e),t):o.interpolate()},t.noData=function(e){return arguments.length?(C=e,t):C},t.xTickFormat=function(e){return arguments.length?(a.tickFormat(e),c.tickFormat(e),t):a.tickFormat()},t.yTickFormat=function(e){return arguments.length?(l.tickFormat(e),u.tickFormat(e),t):l.tickFormat()},t.brushExtent=function(e){return arguments.length?(w=e,t):w},t.transitionDuration=function(e){return arguments.length?(k=e,t):k},t},function(t,e){"use strict";function n(){i.READY||(y.determineEventTypes(),p.each(i.gestures,function(t){w.register(t)}),y.onTouch(i.DOCUMENT,d,w.detect),y.onTouch(i.DOCUMENT,f,w.detect),i.READY=!0)}var i=function(t,e){return new i.Instance(t,e||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=t.navigator.pointerEnabled||t.navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in t,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&t.navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.UPDATE_VELOCITY_INTERVAL=16,i.DOCUMENT=t.document;var r=i.DIRECTION_DOWN="down",o=i.DIRECTION_LEFT="left",s=i.DIRECTION_UP="up",a=i.DIRECTION_RIGHT="right",l=i.POINTER_MOUSE="mouse",c=i.POINTER_TOUCH="touch",u=i.POINTER_PEN="pen",h=i.EVENT_START="start",d=i.EVENT_MOVE="move",f=i.EVENT_END="end";i.plugins=i.plugins||{},i.gestures=i.gestures||{},i.READY=!1;var p=i.utils={extend:function(t,e,n){for(var i in e)void 0!==t[i]&&n||(t[i]=e[i]);return t},each:function(t,e,n){var i,r;if("forEach"in t)t.forEach(e,n);else if(void 0!==t.length){for(i=-1;r=t[++i];)if(!1===e.call(n,r,i,t))return}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],n=[];return p.each(t,function(t){e.push(void 0!==t.clientX?t.clientX:t.pageX),n.push(void 0!==t.clientY?t.clientY:t.pageY)}),{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.pageY-t.pageY,i=e.pageX-t.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){return Math.abs(t.pageX-e.pageX)>=Math.abs(t.pageY-e.pageY)?t.pageX-e.pageX>0?o:a:t.pageY-e.pageY>0?s:r},getDistance:function(t,e){var n=e.pageX-t.pageX,i=e.pageY-t.pageY;return Math.sqrt(n*n+i*i)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==s||t==r},toggleDefaultBehavior:function(t,e,n){if(e&&t&&t.style){p.each(["webkit","moz","Moz","ms","o",""],function(i){p.each(e,function(e,r){i&&(r=i+r.substring(0,1).toUpperCase()+r.substring(1)),r in t.style&&(t.style[r]=!n&&e)})});var i=function(){return!1};"none"==e.userSelect&&(t.onselectstart=!n&&i),"none"==e.userDrag&&(t.ondragstart=!n&&i)}}};i.Instance=function(t,e){var r=this;return n(),this.element=t,this.enabled=!0,this.options=p.extend(p.extend({},i.defaults),e||{}),this.options.stop_browser_behavior&&p.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!1),this.eventStartHandler=y.onTouch(t,h,function(t){r.enabled&&w.startDetect(r,t)}),this.eventHandlers=[],this},i.Instance.prototype={on:function(t,e){var n=t.split(" ");return p.each(n,function(t){this.element.addEventListener(t,e,!1),this.eventHandlers.push({gesture:t,handler:e})},this),this},off:function(t,e){var n,i,r=t.split(" ");return p.each(r,function(t){for(this.element.removeEventListener(t,e,!1),n=-1;i=this.eventHandlers[++n];)i.gesture===t&&i.handler===e&&this.eventHandlers.splice(n,1)},this),this},trigger:function(t,e){e||(e={});var n=i.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var r=this.element;return p.hasParent(e.target,r)&&(r=e.target),r.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(this.options.stop_browser_behavior&&p.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!0),t=-1;e=this.eventHandlers[++t];)this.element.removeEventListener(e.gesture,e.handler,!1);return this.eventHandlers=[],y.unbindDom(this.element,i.EVENT_TYPES[h],this.eventStartHandler),null}};var g=null,m=!1,v=!1,y=i.event={bindDom:function(t,e,n){var i=e.split(" ");p.each(i,function(e){t.addEventListener(e,n,!1)})},unbindDom:function(t,e,n){var i=e.split(" ");p.each(i,function(e){t.removeEventListener(e,n,!1)})},onTouch:function(t,e,n){var r=this,o=function(o){var s=o.type.toLowerCase();if(!s.match(/mouse/)||!v){s.match(/touch/)||s.match(/pointerdown/)||s.match(/mouse/)&&1===o.which?m=!0:s.match(/mouse/)&&!o.which&&(m=!1),s.match(/touch|pointer/)&&(v=!0);var a=0;m&&(i.HAS_POINTEREVENTS&&e!=f?a=b.updatePointer(e,o):s.match(/touch/)?a=o.touches.length:v||(a=s.match(/up/)?0:1),a>0&&e==f?e=d:a||(e=f),(a||null===g)&&(g=o),n.call(w,r.collectEventData(t,e,r.getTouchList(g,e),o)),i.HAS_POINTEREVENTS&&e==f&&(a=b.updatePointer(e,o))),a||(g=null,m=!1,v=!1,b.reset())}};return this.bindDom(t,i.EVENT_TYPES[e],o),o},determineEventTypes:function(){var t;t=i.HAS_POINTEREVENTS?b.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[h]=t[0],i.EVENT_TYPES[d]=t[1],i.EVENT_TYPES[f]=t[2]},getTouchList:function(t){return i.HAS_POINTEREVENTS?b.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,e,n,i){var r=c;return(i.type.match(/mouse/)||b.matchType(l,i))&&(r=l),{center:p.getCenter(n),timeStamp:(new Date).getTime(),target:i.target,touches:n,eventType:e,pointerType:r,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return w.stopDetect()}}}},b=i.PointerEvent={pointers:{},getTouchList:function(){var t=[];return p.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){return t==f?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var n=e.pointerType,i={};return i[l]=n===l,i[c]=n===c,i[u]=n===u,i[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},w=i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:p.extend({},e),lastEvent:!1,lastVelocityEvent:!1,velocity:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst.options;return p.each(this.gestures,function(n){if(!this.stopped&&!1!==e[n.name]&&!1===n.handler.call(n,t,this.current.inst))return this.stopDetect(),!1},this),this.current&&(this.current.lastEvent=t),t.eventType==f&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=p.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current,n=e.startEvent;t.touches.length==n.touches.length&&t.touches!==n.touches||(n.touches=[],p.each(t.touches,function(t){n.touches.push(p.extend({},t))}));var r,o,s=t.timeStamp-n.timeStamp,a=t.center.pageX-n.center.pageX,l=t.center.pageY-n.center.pageY,c=e.lastVelocityEvent,u=e.velocity;return c&&t.timeStamp-c.timeStamp>i.UPDATE_VELOCITY_INTERVAL?(u=p.getVelocity(t.timeStamp-c.timeStamp,t.center.pageX-c.center.pageX,t.center.pageY-c.center.pageY),e.lastVelocityEvent=t,e.velocity=u):e.velocity||(u=p.getVelocity(s,a,l),e.lastVelocityEvent=t,e.velocity=u),t.eventType==f?(r=e.lastEvent&&e.lastEvent.interimAngle,o=e.lastEvent&&e.lastEvent.interimDirection):(r=e.lastEvent&&p.getAngle(e.lastEvent.center,t.center),o=e.lastEvent&&p.getDirection(e.lastEvent.center,t.center)),p.extend(t,{deltaTime:s,deltaX:a,deltaY:l,velocityX:u.x,velocityY:u.y,distance:p.getDistance(n.center,t.center),angle:p.getAngle(n.center,t.center),interimAngle:r,direction:p.getDirection(n.center,t.center),interimDirection:o,scale:p.getScale(n.touches,t.touches),rotation:p.getRotation(n.touches,t.touches),startEvent:n}),t},register:function(t){var e=t.defaults||{};return void 0===e[t.name]&&(e[t.name]=!0),p.extend(i.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}};i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,e){if(w.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(e.options.drag_max_touches>0&&t.touches.length>e.options.drag_max_touches))switch(t.eventType){case h:this.triggered=!1;break;case d:if(t.distance<e.options.drag_min_distance&&w.current.name!=this.name)return;if(w.current.name!=this.name&&(w.current.name=this.name,e.options.correct_for_drag_min_distance&&t.distance>0)){var n=Math.abs(e.options.drag_min_distance/t.distance);w.current.startEvent.center.pageX+=t.deltaX*n,w.current.startEvent.center.pageY+=t.deltaY*n,t=w.extendEventData(t)}(w.current.lastEvent.drag_locked_to_axis||e.options.drag_lock_to_axis&&e.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var i=w.current.lastEvent.direction;t.drag_locked_to_axis&&i!==t.direction&&(p.isVertical(i)?t.direction=t.deltaY<0?s:r:t.direction=t.deltaX<0?o:a),this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),e.trigger(this.name+t.direction,t);var l=p.isVertical(t.direction);(e.options.drag_block_vertical&&l||e.options.drag_block_horizontal&&!l)&&t.preventDefault();break;case f:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case h:clearTimeout(this.timer),w.current.name=this.name,this.timer=setTimeout(function(){"hold"==w.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case d:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case f:clearTimeout(this.timer)}}},i.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==f&&e.trigger(this.name,t)}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==f){if(t.touches.length<e.options.swipe_min_touches||t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},has_moved:!1,handler:function(t,e){var n,i,r;t.eventType==h?this.has_moved=!1:t.eventType!=d||this.moved?t.eventType==f&&"touchcancel"!=t.srcEvent.type&&t.deltaTime<e.options.tap_max_touchtime&&!this.has_moved&&(i=(n=w.previous)&&n.lastEvent&&t.timeStamp-n.lastEvent.timeStamp,r=!1,n&&"tap"==n.name&&i&&i<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),r=!0),r&&!e.options.tap_always||(w.current.name="tap",e.trigger(w.current.name,t))):this.has_moved=t.distance>e.options.tap_max_distance}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,e){e.options.prevent_mouseevents&&t.pointerType==l?t.stopDetect():(e.options.prevent_default&&t.preventDefault(),t.eventType==h&&e.trigger(this.name,t))}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1,transform_within_instance:!1},triggered:!1,handler:function(t,e){if(w.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2)){if(e.options.transform_always_block&&t.preventDefault(),e.options.transform_within_instance)for(var n=-1;t.touches[++n];)if(!p.hasParent(t.touches[n].target,e.element))return;switch(t.eventType){case h:this.triggered=!1;break;case d:var i=Math.abs(1-t.scale),r=Math.abs(t.rotation);if(i<e.options.transform_min_scale&&r<e.options.transform_min_rotation)return;w.current.name=this.name,this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),r>e.options.transform_min_rotation&&e.trigger("rotate",t),i>e.options.transform_min_scale&&(e.trigger("pinch",t),e.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case f:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}}},"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof module&&module.exports?module.exports=i:t.Hammer=i}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var r,o=e||window.event,s=[].slice.call(arguments,1),a=0,l=0,c=0,u=0,h=0;return e=t.event.fix(o),e.type="mousewheel",o.wheelDelta&&(a=o.wheelDelta),o.detail&&(a=-1*o.detail),o.deltaY&&(a=c=-1*o.deltaY),o.deltaX&&(a=-1*(l=o.deltaX)),void 0!==o.wheelDeltaY&&(c=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(l=-1*o.wheelDeltaX),u=Math.abs(a),(!n||u<n)&&(n=u),h=Math.max(Math.abs(c),Math.abs(l)),(!i||h<i)&&(i=h),r=a>0?"floor":"ceil",a=Math[r](a/n),l=Math[r](l/i),c=Math[r](c/i),s.unshift(e,a,l,c),(t.event.dispatch||t.event.handle).apply(this,s)}var n,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var s=r.length;s;)t.event.fixHooks[r[--s]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){var e=function(){function e(){this.el=null,this.shift=6,this.drop=0,this.init=function(){var e=this;this.el=t("<div></div>").addClass("mapplic-tooltip"),t("<a></a>").addClass("mapplic-tooltip-close").attr("href","#").click(function(t){t.preventDefault(),c.deeplinking.clear(),e.hide()}).appendTo(this.el),this.image=t("<img>").addClass("mapplic-tooltip-image").hide().appendTo(this.el),this.title=t("<h4></h4>").addClass("mapplic-tooltip-title").appendTo(this.el),this.content=t("<div></div>").addClass("mapplic-tooltip-content").appendTo(this.el),this.desc=t("<div></div>").addClass("mapplic-tooltip-description").appendTo(this.content),this.link=t("<a>More</a>").addClass("mapplic-tooltip-link").attr("href","#").hide().appendTo(this.el),t("<div></div>").addClass("mapplic-tooltip-triangle").prependTo(this.el),c.map.append(this.el)},this.set=function(e){if(e){if("none"==e.action)return void this.el.stop().fadeOut(300);var n=this;e.image?this.image.attr("src",e.image).show():this.image.hide(),e.link?this.link.attr("href",e.link).show():this.link.hide(),this.title.text(e.title),this.desc.html(e.description);var i=t('.mapplic-pin[data-location="'+e.id+'"]');0==i.length?this.shift=6:this.shift=i.height()+6,t("img",this.desc).load(function(){n.position(e)}),this.position(e)}},this.show=function(e){if(e){if("none"==e.action)return void this.el.stop().fadeOut(300);var n=this;e.image?this.image.attr("src",e.image).show():this.image.hide(),e.link?this.link.attr("href",e.link).show():this.link.hide(),this.title.text(e.title),this.desc.html(e.description);var i=t('.mapplic-pin[data-location="'+e.id+'"]');0==i.length?this.shift=6:this.shift=i.height()+6,t("img",this.desc).load(function(){n.position(e)}),this.position(e),this.el.stop().fadeIn(200).show()}},this.position=function(t){var e=100*t.x;y=100*t.y,mt=-this.el.outerHeight()-this.shift,ml=-this.el.outerWidth()/2,this.el.css({left:e+"%",top:y+"%",marginTop:mt,marginLeft:ml}),this.drop=this.el.outerHeight()+this.shift},this.hide=function(){var t=this;this.el.stop().fadeOut(300,function(){t.desc.empty()})}}function n(){this.init=function(){var e=location.hash.slice(1);if(e){var n=f(e);c.tooltip.set(n),p(e,0),c.tooltip.show(n)}else b(.5,.5,1,0);t(window).on("hashchange",function(){var t=location.hash.slice(1);if(t){var e=f(t);c.tooltip.set(e),p(t,800),c.tooltip.show(e)}})},this.clear=function(){history.pushState?history.pushState("",document.title,window.location.pathname):window.location.hash=""}}function i(){this.el=null,this.shift=6,this.init=function(){var e=this;this.el=t("<div></div>").addClass("mapplic-tooltip mapplic-hovertip"),this.title=t("<h4></h4>").addClass("mapplic-tooltip-title").appendTo(this.el),t("<div></div>").addClass("mapplic-tooltip-triangle").appendTo(this.el),t(c.map).on("mouseover",".mapplic-layer a",function(){var n="";t(this).hasClass("mapplic-pin")?(n=t(this).data("location"),e.shift=t(this).height()+6):(n=t(this).attr("xlink:href").slice(1),e.shift=6);var i=f(n);i&&e.show(i)}).on("mouseout",function(){e.hide()}),c.map.append(this.el)},this.show=function(t){this.title.text(t.title);var e=100*t.x,n=100*t.y,i=-this.el.outerHeight()-this.shift,r=-this.el.outerWidth()/2;this.el.css({left:e+"%",top:n+"%",marginTop:i,marginLeft:r}),this.el.stop().fadeIn(100)},this.hide=function(){this.el.stop().fadeOut(200)}}function r(){this.el=null,this.init=function(){this.el=t("<div></div>").addClass("mapplic-minimap").appendTo(c.container),this.el.css("height",this.el.width()*c.hw_ratio),this.el.click(function(e){e.preventDefault();var n=(e.pageX-t(this).offset().left)/t(this).width(),i=(e.pageY-t(this).offset().top)/t(this).height();b(n,i,c.scale/c.fitscale,100)})},this.addLayer=function(e){var n=t("<div></div>").addClass("mapplic-minimap-layer").addClass(e.id).appendTo(this.el);t("<img>").attr("src",e.minimap).addClass("mapplic-minimap-background").appendTo(n),t("<div></div>").addClass("mapplic-minimap-overlay").appendTo(n),t("<img>").attr("src",e.minimap).addClass("mapplic-minimap-active").appendTo(n)},this.show=function(e){t(".mapplic-minimap-layer:visible",this.el).hide(),t(".mapplic-minimap-layer."+e,this.el).show()},this.update=function(e,n){var i=t(".mapplic-minimap-active",this.el);void 0===e&&(e=c.x),void 0===n&&(n=c.y);var r=Math.round(c.container.width()/c.contentWidth/c.scale*this.el.width()),o=Math.round(c.container.height()/c.contentHeight/c.scale*this.el.height()),s=Math.round(-n/c.contentHeight/c.scale*this.el.height()),a=Math.round(-e/c.contentWidth/c.scale*this.el.width()),l=a+r,u=s+o;i.css("clip","rect("+s+"px, "+l+"px, "+u+"px, "+a+"px)")}}function o(){this.el=null,this.list=null,this.init=function(){var e=this;if(this.el=t("<div></div>").addClass("mapplic-sidebar").appendTo(c.el),c.o.search){var n=t("<form></form>").addClass("mapplic-search-form").submit(function(){return!1}).appendTo(this.el);c.clear=t("<button></button>").addClass("mapplic-search-clear").click(function(){i.val(""),i.keyup()}).appendTo(n);var i=t("<input>").attr({type:"text",spellcheck:"false",placeholder:"Search for location..."}).addClass("mapplic-search-input").keyup(function(){var n=t(this).val();e.search(n)}).prependTo(n)}var r=t("<div></div>").addClass("mapplic-list-container").appendTo(this.el);this.list=t("<ol></ol>").addClass("mapplic-list").appendTo(r),this.notfound=t("<p></p>").addClass("mapplic-not-found").text("Nothing found. Please try a different search.").appendTo(r),c.o.search||r.css("padding-top","0")},this.addCategories=function(e){var n=this.list;t.each(e,function(e,i){var r=t("<li></li>").addClass("mapplic-list-category").addClass(i.id),o=t("<ol></ol>").css("border-color",i.color).appendTo(r);"false"==i.show&&o.hide();var s=t("<a></a>").attr("href","#").attr("title",i.title).css("background-color",i.color).text(i.title).click(function(t){return o.slideToggle(200),!1}).prependTo(r);i.icon&&t("<img>").attr("src",i.icon).addClass("mapplic-list-thumbnail").prependTo(s),t("<span></span>").text("0").addClass("mapplic-list-count").prependTo(s),n.append(r)})},this.addLocation=function(e){var n=t("<li></li>").addClass("mapplic-list-location").addClass("mapplic-list-shown"),i=t("<a></a>").attr("href","#"+e.id).appendTo(n);e.thumbnail&&t("<img>").attr("src",e.thumbnail).addClass("mapplic-list-thumbnail").appendTo(i),t("<h4></h4>").text(e.title).appendTo(i),t("<span></span>").html(e.about).appendTo(i);var r=t(".mapplic-list-category."+e.category);r.length?t("ol",r).append(n):this.list.append(n),t(".mapplic-list-count",r).text(t(".mapplic-list-shown",r).length)},this.search=function(e){e?c.clear.fadeIn(100):c.clear.fadeOut(100),t(".mapplic-list li",c.el).each(function(){t(this).text().search(new RegExp(e,"i"))<0?(t(this).removeClass("mapplic-list-shown"),t(this).slideUp(200)):(t(this).addClass("mapplic-list-shown"),t(this).show())}),t(".mapplic-list > li",c.el).each(function(){var e=t(".mapplic-list-shown",this).length;t(".mapplic-list-count",this).text(e)}),t(".mapplic-list > li.mapplic-list-shown").length>0?this.notfound.fadeOut(200):this.notfound.fadeIn(200)}}function s(){this.el=null,this.init=function(){this.el=t("<div></div>").addClass("mapplic-coordinates").appendTo(c.container),this.el.append("x: "),t("<code></code>").addClass("mapplic-coordinates-x").appendTo(this.el),this.el.append(" y: "),t("<code></code>").addClass("mapplic-coordinates-y").appendTo(this.el),t(".mapplic-layer",c.map).on("mousemove",function(e){var n=(e.pageX-c.map.offset().left)/c.map.width(),i=(e.pageY-c.map.offset().top)/c.map.height();t(".mapplic-coordinates-x").text(parseFloat(n).toFixed(4)),t(".mapplic-coordinates-y").text(parseFloat(i).toFixed(4))})}}function a(){this.el=null,this.init=function(){this.el=t("<a></a>").attr("href","#").addClass("mapplic-clear-button").click(function(t){t.preventDefault(),c.deeplinking.clear(),c.tooltip.hide(),b(.5,.5,1)}).appendTo(c.container)}}function l(){this.el=null,this.init=function(){var e=this;this.element=c.el[0],t("<a></a>").attr("href","#").attr("href","#").addClass("mapplic-fullscreen-button").click(function(t){t.preventDefault(),e.isFull()?e.exitFull():e.goFull()}).appendTo(c.container)},this.goFull=function(){this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen()},this.exitFull=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},this.isFull=function(){return window.innerHeight==screen.height}}var c=this;c.o={source:"locations.json",height:420,locations:!0,minimap:!0,sidebar:!0,deeplinking:!0,search:!0,clearbutton:!0,hovertip:!0,fullscreen:!1,developer:!1,animate:!0,maxscale:4},c.init=function(e,n){return c.o=t.extend(c.o,n),c.x=0,c.y=0,c.scale=1,c.el=e.addClass("mapplic-element mapplic-loading").height(c.o.height),t.getJSON(c.o.source,function(t){u(t),c.el.removeClass("mapplic-loading"),h()}).fail(function(){console.error("Couldn't load map data. (Make sure you are running the script through a server and not just opening the html file with your browser)"),alert("Data file missing or invalid!")}),c},c.goToLocation=function(t,e){p(t,e)};var u=function(u){function h(){var e=t(".mapplic-pin:not(.mapplic-animate):visible");e.length>0?(e.first().addClass("mapplic-animate"),window.setTimeout(h,200)):(t(".mapplic-animate").removeClass("mapplic-animate"),t(".mapplic-pin").css("opacity","1"))}c.data=u;var f,p=0;if(c.container=t("<div></div>").addClass("mapplic-container").appendTo(c.el),c.map=t("<div></div>").addClass("mapplic-map").appendTo(c.container),c.levelselect=t("<select></select>").addClass("mapplic-levels-select"),c.o.sidebar||c.container.css("width","100%"),c.contentWidth=u.mapwidth,c.contentHeight=u.mapheight,c.hw_ratio=u.mapheight/u.mapwidth,u.mapheight/c.container.height()>u.mapwidth/c.container.width()?(c.min_width=c.container.width(),c.min_height=c.container.width()*c.hw_ratio):(c.min_height=c.container.height(),c.min_width=c.container.height()/c.hw_ratio),c.map.css({width:u.mapwidth,height:u.mapheight}),c.o.minimap&&(c.minimap=new r,c.minimap.init()),c.o.sidebar&&(c.sidebar=new o,c.sidebar.init(),c.sidebar.addCategories(u.categories)),u.levels&&t.each(u.levels,function(e,n){var i=n.map,r=i.substr(i.lastIndexOf(".")+1).toLowerCase(),o=t("<div></div>").addClass("mapplic-layer").addClass(n.id).hide().appendTo(c.map);switch(r){case"jpg":case"jpeg":case"png":case"gif":t("<img>").attr("src",i).addClass("mapplic-map-image").appendTo(o);break;case"svg":t("<div></div>").addClass("mapplic-map-image").load(i).appendTo(o);break;default:alert("File type "+r+" is not supported!")}c.minimap&&c.minimap.addLayer(n),c.levelselect.prepend(t("<option></option>").attr("value",n.id).text(n.title)),f&&!n.show||(f=n.id),t.each(n.locations,function(e,n){var i=100*n.y,r=100*n.x;if("hidden"!=n.pin&&c.o.locations){var s="#"+n.id;"redirect"==n.action&&(s=n.link);var a=t("<a></a>").attr("href",s).addClass("mapplic-pin").css({top:i+"%",left:r+"%"}).appendTo(o);a.attr("data-location",n.id),a.addClass(n.pin)}c.sidebar&&c.sidebar.addLocation(n)}),p++}),c.o.animate&&(t(".mapplic-pin").css("opacity","0"),window.setTimeout(h,200)),c.o.hovertip&&(c.hovertip=(new i).init()),c.tooltip=new e,c.tooltip.init(),c.o.developer&&(c.devtools=(new s).init()),c.o.clearbutton&&(c.clearbutton=(new a).init()),c.o.fullscreen&&(c.fullscreen=(new l).init()),p>1){c.levels=t("<div></div>").addClass("mapplic-levels");var y=t('<a href="#"></a>').addClass("mapplic-levels-up").appendTo(c.levels);c.levelselect.appendTo(c.levels);var b=t('<a href="#"></a>').addClass("mapplic-levels-down").appendTo(c.levels);c.container.append(c.levels),c.levelselect.change(function(){var e=t(this).val();d(e)}),y.click(function(e){e.preventDefault(),t(this).hasClass("disabled")||d("+")}),b.click(function(e){e.preventDefault(),t(this).hasClass("disabled")||d("-")})}d(f),t(window).resize(function(){var t=c.container.width()/c.contentWidth,e=c.container.height()/c.contentHeight;c.fitscale=t>e?t:e,c.scale=v(c.scale),c.x=g(c.x),c.y=m(c.y),w(c.x,c.y,c.scale,100)}).resize(),c.o.deeplinking&&(c.deeplinking=new n,c.deeplinking.init())},h=function(){var e=c.map,n=t(".mapplic-map-image",c.map);if(document.ondragstart=function(){return!1},n.on("mousedown",function(n){e.stop(),e.data("mouseX",n.pageX),e.data("mouseY",n.pageY),e.data("lastX",c.x),e.data("lastY",c.y),e.addClass("mapplic-dragging"),c.map.on("mousemove",function(t){var n=t.pageX-e.data("mouseX")+c.x;y=t.pageY-e.data("mouseY")+c.y,n=g(n),y=m(y),w(n,y),e.data("lastX",n),e.data("lastY",y)}),t(document).on("mouseup",function(n){c.x=e.data("lastX"),c.y=e.data("lastY"),c.map.off("mousemove"),t(document).off("mouseup"),e.removeClass("mapplic-dragging")})}),t(document).on("dblclick",".mapplic-map-image",function(t){var e=c.map.offset(),n=(t.pageX-e.left)/c.map.width(),i=(t.pageY-e.top)/c.map.height(),r=c.map.width()/c.min_width*2;b(n,i,r,600)}),t(".mapplic-layer",this.el).bind("mousewheel DOMMouseScroll",function(t,e){t.preventDefault();var n=c.scale;c.scale=v(n+n*e/5),c.x=g(c.x-(t.pageX-c.container.offset().left-c.x)*(c.scale/n-1)),c.y=m(c.y-(t.pageY-c.container.offset().top-c.y)*(c.scale/n-1)),w(c.x,c.y,c.scale,100)}),!("ontouchstart"in window||"onmsgesturechange"in window))return!0;n.on("touchstart",function(t){var i=t.originalEvent,r=e.position();e.data("touchY",i.changedTouches[0].pageY-r.top),e.data("touchX",i.changedTouches[0].pageX-r.left),n.on("touchmove",function(t){t.preventDefault();var i=t.originalEvent;1==i.touches.length?(c.x=g(i.changedTouches[0].pageX-e.data("touchX")),c.y=m(i.changedTouches[0].pageY-e.data("touchY")),w(c.x,c.y,c.scale,100)):n.off("touchmove")}),n.on("touchend",function(t){n.off("touchmove touchend")})});var i,r=1;Hammer(c.map[0],{transform_always_block:!0,drag_block_horizontal:!0,drag_block_vertical:!0}).on("touch transform",function(t){switch(t.type){case"touch":i=r;break;case"transform":var e=t.gesture.center;r=Math.max(1,Math.min(i*t.gesture.scale,10));var n=c.scale;c.scale=v(r*c.fitscale),c.x=g(c.x-(e.pageX-c.container.offset().left-c.x)*(c.scale/n-1)),c.y=m(c.y-(e.pageY-c.container.offset().top-c.y)*(c.scale/n-1)),w(c.x,c.y,c.scale,200)}})},d=function(e){switch(e){case"+":e=t("option:selected",c.levelselect).removeAttr("selected").prev().prop("selected","selected").val();break;case"-":e=t("option:selected",c.levelselect).removeAttr("selected").next().prop("selected","selected").val();break;default:t('option[value="'+e+'"]',c.levelselect).prop("selected","selected")}var n=t(".mapplic-layer."+e,c.map);if(!n.is(":visible")){c.tooltip.hide(),t(".mapplic-layer:visible",c.map).hide(),n.show(),c.minimap&&c.minimap.show(e);var i=c.levelselect.get(0).selectedIndex,r=t(".mapplic-levels-up",c.levels),o=t(".mapplic-levels-down",c.levels);r.removeClass("disabled"),o.removeClass("disabled"),0==i?r.addClass("disabled"):i==c.levelselect.get(0).length-1&&o.addClass("disabled")}},f=function(e){var n=null;return t.each(c.data.levels,function(i,r){t.each(r.locations,function(t,i){i.id==e&&(n=i)})}),n},p=function(e,n){t.each(c.data.levels,function(i,r){t.each(r.locations,function(t,i){if(i.id==e){var o=void 0!==i.zoom?i.zoom:4,s=c.tooltip.drop/c.contentHeight/o;d(r.id),b(i.x,parseFloat(i.y)-s,o,n,"easeInOutCubic")}})})},g=function(t){var e=c.container.width()-c.contentWidth*c.scale;return t>0?t=0:t<e&&(t=e),t},m=function(t){var e=c.container.height()-c.contentHeight*c.scale;return t>=0?t=0:t<e&&(t=e),t},v=function(t){return t<c.fitscale?t=c.fitscale:t>c.o.maxscale&&(t=c.o.maxscale),t},b=function(t,e,n,i,r){i=void 0!==i?i:400,c.scale=v(c.fitscale*n);c.contentWidth,c.scale;c.x=g(.5*c.container.width()-c.scale*c.contentWidth*t),c.y=m(.5*c.container.height()-c.scale*c.contentHeight*e),w(c.x,c.y,c.scale,i,r)},w=function(t,e,n,i,r){void 0!==n?c.map.stop().animate({left:t,top:e,width:c.contentWidth*n,height:c.contentHeight*n},i,r):c.map.css({left:t,top:e}),c.minimap&&c.minimap.update(t,e)}};t.fn.mapplic=function(n){var i=this.length;return this.each(function(r){var o=t(this),s="mapplic"+(i>1?"-"+ ++r:""),a=(new e).init(o,n);o.data(s,a).data("key",s)})}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["d3"],function(n){return t.Rickshaw=e(n)}):"object"==typeof exports?module.exports=e(require("d3")):t.Rickshaw=e(d3)}(this,function(t){var e={namespace:function(t,n){for(var i=t.split("."),r=e,o=1,s=i.length;o<s;o++){var a=i[o];r[a]=r[a]||{},r=r[a]}return r},keys:function(t){var e=[];for(var n in t)e.push(n);return e},extend:function(t,e){for(var n in e)t[n]=e[n];return t},clone:function(t){return JSON.parse(JSON.stringify(t))}};return function(t){function e(t){return h.call(t)===y}function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(t){if(r(t)!==v)throw new TypeError;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function r(t){switch(t){case null:return d;case void 0:return f}switch(typeof t){case"boolean":return p;case"number":return g;case"string":return m}return v}function o(t){return void 0===t}function s(t){var e=t.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function a(t,e){var n=t;return function(){var t=l([u(n,this)],arguments);return e.apply(this,t)}}function l(t,e){for(var n=t.length,i=e.length;i--;)t[n+i]=e[i];return t}function c(t,e){return t=b.call(t,0),l(t,e)}function u(t,e){if(arguments.length<2&&o(arguments[0]))return this;var n=t,i=b.call(arguments,2);return function(){var t=c(i,arguments);return n.apply(e,t)}}var h=Object.prototype.toString,d="Null",f="Undefined",p="Boolean",g="Number",m="String",v="Object",y="[object Function]",b=Array.prototype.slice,w=function(){},x=function(){function t(){}var r=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();return{create:function(){function i(){this.initialize.apply(this,arguments)}var r=null,o=[].slice.apply(arguments);if(e(o[0])&&(r=o.shift()),n(i,x.Methods),i.superclass=r,i.subclasses=[],r){t.prototype=r.prototype,i.prototype=new t;try{r.subclasses.push(i)}catch(t){}}for(var s=0,a=o.length;s<a;s++)i.addMethods(o[s]);return i.prototype.initialize||(i.prototype.initialize=w),i.prototype.constructor=i,i},Methods:{addMethods:function(t){var n=this.superclass&&this.superclass.prototype,o=i(t);r&&(t.toString!=Object.prototype.toString&&o.push("toString"),t.valueOf!=Object.prototype.valueOf&&o.push("valueOf"));for(var l=0,c=o.length;l<c;l++){var h=o[l],d=t[h];if(n&&e(d)&&"$super"==s(d)[0]){var f=d;(d=a(function(t){return function(){return n[t].apply(this,arguments)}}(h),f)).valueOf=u(f.valueOf,f),d.toString=u(f.toString,f)}this.prototype[h]=d}return this}}}}();t.exports?t.exports.Class=x:t.Class=x}(e),e.namespace("Rickshaw.Compat.ClassList"),e.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||function(t){"use strict";var e=(t.HTMLElement||t.Element).prototype,n=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},a=function(t){for(var e=i.call(t.className),n=e?e.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){t.className=this.toString()}},l=a.prototype=[],c=function(){return new a(this)};if(o.prototype=Error.prototype,l.item=function(t){return this[t]||null},l.contains=function(t){return t+="",-1!==s(this,t)},l.add=function(t){-1===s(this,t+="")&&(this.push(t),this._updateClassName())},l.remove=function(t){var e=s(this,t+="");-1!==e&&(this.splice(e,1),this._updateClassName())},l.toggle=function(t){-1===s(this,t+="")?this.add(t):this.remove(t)},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(e,"classList",u)}catch(t){-2146823252===t.number&&(u.enumerable=!1,n.defineProperty(e,"classList",u))}}else n.prototype.__defineGetter__&&e.__defineGetter__("classList",c)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new e.Compat.ClassList,e.namespace("Rickshaw.Graph"),e.Graph=function(n){var i=this;this.initialize=function(e){if(!e.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==e.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=e.element,this.series=e.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(e),this.validateSeries(e.series),this.series.active=function(){return i.series.filter(function(t){return!t.disabled})},this.setSize({width:e.width,height:e.height}),this.element.classList.add("rickshaw_graph"),this.vis=t.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var t in e.Graph.Renderer)if(t&&e.Graph.Renderer.hasOwnProperty(t)){var n=e.Graph.Renderer[t];n&&n.prototype&&n.prototype.render&&i.registerRenderer(new n({graph:i}))}},this.validateSeries=function(t){if(!(Array.isArray(t)||t instanceof e.Series))throw"series is not an array: "+Object.prototype.toString.apply(t);t.forEach(function(t){if(!(t instanceof Object))throw"series element is not an object: "+t;if(!t.data)throw"series has no data: "+JSON.stringify(t);if(!Array.isArray(t.data))throw"series data is not an array: "+JSON.stringify(t.data);if(t.data.length>0){var e=t.data[0].x,n=t.data[0].y;if("number"!=typeof e||"number"!=typeof n&&null!==n)throw"x and y properties of points should be numbers instead of "+typeof e+" and "+typeof n}if(t.data.length>=3&&(t.data[2].x<t.data[1].x||t.data[1].x<t.data[0].x||t.data[t.data.length-1].x<t.data[0].x))throw"series data needs to be sorted on x values for series name: "+t.name},this)},this.dataDomain=function(){var e=this.series.map(function(t){return t.data});return[t.min(e.map(function(t){return t[0].x})),t.max(e.map(function(t){return t[t.length-1].x}))]},this.discoverRange=function(){var e=this.renderer.domain();this.x=(this.xScale||t.scale.linear()).copy().domain(e.x).range([0,this.width]),this.y=(this.yScale||t.scale.linear()).copy().domain(e.y).range([this.height,0]),this.x.magnitude=t.scale.linear().domain([e.x[0]-e.x[0],e.x[1]-e.x[0]]).range([0,this.width]),this.y.magnitude=t.scale.linear().domain([e.y[0]-e.y[0],e.y[1]-e.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(t){t()})},this.update=this.render,this.stackData=function(){var n=this.series.active().map(function(t){return t.data}).map(function(t){return t.filter(function(t){return this._slice(t)},this)},this),r=this.preserve;r||this.series.forEach(function(t){t.scale&&(r=!0)}),n=r?e.clone(n):n,this.series.active().forEach(function(t,e){if(t.scale){var i=n[e];i&&i.forEach(function(e){e.y=t.scale(e.y)})}}),this.stackData.hooks.data.forEach(function(t){n=t.f.apply(i,[n])});var o;if(!this.renderer.unstack){this._validateStackable();var s=t.layout.stack();s.offset(i.offset),o=s(n)}o=o||n,this.renderer.unstack&&o.forEach(function(t){t.forEach(function(t){t.y0=void 0===t.y0?0:t.y0})}),this.stackData.hooks.after.forEach(function(t){o=t.f.apply(i,[n])});var a=0;return this.series.forEach(function(t){t.disabled||(t.stack=o[a++])}),this.stackedData=o,o},this._validateStackable=function(){var t;this.series.forEach(function(e){if((t=t||e.data.length)&&e.data.length!=t)throw"stacked series cannot have differing numbers of points: "+t+" vs "+e.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(t){if(this.window.xMin||this.window.xMax){var e=!0;return this.window.xMin&&t.x<this.window.xMin&&(e=!1),this.window.xMax&&t.x>this.window.xMax&&(e=!1),e}return!0},this.onUpdate=function(t){this.updateCallbacks.push(t)},this.onConfigure=function(t){this.configureCallbacks.push(t)},this.registerRenderer=function(t){this._renderers=this._renderers||{},this._renderers[t.name]=t},this.configure=function(t){this.config=this.config||{},(t.width||t.height)&&this.setSize(t),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this?this[e]:this.defaults[e]},this),e.keys(this.config).forEach(function(t){this[t]=this.config[t]},this),"stack"in t&&(t.unstack=!t.stack);var n=t.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(n,t),this.configureCallbacks.forEach(function(e){e(t)})},this.setRenderer=function(t,e){if("function"==typeof t)this.renderer=new t({graph:i}),this.registerRenderer(this.renderer);else{if(!this._renderers[t])throw"couldn't find renderer "+t;this.renderer=this._renderers[t]}"object"==typeof e&&this.renderer.configure(e)},this.setSize=function(t){if(t=t||{},void 0!==typeof window)var e=window.getComputedStyle(this.element,null),n=parseInt(e.getPropertyValue("width"),10),i=parseInt(e.getPropertyValue("height"),10);this.width=t.width||n||400,this.height=t.height||i||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(n)},e.namespace("Rickshaw.Fixtures.Color"),e.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},e.namespace("Rickshaw.Fixtures.RandomData"),e.Fixtures.RandomData=function(t){t=t||1;var e=200,n=Math.floor((new Date).getTime()/1e3);this.addData=function(i){var r=100*Math.random()+15+e,o=i[0].length,s=1;i.forEach(function(e){var i=20*Math.random(),a=r/25+s+++15*(Math.cos(o*s*11/960)+2)+7*(Math.cos(o/7)+2)+1*(Math.cos(o/17)+2);e.push({x:o*t+n,y:a+i})}),e=.85*r},this.removeData=function(e){e.forEach(function(t){t.shift()}),n+=t}},e.namespace("Rickshaw.Fixtures.Time"),e.Fixtures.Time=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getUTCMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,i;if("month"==e.name){if(n=new Date(1e3*t),Date.UTC(n.getUTCFullYear(),n.getUTCMonth())/1e3==t)return t;i=n.getUTCFullYear();var r=n.getUTCMonth();return 11==r?(r=0,i+=1):r+=1,Date.UTC(i,r)/1e3}return"year"==e.name?(n=new Date(1e3*t),Date.UTC(n.getUTCFullYear(),0)/1e3==t?t:(i=n.getUTCFullYear()+1,Date.UTC(i,0)/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Time.Local"),e.Fixtures.Time.Local=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,i;if("day"==e.name){var r=new Date(1e3*(t+e.seconds-1)),o=new Date(0);return o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0),o.setDate(r.getDate()),o.setMonth(r.getMonth()),o.setFullYear(r.getFullYear()),o.getTime()/1e3}if("month"==e.name){if(n=new Date(1e3*t),new Date(n.getFullYear(),n.getMonth()).getTime()/1e3==t)return t;i=n.getFullYear();var s=n.getMonth();return 11==s?(s=0,i+=1):s+=1,new Date(i,s).getTime()/1e3}return"year"==e.name?(n=new Date(1e3*t),new Date(n.getUTCFullYear(),0).getTime()/1e3==t?t:(i=n.getFullYear()+1,new Date(i,0).getTime()/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Number"),e.Fixtures.Number.formatKMBT=function(t){var e=Math.abs(t);return e>=1e12?t/1e12+"T":e>=1e9?t/1e9+"B":e>=1e6?t/1e6+"M":e>=1e3?t/1e3+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},e.Fixtures.Number.formatBase1024KMGTP=function(t){var e=Math.abs(t);return e>=0x4000000000000?t/0x4000000000000+"P":e>=1099511627776?t/1099511627776+"T":e>=1073741824?t/1073741824+"G":e>=1048576?t/1048576+"M":e>=1024?t/1024+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},e.namespace("Rickshaw.Color.Palette"),e.Color.Palette=function(n){var i=new e.Fixtures.Color;if(n=n||{},this.schemes={},this.scheme=i.schemes[n.scheme]||n.scheme||i.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,n.interpolatedStopCount){var r,o,s=this.scheme.length-1,a=[];for(r=0;r<s;r++){a.push(this.scheme[r]);var l=t.interpolateHsl(this.scheme[r],this.scheme[r+1]);for(o=1;o<n.interpolatedStopCount;o++)a.push(l(1/n.interpolatedStopCount*o))}a.push(this.scheme[this.scheme.length-1]),this.scheme=a}this.rotateCount=this.scheme.length,this.color=function(t){return this.scheme[t]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var e;return this.generatorIndex==2*this.rotateCount-1?(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(e),e}}},e.namespace("Rickshaw.Graph.Ajax"),e.Graph.Ajax=e.Class.create({initialize:function(t){this.dataURL=t.dataURL,this.onData=t.onData||function(t){return t},this.onComplete=t.onComplete||function(){},this.onError=t.onError||function(){},this.args=t,this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(t,n){t=this.onData(t),this.args.series=this._splice({data:t,series:this.args.series}),this.graph=this.graph||new e.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(t){var e=t.data,n=t.series;return t.series?(n.forEach(function(t){var n=t.key||t.name;if(!n)throw"series needs a key or a name";e.forEach(function(e){var i=e.key||e.name;if(!i)throw"data needs a key or a name";n==i&&["color","name","data"].forEach(function(n){e[n]&&(t[n]=e[n])})})}),n):e}}),e.namespace("Rickshaw.Graph.Annotate"),e.Graph.Annotate=function(t){this.graph=t.graph;this.elements={timeline:t.element};var n=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(t,e,i){n.data[t]=n.data[t]||{boxes:[]},n.data[t].boxes.push({content:e,end:i})},this.update=function(){e.keys(n.data).forEach(function(t){var e=n.data[t],i=n.graph.x(t);if(i<0||i>n.graph.x.range()[1])return e.element&&(e.line.classList.add("offscreen"),e.element.style.display="none"),void e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.add("offscreen")});if(!e.element){var r=e.element=document.createElement("div");r.classList.add("annotation"),this.elements.timeline.appendChild(r),r.addEventListener("click",function(t){r.classList.toggle("active"),e.line.classList.toggle("active"),e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.toggle("active")})},!1)}e.element.style.left=i+"px",e.element.style.display="block",e.boxes.forEach(function(t){var r=t.element;if(r||((r=t.element=document.createElement("div")).classList.add("content"),r.innerHTML=t.content,e.element.appendChild(r),e.line=document.createElement("div"),e.line.classList.add("annotation_line"),n.graph.element.appendChild(e.line),t.end&&(t.rangeElement=document.createElement("div"),t.rangeElement.classList.add("annotation_range"),n.graph.element.appendChild(t.rangeElement))),t.end){var o=i,s=Math.min(n.graph.x(t.end),n.graph.x.range()[1]);o>s&&(s=i,o=Math.max(n.graph.x(t.end),n.graph.x.range()[0]));var a=s-o;t.rangeElement.style.left=o+"px",t.rangeElement.style.width=a+"px",t.rangeElement.classList.remove("offscreen")}e.line.classList.remove("offscreen"),e.line.style.left=i+"px"})},this)},this.graph.onUpdate(function(){n.update()})},e.namespace("Rickshaw.Graph.Axis.Time"),e.Graph.Axis.Time=function(t){var n=this;this.graph=t.graph,this.elements=[],this.ticksTreatment=t.ticksTreatment||"plain",this.fixedTimeUnit=t.timeUnit;var i=t.timeFixture||new e.Fixtures.Time;this.appropriateTimeUnit=function(){var t,e=i.units,n=this.graph.x.domain(),r=n[1]-n[0];return e.forEach(function(e){Math.floor(r/e.seconds)>=2&&(t=t||e)}),t||i.units[i.units.length-1]},this.tickOffsets=function(){for(var t=this.graph.x.domain(),e=this.fixedTimeUnit||this.appropriateTimeUnit(),n=Math.ceil((t[1]-t[0])/e.seconds),r=t[0],o=[],s=0;s<n;s++){var a=i.ceil(r,e);r=a+e.seconds/2,o.push({value:a,unit:e})}return o},this.render=function(){this.elements.forEach(function(t){t.parentNode.removeChild(t)}),this.elements=[],this.tickOffsets().forEach(function(t){if(!(n.graph.x(t.value)>n.graph.x.range()[1])){var e=document.createElement("div");e.style.left=n.graph.x(t.value)+"px",e.classList.add("x_tick"),e.classList.add(n.ticksTreatment);var i=document.createElement("div");i.classList.add("title"),i.innerHTML=t.unit.formatter(new Date(1e3*t.value)),e.appendChild(i),n.graph.element.appendChild(e),n.elements.push(e)}})},this.graph.onUpdate(function(){n.render()})},e.namespace("Rickshaw.Graph.Axis.X"),e.Graph.Axis.X=function(e){var n=this;this.initialize=function(e){this.graph=e.graph,this.orientation=e.orientation||"top",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",e.element?(this.element=e.element,this._discoverSize(e.element,e),this.vis=t.select(e.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){n.render()})},this.setSize=function(t){if(t=t||{},this.element){this._discoverSize(this.element.parentNode,t),this.vis.attr("height",this.height).attr("width",1.1*this.width);var e=Math.floor(.1*this.width/2);this.element.style.left=-1*e+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var n=t.svg.axis().scale(this.graph.x).orient(this.orientation);n.tickFormat(e.tickFormat||function(t){return t}),this.tickValues&&n.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var i,r=Math.floor(.1*this.width/2)||0;i="top"==this.orientation?"translate("+r+","+(this.height||this.graph.height)+")":"translate("+r+", 0)",this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",i).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var o=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(n.ticks(this.ticks).tickSubdivide(0).tickSize(o)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(t,e){if("undefined"!=typeof window){var n=window.getComputedStyle(t,null),i=parseInt(n.getPropertyValue("height"),10);if(!e.auto)var r=parseInt(n.getPropertyValue("width"),10)}this.width=1.1*(e.width||r||this.graph.width),this.height=e.height||i||40},this.initialize(e)},e.namespace("Rickshaw.Graph.Axis.Y"),e.Graph.Axis.Y=e.Class.create({initialize:function(e){this.graph=e.graph,this.orientation=e.orientation||"right",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",this.tickFormat=e.tickFormat||function(t){return t},this.berthRate=.1,e.element?(this.element=e.element,this.vis=t.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis;var n=this;this.graph.onUpdate(function(){n.render()})},setSize:function(t){if(t=t||{},this.element){if("undefined"!=typeof window){var e=window.getComputedStyle(this.element.parentNode,null),n=parseInt(e.getPropertyValue("width"),10);if(!t.auto)var i=parseInt(e.getPropertyValue("height"),10)}this.width=t.width||n||this.graph.width*this.berthRate,this.height=t.height||i||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var r=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*r+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var t=this._drawAxis(this.graph.y);this._drawGrid(t),this._renderHeight=this.graph.height},_drawAxis:function(e){var n=t.svg.axis().scale(e).orient(this.orientation);if(n.tickFormat(this.tickFormat),this.tickValues&&n.tickValues(this.tickValues),"left"==this.orientation)var i=this.height*this.berthRate,r="translate("+this.width+", "+i+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",r).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),n},_drawGrid:function(t){var e=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(e)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),e.namespace("Rickshaw.Graph.Axis.Y.Scaled"),e.Graph.Axis.Y.Scaled=e.Class.create(e.Graph.Axis.Y,{initialize:function(t,e){if(void 0===e.scale)throw new Error("Scaled requires scale");this.scale=e.scale,void 0===e.grid?this.grid=!0:this.grid=e.grid,t(e)},_drawAxis:function(e,n){var i=this.scale.domain(),r=this.graph.renderer.domain().y,o=[Math.min.apply(Math,i),Math.max.apply(Math,i)],s=t.scale.linear().domain([0,1]).range(o),a=[s(r[0]),s(r[1])],l=t.scale.linear().domain(o).range(a);return e(this.scale.copy().domain(i.map(l)).range(n.range()))},_drawGrid:function(t,e){this.grid&&t(e)}}),e.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),e.Graph.Behavior.Series.Highlight=function(e){this.graph=e.graph,this.legend=e.legend;var n=this,i={},r=null,o=e.disabledColor||function(e){return t.interpolateRgb(e,t.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(t){t.element.addEventListener("mouseover",function(e){r||(r=t,n.legend.lines.forEach(function(e){if(t!==e)i[e.series.name]=i[e.series.name]||e.series.color,e.series.color=o(e.series.color);else if(n.graph.renderer.unstack&&(!e.series.renderer||e.series.renderer.unstack)){var r=n.graph.series.indexOf(e.series);e.originalIndex=r;var s=n.graph.series.splice(r,1)[0];n.graph.series.push(s)}}),n.graph.update())},!1),t.element.addEventListener("mouseout",function(e){r&&(r=null,n.legend.lines.forEach(function(e){if(t===e&&e.hasOwnProperty("originalIndex")){var r=n.graph.series.pop();n.graph.series.splice(e.originalIndex,0,r),delete e.originalIndex}i[e.series.name]&&(e.series.color=i[e.series.name])}),n.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(t){n.addHighlightEvents(t)})},e.namespace("Rickshaw.Graph.Behavior.Series.Order"),e.Graph.Behavior.Series.Order=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if(void 0===window.jQuery)throw"couldn't find jQuery at window.jQuery";if(void 0===window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";jQuery(function(){jQuery(e.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(t,n){var i=[];jQuery(e.legend.list).find("li").each(function(t,e){e.series&&i.push(e.series)});for(var r=e.graph.series.length-1;r>=0;r--)e.graph.series[r]=i.shift();e.graph.update()}}),jQuery(e.legend.list).disableSelection()}),this.graph.onUpdate(function(){var t=window.getComputedStyle(e.legend.element).height;e.legend.element.style.height=t})},e.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),e.Graph.Behavior.Series.Toggle=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if(this.addAnchor=function(t){var n=document.createElement("a");n.innerHTML="&#10004;",n.classList.add("action"),t.element.insertBefore(n,t.element.firstChild),n.onclick=function(e){if(t.series.disabled)t.series.enable(),t.element.classList.remove("disabled");else{if(this.graph.series.filter(function(t){return!t.disabled}).length<=1)return;t.series.disable(),t.element.classList.add("disabled")}}.bind(this),t.element.getElementsByTagName("span")[0].onclick=function(n){var i=t.series.disabled;if(!i)for(var r=0;r<e.legend.lines.length;r++){var o=e.legend.lines[r];if(t.series===o.series);else if(!o.series.disabled){i=!0;break}}i?(t.series.enable(),t.element.classList.remove("disabled"),e.legend.lines.forEach(function(e){t.series===e.series||(e.series.disable(),e.element.classList.add("disabled"))})):e.legend.lines.forEach(function(t){t.series.enable(),t.element.classList.remove("disabled")})}},this.legend){var n=jQuery;void 0!==n&&n(this.legend.list).sortable&&n(this.legend.list).sortable({start:function(t,e){e.item.bind("no.onclick",function(t){t.preventDefault()})},stop:function(t,e){setTimeout(function(){e.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(t){e.addAnchor(t)})}this._addBehavior=function(){this.graph.series.forEach(function(t){t.disable=function(){if(e.graph.series.length<=1)throw"only one series left";t.disabled=!0,e.graph.update()},t.enable=function(){t.disabled=!1,e.graph.update()}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},e.namespace("Rickshaw.Graph.HoverDetail"),e.Graph.HoverDetail=e.Class.create({initialize:function(t){var e=this.graph=t.graph;this.xFormatter=t.xFormatter||function(t){return new Date(1e3*t).toUTCString()},this.yFormatter=t.yFormatter||function(t){return null===t?t:t.toFixed(2)};var n=this.element=document.createElement("div");n.className="detail",this.visible=!0,e.element.appendChild(n),this.lastEvent=null,this._addListeners(),this.onShow=t.onShow,this.onHide=t.onHide,this.onRender=t.onRender,this.formatter=t.formatter||this.formatter},formatter:function(t,e,n,i,r,o){return t.name+":&nbsp;"+r},update:function(e){if((e=e||this.lastEvent)&&(this.lastEvent=e,e.target.nodeName.match(/^(path|svg|rect|circle)$/))){var n,i=this.graph,r=e.offsetX||e.layerX,o=e.offsetY||e.layerY,s=0,a=[];if(this.graph.series.active().forEach(function(e){var l=this.graph.stackedData[s++];if(l.length){var c=i.x.invert(r),u=t.scale.linear().domain([l[0].x,l.slice(-1)[0].x]).range([0,l.length-1]),h=Math.round(u(c));h==l.length-1&&h--;for(var d=Math.min(h||0,l.length-1),f=h;f<l.length-1&&(l[f]&&l[f+1]);){if(l[f].x<=c&&l[f+1].x>c){d=Math.abs(c-l[f].x)<Math.abs(c-l[f+1].x)?f:f+1;break}l[f+1].x<=c?f++:f--}d<0&&(d=0);var p=l[d],g=Math.sqrt(Math.pow(Math.abs(i.x(p.x)-r),2)+Math.pow(Math.abs(i.y(p.y+p.y0)-o),2)),m=e.xFormatter||this.xFormatter,v=e.yFormatter||this.yFormatter,y={formattedXValue:m(p.x),formattedYValue:v(e.scale?e.scale.invert(p.y):p.y),series:e,value:p,distance:g,order:s,name:e.name};(!n||g<n.distance)&&(n=y),a.push(y)}},this),n){n.active=!0;var l=n.value.x,c=n.formattedXValue;this.element.innerHTML="",this.element.style.left=i.x(l)+"px",this.visible&&this.render({points:a,detail:a,mouseX:r,mouseY:o,formattedXValue:c,domainX:l})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(t){var e=this.graph,n=t.points.filter(function(t){return t.active}).shift();if(null!==n.value.y){var i=n.formattedXValue,r=n.formattedYValue;this.element.innerHTML="",this.element.style.left=e.x(n.value.x)+"px";var o=document.createElement("div");o.className="x_label",o.innerHTML=i,this.element.appendChild(o);var s=document.createElement("div");s.className="item";var a=n.series,l=a.scale?a.scale.invert(n.value.y):n.value.y;s.innerHTML=this.formatter(a,n.value.x,l,i,r,n),s.style.top=this.graph.y(n.value.y0+n.value.y)+"px",this.element.appendChild(s);var c=document.createElement("div");c.className="dot",c.style.top=s.style.top,c.style.borderColor=a.color,this.element.appendChild(c),n.active&&(s.classList.add("active"),c.classList.add("active"));var u=[o,s];u.forEach(function(t){t.classList.add("left")}),this.show();var h=this._calcLayoutError(u);h>0&&(u.forEach(function(t){t.classList.remove("left"),t.classList.add("right")}),this._calcLayoutError(u)>h&&u.forEach(function(t){t.classList.remove("right"),t.classList.add("left")})),"function"==typeof this.onRender&&this.onRender(t)}},_calcLayoutError:function(t){var e=this.element.parentNode.getBoundingClientRect(),n=0;t.forEach(function(t){var i=t.getBoundingClientRect();i.width&&(i.right>e.right&&(n+=i.right-e.right),i.left<e.left&&(n+=e.left-i.left))});return n},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(t){this.visible=!0,this.update(t)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(t){!t.relatedTarget||t.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),e.namespace("Rickshaw.Graph.JSONP"),e.Graph.JSONP=e.Class.create(e.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),e.namespace("Rickshaw.Graph.Legend"),e.Graph.Legend=e.Class.create({className:"rickshaw_legend",initialize:function(t){this.element=t.element,this.graph=t.graph,this.naturalOrder=t.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var t=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var e=this.graph.series.map(function(t){return t});this.naturalOrder||(e=e.reverse()),e.forEach(function(e){t.addLine(e)})},addLine:function(e){var n=document.createElement("li");n.className="line",e.disabled&&(n.className+=" disabled"),e.className&&t.select(n).classed(e.className,!0);var i=document.createElement("div");i.className="swatch",i.style.backgroundColor=e.color,n.appendChild(i);var r=document.createElement("span");r.className="label",r.innerHTML=e.name,n.appendChild(r),this.list.appendChild(n),n.series=e,e.noLegend&&(n.style.display="none");var o={element:n,series:e};return this.shelving&&(this.shelving.addAnchor(o),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(o),this.lines.push(o),n}}),e.namespace("Rickshaw.Graph.RangeSlider"),e.Graph.RangeSlider=e.Class.create({initialize:function(t){this.element=t.element;var e=this.graph=t.graph;this.slideCallbacks=[],this.build(),e.onUpdate(function(){this.update()}.bind(this))},build:function(){var t=this.element,e=this.graph,n=jQuery,i=e.dataDomain(),r=this;n(function(){n(t).slider({range:!0,min:i[0],max:i[1],values:[i[0],i[1]],slide:function(t,n){if(!(n.values[1]<=n.values[0])){e.window.xMin=n.values[0],e.window.xMax=n.values[1],e.update();var i=e.dataDomain();i[0]==n.values[0]&&(e.window.xMin=void 0),i[1]==n.values[1]&&(e.window.xMax=void 0),r.slideCallbacks.forEach(function(t){t(e,e.window.xMin,e.window.xMax)})}}})}),n(t)[0].style.width=e.width+"px"},update:function(){var t=this.element,e=this.graph,n=jQuery,i=n(t).slider("option","values"),r=e.dataDomain();n(t).slider("option","min",r[0]),n(t).slider("option","max",r[1]),null==e.window.xMin&&(i[0]=r[0]),null==e.window.xMax&&(i[1]=r[1]),n(t).slider("option","values",i)},onSlide:function(t){this.slideCallbacks.push(t)}}),e.namespace("Rickshaw.Graph.RangeSlider.Preview"),e.Graph.RangeSlider.Preview=e.Class.create({initialize:function(e){if(!e.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!e.graph&&!e.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=e.element,this.element.style.position="relative",this.graphs=e.graph?[e.graph]:e.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=e.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=t.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],e.width||(this.widthFromGraph=!0),e.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(e),this.render()}.bind(this)),e.width=e.width||this.graphs[0].width||this.defaults.width,e.height=e.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(e),this.render()},onSlide:function(t){this.slideCallbacks.push(t)},onConfigure:function(t){this.configureCallbacks.push(t)},configure:function(t){this.config=this.config||{},this.configureCallbacks.forEach(function(e){e(t)}),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this.config?this.config[e]:this.defaults[e]},this),("width"in t||"height"in t)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(t){var e=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,n=this.config.width-2*this.config.frameHandleThickness;if(t.setSize({width:n,height:e}),this.svg){var i=e+2*this.config.frameHandleThickness,r=n+2*this.config.frameHandleThickness;this.svg.style("width",r+"px"),this.svg.style("height",i+"px")}},this))},render:function(){var n=this;this.svg=t.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var i=t.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),r="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";i.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",r).style("-moz-transform",r).style("-ms-transform",r).style("transform",r).each(function(t,i){var r=e.extend({},t.config),o=n.previewHeight/n.graphs.length,s=t.renderer.name;e.extend(r,{element:this.appendChild(document.createElement("div")),height:o,width:n.previewWidth,series:t.series,renderer:s});var a=new e.Graph(r);n.previews.push(a),t.onUpdate(function(){a.render(),n.render()}),t.onConfigure(function(t){delete t.height,t.width=t.width-2*n.config.frameHandleThickness,a.configure(t),a.render()}),a.render()}),i.exit().remove();var o=this.graphs[0],s=t.scale.linear().domain([0,this.previewWidth]).range(o.dataDomain()),a=[o.window.xMin,o.window.xMax];this.currentFrame[0]=void 0===a[0]?0:Math.round(s.invert(a[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===a[1]?this.previewWidth:s.invert(a[1]),this.currentFrame[1]-this.currentFrame[0]<n.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+n.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var t=this.svg.selectAll("path.dimming").data([null]);t.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var e="";e+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,e+=" h "+this.previewWidth,e+=" v "+this.previewHeight,e+=" h "+-this.previewWidth,e+=" z ",e+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderFrame:function(){var t=this.svg.selectAll("path.frame").data([null]);t.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var e="";e+=" M "+this.currentFrame[0]+" 0",e+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),e+=" V "+this.config.height,e+=" H "+this.currentFrame[0],e+=" z",e+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderGrippers:function(){var t=this.svg.selectAll("path.gripper").data([null]);t.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var e="";[.4,.6].forEach(function(t){e+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*t)+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height),e+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+t))+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height)}.bind(this)),t.attr("d",e)},_renderHandles:function(){var t=this.svg.selectAll("rect.left_handle").data([null]);t.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),t.attr("x",this.currentFrame[0]).attr("height",this.config.height);var e=this.svg.selectAll("rect.right_handle").data([null]);e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),e.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var t=this.svg.selectAll("rect.middle_handle").data([null]);t.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),t.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function e(e,n){l.stop=c._getClientXFromEvent(t.event,l);var i=l.stop-l.start,r=c.frameBeforeDrag.slice(0),o=c.config.minimumFrameWidth;l.rigid&&(o=c.frameBeforeDrag[1]-c.frameBeforeDrag[0]),l.left&&(r[0]=Math.max(r[0]+i,0)),l.right&&(r[1]=Math.min(r[1]+i,c.previewWidth)),r[1]-r[0]<=o&&(l.left&&(r[0]=r[1]-o),l.right&&(r[1]=r[0]+o),r[0]<=0&&(r[1]-=r[0],r[0]=0),r[1]>=c.previewWidth&&(r[0]-=r[1]-c.previewWidth,r[1]=c.previewWidth)),c.graphs.forEach(function(e){var n=t.scale.linear().interpolate(t.interpolateNumber).domain([0,c.previewWidth]).range(e.dataDomain()),i=[n(r[0]),n(r[1])];c.slideCallbacks.forEach(function(t){t(e,i[0],i[1])}),0===r[0]&&(i[0]=void 0),r[1]===c.previewWidth&&(i[1]=void 0),e.window.xMin=i[0],e.window.xMax=i[1],e.update()})}function n(){l.target=t.event.target,l.start=c._getClientXFromEvent(t.event,l),c.frameBeforeDrag=c.currentFrame.slice(),t.event.preventDefault?t.event.preventDefault():t.event.returnValue=!1,t.select(document).on("mousemove.rickshaw_range_slider_preview",e),t.select(document).on("mouseup.rickshaw_range_slider_preview",s),t.select(document).on("touchmove.rickshaw_range_slider_preview",e),t.select(document).on("touchend.rickshaw_range_slider_preview",s),t.select(document).on("touchcancel.rickshaw_range_slider_preview",s)}function i(t,e){l.left=!0,n()}function r(t,e){l.right=!0,n()}function o(t,e){l.left=!0,l.right=!0,l.rigid=!0,n()}function s(e,n){t.select(document).on("mousemove.rickshaw_range_slider_preview",null),t.select(document).on("mouseup.rickshaw_range_slider_preview",null),t.select(document).on("touchmove.rickshaw_range_slider_preview",null),t.select(document).on("touchend.rickshaw_range_slider_preview",null),t.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete c.frameBeforeDrag,l.left=!1,l.right=!1,l.rigid=!1}var a=t.select(this.element),l={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},c=this;a.select("rect.left_handle").on("mousedown",i),a.select("rect.right_handle").on("mousedown",r),a.select("rect.middle_handle").on("mousedown",o),a.select("rect.left_handle").on("touchstart",i),a.select("rect.right_handle").on("touchstart",r),a.select("rect.middle_handle").on("touchstart",o)},_getClientXFromEvent:function(t,e){switch(t.type){case"touchstart":case"touchmove":for(var n=t.changedTouches,i=null,r=0;r<n.length;r++)if(n[r].target===e.target){i=n[r];break}return null!==i?i.clientX:void 0;default:return t.clientX}}}),e.namespace("Rickshaw.Graph.Renderer"),e.Graph.Renderer=e.Class.create({initialize:function(t){this.graph=t.graph,this.tension=t.tension||this.tension,this.configure(t)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1}},domain:function(t){var e=1/0,n=-1/0,i=1/0,r=-1/0;return(t||this.graph.stackedData||this.graph.stackData()).forEach(function(t){t.forEach(function(t){if(null!=t.y){var e=t.y+t.y0;e<i&&(i=e),e>r&&(r=e)}}),t.length&&(t[0].x<e&&(e=t[0].x),t[t.length-1].x>n&&(n=t[t.length-1].x))}),e-=(n-e)*this.padding.left,n+=(n-e)*this.padding.right,i="auto"===this.graph.min?i:this.graph.min||0,r=void 0===this.graph.max?r:this.graph.max,("auto"===this.graph.min||i<0)&&(i-=(r-i)*this.padding.bottom),void 0===this.graph.max&&(r+=(r-i)*this.padding.top),{x:[e,n],y:[i,r]}},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=i.selectAll("path.path").data(r).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var s=i.selectAll("path.stroke").data(r).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var a=0;n.forEach(function(t){t.disabled||(t.path=o[0][a],this.stroke&&(t.stroke=s[0][a]),this._styleSeries(t),a++)},this)},_styleSeries:function(e){var n=this.fill?e.color:"none",i=this.stroke?e.color:"none";e.path.setAttribute("fill",n),e.path.setAttribute("stroke",i),e.path.setAttribute("stroke-width",this.strokeWidth),e.className&&t.select(e.path).classed(e.className,!0),e.className&&this.stroke&&t.select(e.stroke).classed(e.className,!0)},configure:function(t){t=t||{},e.keys(this.defaults()).forEach(function(n){t.hasOwnProperty(n)?"object"==typeof this.defaults()[n]?e.keys(this.defaults()[n]).forEach(function(e){this[n][e]=void 0!==t[n][e]?t[n][e]:void 0!==this[n][e]?this[n][e]:this.defaults()[n][e]},this):this[n]=void 0!==t[n]?t[n]:void 0!==this[n]?this[n]:void 0!==this.graph[n]?this.graph[n]:this.defaults()[n]:this[n]=this[n]||this.graph[n]||this.defaults()[n]},this)},setStrokeWidth:function(t){void 0!==t&&(this.strokeWidth=t)},setTension:function(t){void 0!==t&&(this.tension=t)}}),e.namespace("Rickshaw.Graph.Renderer.Line"),e.Graph.Renderer.Line=e.Class.create(e.Graph.Renderer,{name:"line",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Stack"),e.Graph.Renderer.Stack=e.Class.create(e.Graph.Renderer,{name:"stack",defaults:function(t){return e.extend(t(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Bar"),e.Graph.Renderer.Bar=e.Class.create(e.Graph.Renderer,{name:"bar",defaults:function(t){var n=e.extend(t(),{gapSize:.05,unstack:!1});return delete n.tension,n},initialize:function(t,e){e=e||{},this.gapSize=e.gapSize||this.gapSize,t(e)},domain:function(t){var e=t(),n=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return e.x[1]+=Number(n.magnitude),e},barWidth:function(t){var e=this._frequentInterval(t.stack);return this.graph.x.magnitude(e.magnitude)*(1-this.gapSize)},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=this.barWidth(n.active()[0]),o=0,s=n.filter(function(t){return!t.disabled}).length,a=this.unstack?r/s:r,l=function(t){return"matrix("+[1,0,0,t.y<0?-1:1,0,t.y<0?2*e.y.magnitude(Math.abs(t.y)):0].join(",")+")"};n.forEach(function(t){if(!t.disabled){this.barWidth(t);var n=i.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:rect").attr("x",function(t){return e.x(t.x)+o}).attr("y",function(t){return e.y(t.y0+Math.abs(t.y))*(t.y<0?-1:1)}).attr("width",a).attr("height",function(t){return e.y.magnitude(Math.abs(t.y))}).attr("transform",l);Array.prototype.forEach.call(n[0],function(e){e.setAttribute("fill",t.color)}),this.unstack&&(o+=a)}},this)},_frequentInterval:function(t){for(var n={},i=0;i<t.length-1;i++){var r=t[i+1].x-t[i].x;n[r]=n[r]||0,n[r]++}var o={count:0,magnitude:1};return e.keys(n).forEach(function(t){o.count<n[t]&&(o={count:n[t],magnitude:t})}),o}}),e.namespace("Rickshaw.Graph.Renderer.Area"),e.Graph.Renderer.Area=e.Class.create(e.Graph.Renderer,{name:"area",defaults:function(t){return e.extend(t(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},seriesStrokeFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=this.unstack?"append":"insert",o=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),s=i.selectAll("path").data(o).enter()[r]("svg:g","g");s.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&s.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var a=0;n.forEach(function(t){t.disabled||(t.path=s[0][a++],this._styleSeries(t))},this)},_styleSeries:function(e){e.path&&(t.select(e.path).select(".area").attr("fill",e.color),this.stroke&&t.select(e.path).select(".line").attr("fill","none").attr("stroke",e.stroke||t.interpolateRgb(e.color,"black")(.125)).attr("stroke-width",this.strokeWidth),e.className&&e.path.setAttribute("class",e.className))}}),e.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),e.Graph.Renderer.ScatterPlot=e.Class.create(e.Graph.Renderer,{name:"scatterplot",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function(t,e){t(e)},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis,r=this.dotSize;i.selectAll("*").remove(),n.forEach(function(t){if(!t.disabled){var n=i.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:r});t.className&&n.classed(t.className,!0),Array.prototype.forEach.call(n[0],function(e){e.setAttribute("fill",t.color)})}},this)}}),e.namespace("Rickshaw.Graph.Renderer.Multi"),e.Graph.Renderer.Multi=e.Class.create(e.Graph.Renderer,{name:"multi",initialize:function(t,e){t(e)},defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0})},configure:function(t,e){e=e||{},this.config=e,t(e)},domain:function(e){this.graph.stackData();var n=[],i=this._groups();return this._stack(i),i.forEach(function(t){var i=t.series.filter(function(t){return!t.disabled}).map(function(t){return t.stack});if(i.length){var r=null;r=t.renderer&&t.renderer.domain?t.renderer.domain(i):e(i),n.push(r)}}),{x:[t.min(n.map(function(t){return t.x[0]})),t.max(n.map(function(t){return t.x[1]}))],y:[t.min(n.map(function(t){return t.y[0]})),t.max(n.map(function(t){return t.y[1]}))]}},_groups:function(){var n=this.graph,i={};n.series.forEach(function(r){if(!r.disabled){if(!i[r.renderer]){var o=document.createElementNS("http://www.w3.org/2000/svg","g");n.vis[0][0].appendChild(o);var s=n._renderers[r.renderer],a={};[this.defaults(),s.defaults(),this.config,this.graph].forEach(function(t){e.extend(a,t)}),s.configure(a),i[r.renderer]={renderer:s,series:[],vis:t.select(o)}}i[r.renderer].series.push(r)}},this);var r=[];return Object.keys(i).forEach(function(t){var e=i[t];r.push(e)}),r},_stack:function(n){return n.forEach(function(n){var i=n.series.filter(function(t){return!t.disabled}),r=i.map(function(t){return t.stack});if(!n.renderer.unstack){var o=t.layout.stack(),s=e.clone(o(r));i.forEach(function(t,n){t._stack=e.clone(s[n])})}},this),n},render:function(){this.graph.series.forEach(function(t){if(!t.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var t=this._groups();(t=this._stack(t)).forEach(function(t){var e=t.series.filter(function(t){return!t.disabled});e.active=function(){return e},t.renderer.render({series:e,vis:t.vis}),e.forEach(function(t){t.stack=t._stack||t.stack||t.data})})}}),e.namespace("Rickshaw.Graph.Renderer.LinePlot"),e.Graph.Renderer.LinePlot=e.Class.create(e.Graph.Renderer,{name:"lineplot",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis,r=this.dotSize;i.selectAll("*").remove();var o=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),s=i.selectAll("path").data(o).enter().append("svg:path").attr("d",this.seriesPathFactory()),a=0;n.forEach(function(t){t.disabled||(t.path=s[0][a++],this._styleSeries(t))},this),n.forEach(function(t){if(!t.disabled){var n=i.selectAll("x").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:r});Array.prototype.forEach.call(n[0],function(e){e&&(e.setAttribute("data-color",t.color),e.setAttribute("fill","white"),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),e.namespace("Rickshaw.Graph.Smoother"),e.Graph.Smoother=e.Class.create({initialize:function(t){this.graph=t.graph,this.element=t.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var t=this,e=jQuery;this.element&&e(function(){e(t.element).slider({min:1,max:100,slide:function(e,n){t.setScale(n.value),t.graph.update()}})})},setScale:function(t){if(t<1)throw"scale out of range: "+t;this.aggregationScale=t,this.graph.update()},transformer:function(t){if(1==this.aggregationScale)return t;var e=[];return t.forEach(function(t){for(var n=[];t.length;){var i=0,r=0,o=t.splice(0,this.aggregationScale);o.forEach(function(t){i+=t.x/o.length,r+=t.y/o.length}),n.push({x:i,y:r})}e.push(n)}.bind(this)),e}}),e.namespace("Rickshaw.Graph.Socketio"),e.Graph.Socketio=e.Class.create(e.Graph.Ajax,{request:function(){var t=this;io.connect(this.dataURL).on("rickshaw",function(e){t.success(e)})}}),e.namespace("Rickshaw.Series"),e.Series=e.Class.create(Array,{initialize:function(t,n,i){i=i||{},this.palette=new e.Color.Palette(n),this.timeBase=void 0===i.timeBase?Math.floor((new Date).getTime()/1e3):i.timeBase;var r=void 0===i.timeInterval?1e3:i.timeInterval;this.setTimeInterval(r),t&&"object"==typeof t&&Array.isArray(t)&&t.forEach(function(t){this.addItem(t)},this)},addItem:function(t){if(void 0===t.name)throw"addItem() needs a name";t.color=t.color||this.palette.color(t.name),t.data=t.data||[],0===t.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(e){t.data.push({x:e.x,y:0})}):0===t.data.length&&t.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},addData:function(t,n){var i=this.getIndex();e.keys(t).forEach(function(t){this.itemByName(t)||this.addItem({name:t})},this),this.forEach(function(e){e.data.push({x:n||(i*this.timeInterval||1)+this.timeBase,y:t[e.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return this[e]},setTimeInterval:function(t){this.timeInterval=t/1e3},setTimeBase:function(t){this.timeBase=t},dump:function(){var t={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(e){var n={color:e.color,name:e.name,data:[]};e.data.forEach(function(t){n.data.push({x:t.x,y:t.y})}),t.items.push(n)}),t},load:function(t){t.timeInterval&&(this.timeInterval=t.timeInterval),t.timeBase&&(this.timeBase=t.timeBase),t.items&&t.items.forEach(function(t){this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},this)}}),e.Series.zeroFill=function(t){e.Series.fill(t,0)},e.Series.fill=function(t,e){for(var n,i=0,r=t.map(function(t){return t.data});i<Math.max.apply(null,r.map(function(t){return t.length}));)n=Math.min.apply(null,r.filter(function(t){return t[i]}).map(function(t){return t[i].x})),r.forEach(function(t){t[i]&&t[i].x==n||t.splice(i,0,{x:n,y:e})}),i++},e.namespace("Rickshaw.Series.FixedDuration"),e.Series.FixedDuration=e.Class.create(e.Series,{initialize:function(t,n,i){if(void 0===(i=i||{}).timeInterval)throw new Error("FixedDuration series requires timeInterval");if(void 0===i.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new e.Color.Palette(n),this.timeBase=void 0===i.timeBase?Math.floor((new Date).getTime()/1e3):i.timeBase,this.setTimeInterval(i.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=i.maxDataPoints,t&&"object"==typeof t&&Array.isArray(t)&&(t.forEach(function(t){this.addItem(t)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,void 0!==this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var r=this.maxDataPoints-this.currentSize-1;r>1;r--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(t){t.data.unshift({x:((r-1)*this.timeInterval||1)+this.timeBase,y:0,i:r})},this)},addData:function(t,e,n){if(t(e,n),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(t){t.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),e}),function(t,e,n){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(function(i){"use strict";var r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w,x,_,C,S,k,E,T,A,M,N,D,I,L,P={},O=0;r=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:n,normalRangeMax:n,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:n,chartRangeMax:n,chartRangeMinX:n,chartRangeMaxX:n,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:n,nullColor:n,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:n,chartRangeMin:n,chartRangeClip:!1,colorMap:n,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:n,thresholdValue:0,chartRangeMax:n,chartRangeMin:n,chartRangeClip:!1,tooltipFormat:new s("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:n,tooltipFormat:new s("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:n,targetColor:"#4a2",chartRangeMax:n,chartRangeMin:n,tooltipFormat:new s("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},A='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',o=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=i.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&((e=Array.prototype.slice.call(arguments,1,-1)).unshift(t.prototype),i.extend.apply(i,e))):t.prototype=arguments[0],t.prototype.cls=t,t},i.SPFormatClass=s=o({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var r,o,s,a,l,c=this,u=t;return this.format.replace(this.fre,function(){return o=arguments[1],s=arguments[3],(r=c.precre.exec(o))?(l=r[2],o=r[1]):l=!1,(a=u[o])===n?"":s&&e&&e[s]?e[s].get?e[s].get(a)||a:e[s][a]||a:(d(a)&&(a=i.get("numberFormatter")?i.get("numberFormatter")(a):m(a,l,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),a)})}}),i.spformat=function(t,e){return new s(t,e)},a=function(t,e,n){return e>t?e:t>n?n:t},l=function(t,n){var i;return 2===n?(i=e.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*n+n)/4)%1?(t[e.floor(i)]+t[e.floor(i)-1])/2:t[i-1]:(i=(t.length*n+2)/4)%1?(t[e.floor(i)]+t[e.floor(i)-1])/2:t[i-1]},c=function(t){var e;switch(t){case"undefined":t=n;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(e=parseFloat(t))&&(t=e)}return t},u=function(t){var e,n=[];for(e=t.length;e--;)n[e]=c(t[e]);return n},h=function(t,e){var n,i,r=[];for(n=0,i=t.length;i>n;n++)t[n]!==e&&r.push(t[n]);return r},d=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},m=function(t,e,n,r,o){var s,a;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),(s=(s=i.inArray(".",t))<0?t.length:s)<t.length&&(t[s]=o),a=s-n;a>0;a-=n)t.splice(a,0,r);return t.join("")},f=function(t,e,n){var i;for(i=e.length;i--;)if((!n||null!==e[i])&&e[i]!==t)return!1;return!0},g=function(t){return i.isArray(t)?t:[t]},p=function(e){var n;t.createStyleSheet?t.createStyleSheet().cssText=e:(n=t.createElement("style"),n.type="text/css",t.getElementsByTagName("head")[0].appendChild(n),n["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},i.fn.simpledraw=function(e,r,o,s){var a,l;if(o&&(a=this.data("_jqs_vcanvas")))return a;if(!1===i.fn.sparkline.canvas)return!1;if(i.fn.sparkline.canvas===n){var c=t.createElement("canvas");if(c.getContext&&c.getContext("2d"))i.fn.sparkline.canvas=function(t,e,n,i){return new D(t,e,n,i)};else{if(!t.namespaces||t.namespaces.v)return i.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),i.fn.sparkline.canvas=function(t,e,n){return new I(t,e,n)}}}return e===n&&(e=i(this).innerWidth()),r===n&&(r=i(this).innerHeight()),a=i.fn.sparkline.canvas(e,r,this,s),(l=i(this).data("_jqs_mhandler"))&&l.registerCanvas(a),a},i.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},i.RangeMapClass=v=o({init:function(t){var e,n,i=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(n=e.split(":"),n[0]=0===n[0].length?-1/0:parseFloat(n[0]),n[1]=0===n[1].length?1/0:parseFloat(n[1]),n[2]=t[e],i.push(n));this.map=t,this.rangelist=i||!1},get:function(t){var e,i,r,o=this.rangelist;if((r=this.map[t])!==n)return r;if(o)for(e=o.length;e--;)if((i=o[e])[0]<=t&&i[1]>=t)return i[2];return n}}),i.range_map=function(t){return new v(t)},y=o({init:function(t,e){var n=i(t);this.$el=n,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=i(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(i.proxy(this.mouseenter,this)),e.mouseleave(i.proxy(this.mouseleave,this)),e.click(i.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=n)},mouseclick:function(t){var e=i.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){i(t.body).unbind("mousemove.jqs"),i(t.body).bind("mousemove.jqs",i.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new b(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){i(t.body).unbind("mousemove.jqs");var e,n=this.splist,r=n.length,o=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),e=0;r>e;e++)n[e].clearRegionHighlight()&&(o=!0);o&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,n,r,o,s=this.splist,a=s.length,l=!1,c=this.$canvas.offset(),u=this.currentPageX-c.left,h=this.currentPageY-c.top;if(this.over){for(n=0;a>n;n++)e=s[n],(r=e.setRegionHighlight(this.currentEl,u,h))&&(l=!0);if(l){if(o=i.Event("sparklineRegionChange"),o.sparklines=this.splist,this.$el.trigger(o),this.tooltip){for(t="",n=0;a>n;n++)e=s[n],t+=e.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===r&&this.mouseleave()}}}),b=o({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;padding: 5px 5px 15px 5px;min-height: 30px;min-width: 30px;",init:function(e){var n,r=e.get("tooltipClassname","jqstooltip"),o=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),i("#jqssizetip").remove(),i("#jqstooltip").remove(),this.sizetip=i("<div/>",{id:"jqssizetip",style:o,class:r}),this.tooltip=i("<div/>",{id:"jqstooltip",class:r}).appendTo(this.container),n=this.tooltip.offset(),this.offsetLeft=n.left,this.offsetTop=n.top,this.hidden=!0,i(window).unbind("resize.jqs scroll.jqs"),i(window).bind("resize.jqs scroll.jqs",i.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=i(window).scrollTop(),this.scrollLeft=i(window).scrollLeft(),this.scrollRight=this.scrollLeft+i(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+12,this.height=this.sizetip.height()+12,this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(t,e){if(t===n){if(this.mousex===n)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=n,i(window).unbind("resize.jqs scroll.jqs")}}),i(function(){p(A)}),L=[],i.fn.sparkline=function(e,r){return this.each(function(){var o,s,a=new i.fn.sparkline.options(this,r),l=i(this);if(o=function(){var r,o,s,c,u,h,d;return"html"===e||e===n?(((d=this.getAttribute(a.get("tagValuesAttribute")))===n||null===d)&&(d=l.html()),r=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):r=e,o="auto"===a.get("width")?r.length*a.get("defaultPixelsPerValue"):a.get("width"),"auto"===a.get("height")?a.get("composite")&&i.data(this,"_jqs_vcanvas")||(c=t.createElement("span"),c.innerHTML="a",l.html(c),s=i(c).innerHeight()||i(c).height(),i(c).remove(),c=null):s=a.get("height"),a.get("disableInteraction")?u=!1:(u=i.data(this,"_jqs_mhandler"))?a.get("composite")||u.reset():(u=new y(this,a),i.data(this,"_jqs_mhandler",u)),a.get("composite")&&!i.data(this,"_jqs_vcanvas")?void(i.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),i.data(this,"_jqs_errnotify",!0))):((h=new(i.fn.sparkline[a.get("type")])(this,r,a,o,s)).render(),void(u&&u.registerSparkline(h)))},i(this).html()&&!a.get("disableHiddenCheck")&&i(this).is(":hidden")||!i(this).parents("body").length){if(!a.get("composite")&&i.data(this,"_jqs_pending"))for(s=L.length;s;s--)L[s-1][0]==this&&L.splice(s-1,1);L.push([this,o]),i.data(this,"_jqs_pending",!0)}else o.call(this)})},i.fn.sparkline.defaults=r(),i.sparkline_display_visible=function(){var t,e,n,r=[];for(e=0,n=L.length;n>e;e++)t=L[e][0],i(t).is(":visible")&&!i(t).parents().is(":hidden")?(L[e][1].call(t),i.data(L[e][0],"_jqs_pending",!1),r.push(e)):!i(t).closest("html").length&&!i.data(t,"_jqs_pending")&&(i.data(L[e][0],"_jqs_pending",!1),r.push(e));for(e=r.length;e;e--)L.splice(r[e-1],1)},i.fn.sparkline.options=o({init:function(t,e){var n,r,o,s;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},o=(r=i.fn.sparkline.defaults).common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||o.tagOptionsPrefix),n=(s=this.getTagSetting("type"))===P?r[e.type||o.type]:r[s],this.mergedOptions=i.extend({},o,n,e)},getTagSetting:function(t){var e,i,r,o,s=this.tagOptionsPrefix;if(!1===s||s===n)return P;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if((e=this.tag.getAttribute(s+t))===n||null===e)e=P;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),i=e.length;i--;)e[i]=c(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(r=e.substr(1,e.length-2).split(","),e={},i=r.length;i--;)o=r[i].split(":",2),e[o[0].replace(/(^\s*)|(\s*$)/g,"")]=c(o[1].replace(/(^\s*)|(\s*$)/g,""));else e=c(e);this.tagValCache.key=e}return e},get:function(t,e){var i,r=this.getTagSetting(t);return r!==P?r:(i=this.mergedOptions[t])===n?e:i}}),i.fn.sparkline._base=o({disabled:!1,init:function(t,e,r,o,s){this.el=t,this.$el=i(t),this.values=e,this.options=r,this.width=o,this.height=s,this.currentRegion=n},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(){},setRegionHighlight:function(t,e,i){var r,o=this.currentRegion,s=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||0>e||0>i?null:(r=this.getRegion(t,e,i),o!==r&&(o!==n&&s&&this.removeHighlight(),this.currentRegion=r,r!==n&&s&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return this.currentRegion!==n&&(this.removeHighlight(),this.currentRegion=n,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t,e,r,o,a,l,c,u,h,d,f,p,g,m,v=this.options,y="",b=[];if(this.currentRegion===n)return"";if(t=this.getCurrentRegionFields(),f=v.get("tooltipFormatter"))return f(this,v,t);if(v.get("tooltipChartTitle")&&(y+='<div class="jqs jqstitle">'+v.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(i.isArray(e)||(e=[e]),i.isArray(t)||(t=[t]),c=this.options.get("tooltipFormatFieldlist"),u=this.options.get("tooltipFormatFieldlistKey"),c&&u){for(h=[],l=t.length;l--;)d=t[l][u],-1!=(m=i.inArray(d,c))&&(h[m]=t[l]);t=h}for(r=e.length,g=t.length,l=0;r>l;l++)for("string"==typeof(p=e[l])&&(p=new s(p)),o=p.fclass||"jqsfield",m=0;g>m;m++)t[m].isNull&&v.get("tooltipSkipNull")||(i.extend(t[m],{prefix:v.get("tooltipPrefix"),suffix:v.get("tooltipSuffix")}),a=p.render(t[m],v.get("tooltipValueLookups"),v),b.push('<div class="'+o+'">'+a+"</div>"));return b.length?y+b.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,n){var i,r,o,s,l=n.get("highlightColor"),c=n.get("highlightLighten");if(l)return l;if(c&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(o=[],r=4===t.length?16:1,s=0;3>s;s++)o[s]=a(e.round(parseInt(i[s+1],16)*r*c),0,255);return"rgb("+o.join(",")+")"}return t}}),w={changeHighlight:function(t){var e,n=this.currentRegion,r=this.target,o=this.regionShapes[n];o&&(e=this.renderRegion(n,t),i.isArray(e)||i.isArray(o)?(r.replaceWithShapes(o,e),this.regionShapes[n]=i.map(e,function(t){return t.id})):(r.replaceWithShape(o,e),this.regionShapes[n]=e.id))},render:function(){var t,e,n,r,o=this.values,s=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(n=o.length;n--;)if(t=this.renderRegion(n))if(i.isArray(t)){for(e=[],r=t.length;r--;)t[r].append(),e.push(t[r].id);a[n]=e}else t.append(),a[n]=t.id;else a[n]=null;s.render()}}},i.fn.sparkline.line=x=o(i.fn.sparkline._base,{type:"line",init:function(t,e,n,i,r){x._super.init.call(this,t,e,n,i,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e){var i,r=this.regionMap;for(i=r.length;i--;)if(null!==r[i]&&e>=r[i][0]&&e<=r[i][1])return r[i][2];return n},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,i=this.currentRegion,r=this.target,o=this.vertices[i],s=this.options,a=s.get("spotRadius"),l=s.get("highlightSpotColor"),c=s.get("highlightLineColor");o&&(a&&l&&(t=r.drawCircle(o[0],o[1],a,n,l),this.highlightSpotId=t.id,r.insertAfterShape(this.lastShapeId,t)),c&&(e=r.drawLine(o[0],this.canvasTop,o[0],this.canvasTop+this.canvasHeight,c),this.highlightLineId=e.id,r.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,n,i,r,o,s=this.values,a=s.length,l=this.xvalues,c=this.yvalues,u=this.yminmax;for(t=0;a>t;t++)n=s[t],i="string"==typeof s[t],r="object"==typeof s[t]&&s[t]instanceof Array,o=i&&s[t].split(":"),i&&2===o.length?(l.push(Number(o[0])),c.push(Number(o[1])),u.push(Number(o[1]))):r?(l.push(n[0]),c.push(n[1]),u.push(n[1])):(l.push(t),null===s[t]||"null"===s[t]?c.push(null):(c.push(Number(n)),u.push(Number(n))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,u),this.miny=this.minyorg=e.min.apply(e,u),this.maxx=e.max.apply(e,l),this.minx=e.min.apply(e,l),this.xvalues=l,this.yvalues=c,this.yminmax=u},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");e!==n&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),t.get("chartRangeMin")!==n&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==n&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==n&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==n&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,i,r,o,s){var a=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),c=i+e.round(r-r*((l-this.miny)/s)),u=e.round(r*(l-a)/s);this.target.drawRect(t,c,o,u,n,this.options.get("normalRangeColor")).append()},render:function(){var t,r,o,s,a,l,c,u,h,d,f,p,g,m,y,b,w,_,C,S,k,E,T,A,M,N=this.options,D=this.target,I=this.canvasWidth,L=this.canvasHeight,P=this.vertices,O=N.get("spotRadius"),R=this.regionMap;if(x._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),T=this.xvalues,A=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(s=a=0,t=0==this.maxx-this.minx?1:this.maxx-this.minx,r=0==this.maxy-this.miny?1:this.maxy-this.miny,o=this.yvalues.length-1,O&&(4*O>I||4*O>L)&&(O=0),O&&(((k=N.get("highlightSpotColor")&&!N.get("disableInteraction"))||N.get("minSpotColor")||N.get("spotColor")&&A[o]===this.miny)&&(L-=e.ceil(O)),(k||N.get("maxSpotColor")||N.get("spotColor")&&A[o]===this.maxy)&&(L-=e.ceil(O),s+=e.ceil(O)),(k||(N.get("minSpotColor")||N.get("maxSpotColor"))&&(A[0]===this.miny||A[0]===this.maxy))&&(a+=e.ceil(O),I-=e.ceil(O)),(k||N.get("spotColor")||N.get("minSpotColor")||N.get("maxSpotColor")&&(A[o]===this.miny||A[o]===this.maxy))&&(I-=e.ceil(O))),L--,N.get("normalRangeMin")!==n&&!N.get("drawNormalOnTop")&&this.drawNormalRange(a,s,L,I,r),u=[c=[]],m=y=null,b=A.length,M=0;b>M;M++)h=T[M],f=T[M+1],d=A[M],p=a+e.round((h-this.minx)*(I/t)),g=b-1>M?a+e.round((f-this.minx)*(I/t)):I,y=p+(g-p)/2,R[M]=[m||0,y,M],m=y,null===d?M&&(null!==A[M-1]&&(c=[],u.push(c)),P.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),c.length||c.push([p,s+L]),l=[p,s+e.round(L-L*((d-this.miny)/r))],c.push(l),P.push(l));for(w=[],_=[],C=u.length,M=0;C>M;M++)(c=u[M]).length&&(N.get("fillColor")&&(c.push([c[c.length-1][0],s+L]),_.push(c.slice(0)),c.pop()),c.length>2&&(c[0]=[c[0][0],c[1][1]]),w.push(c));for(C=_.length,M=0;C>M;M++)D.drawShape(_[M],N.get("fillColor"),N.get("fillColor")).append();for(N.get("normalRangeMin")!==n&&N.get("drawNormalOnTop")&&this.drawNormalRange(a,s,L,I,r),C=w.length,M=0;C>M;M++)D.drawShape(w[M],N.get("lineColor"),n,N.get("lineWidth")).append();if(O&&N.get("valueSpots"))for((S=N.get("valueSpots")).get===n&&(S=new v(S)),M=0;b>M;M++)(E=S.get(A[M]))&&D.drawCircle(a+e.round((T[M]-this.minx)*(I/t)),s+e.round(L-L*((A[M]-this.miny)/r)),O,n,E).append();O&&N.get("spotColor")&&null!==A[o]&&D.drawCircle(a+e.round((T[T.length-1]-this.minx)*(I/t)),s+e.round(L-L*((A[o]-this.miny)/r)),O,n,N.get("spotColor")).append(),this.maxy!==this.minyorg&&(O&&N.get("minSpotColor")&&(h=T[i.inArray(this.minyorg,A)],D.drawCircle(a+e.round((h-this.minx)*(I/t)),s+e.round(L-L*((this.minyorg-this.miny)/r)),O,n,N.get("minSpotColor")).append()),O&&N.get("maxSpotColor")&&(h=T[i.inArray(this.maxyorg,A)],D.drawCircle(a+e.round((h-this.minx)*(I/t)),s+e.round(L-L*((this.maxyorg-this.miny)/r)),O,n,N.get("maxSpotColor")).append())),this.lastShapeId=D.getLastShapeId(),this.canvasTop=s,D.render()}}}),i.fn.sparkline.bar=_=o(i.fn.sparkline._base,w,{type:"bar",init:function(t,r,o,s,l){var d,f,p,g,m,y,b,w,x,C,S,k,E,T,A,M,N,D,I,L,P,O,R=parseInt(o.get("barWidth"),10),H=parseInt(o.get("barSpacing"),10),F=o.get("chartRangeMin"),z=o.get("chartRangeMax"),B=o.get("chartRangeClip"),W=1/0,j=-1/0;for(_._super.init.call(this,t,r,o,s,l),y=0,b=r.length;b>y;y++)L=r[y],((d="string"==typeof L&&L.indexOf(":")>-1)||i.isArray(L))&&(A=!0,d&&(L=r[y]=u(L.split(":"))),L=h(L,null),f=e.min.apply(e,L),p=e.max.apply(e,L),W>f&&(W=f),p>j&&(j=p));this.stacked=A,this.regionShapes={},this.barWidth=R,this.barSpacing=H,this.totalBarWidth=R+H,this.width=s=r.length*R+(r.length-1)*H,this.initTarget(),B&&(E=F===n?-1/0:F,T=z===n?1/0:z),m=[],g=A?[]:m;var $=[],q=[];for(y=0,b=r.length;b>y;y++)if(A)for(M=r[y],r[y]=I=[],$[y]=0,g[y]=q[y]=0,N=0,D=M.length;D>N;N++)null!==(L=I[N]=B?a(M[N],E,T):M[N])&&(L>0&&($[y]+=L),0>W&&j>0?0>L?q[y]+=e.abs(L):g[y]+=L:g[y]+=e.abs(L-(0>L?j:W)),m.push(L));else L=B?a(r[y],E,T):r[y],null!==(L=r[y]=c(L))&&m.push(L);this.max=k=e.max.apply(e,m),this.min=S=e.min.apply(e,m),this.stackMax=j=A?e.max.apply(e,$):k,this.stackMin=W=A?e.min.apply(e,m):S,o.get("chartRangeMin")!==n&&(o.get("chartRangeClip")||o.get("chartRangeMin")<S)&&(S=o.get("chartRangeMin")),o.get("chartRangeMax")!==n&&(o.get("chartRangeClip")||o.get("chartRangeMax")>k)&&(k=o.get("chartRangeMax")),this.zeroAxis=x=o.get("zeroAxis",!0),C=0>=S&&k>=0&&x?0:0==x?S:S>0?S:k,this.xaxisOffset=C,w=A?e.max.apply(e,g)+e.max.apply(e,q):k-S,this.canvasHeightEf=x&&0>S?this.canvasHeight-2:this.canvasHeight-1,C>S?(O=A&&k>=0?j:k,(P=(O-C)/w*this.canvasHeight)!==e.ceil(P)&&(this.canvasHeightEf-=2,P=e.ceil(P))):P=this.canvasHeight,this.yoffset=P,i.isArray(o.get("colorMap"))?(this.colorMapByIndex=o.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=o.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===n&&(this.colorMapByValue=new v(this.colorMapByValue))),this.range=w},getRegion:function(t,i){var r=e.floor(i/this.totalBarWidth);return 0>r||r>=this.values.length?n:r},getCurrentRegionFields:function(){var t,e,n=this.currentRegion,i=g(this.values[n]),r=[];for(e=i.length;e--;)t=i[e],r.push({isNull:null===t,value:t,color:this.calcColor(e,t,n),offset:n});return r},calcColor:function(t,e,r){var o,s,a=this.colorMapByIndex,l=this.colorMapByValue,c=this.options;return o=this.stacked?c.get("stackedBarColor"):0>e?c.get("negBarColor"):c.get("barColor"),0===e&&c.get("zeroColor")!==n&&(o=c.get("zeroColor")),l&&(s=l.get(e))?o=s:a&&a.length>r&&(o=a[r]),i.isArray(o)?o[t%o.length]:o},renderRegion:function(t,r){var o,s,a,l,c,u,h,d,p,g,m=this.values[t],v=this.options,y=this.xaxisOffset,b=[],w=this.range,x=this.stacked,_=this.target,C=t*this.totalBarWidth,S=this.canvasHeightEf,k=this.yoffset;if(m=i.isArray(m)?m:[m],h=m.length,d=m[0],l=f(null,m),g=f(y,m,!0),l)return v.get("nullColor")?(a=r?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),o=k>0?k-1:k,_.drawRect(C,o,this.barWidth-1,0,a,a)):n;for(c=k,u=0;h>u;u++){if(d=m[u],x&&d===y){if(!g||p)continue;p=!0}s=w>0?e.floor(S*(e.abs(d-y)/w))+1:1,y>d||d===y&&0===k?(o=c,c+=s):(o=k-s,k-=s),a=this.calcColor(u,d,t),r&&(a=this.calcHighlightColor(a,v)),b.push(_.drawRect(C,o,this.barWidth-1,s-1,a,a))}return 1===b.length?b[0]:b}}),i.fn.sparkline.tristate=C=o(i.fn.sparkline._base,w,{type:"tristate",init:function(t,e,r,o,s){var a=parseInt(r.get("barWidth"),10),l=parseInt(r.get("barSpacing"),10);C._super.init.call(this,t,e,r,o,s),this.regionShapes={},this.barWidth=a,this.barSpacing=l,this.totalBarWidth=a+l,this.values=i.map(e,Number),this.width=o=e.length*a+(e.length-1)*l,i.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===n&&(this.colorMapByValue=new v(this.colorMapByValue))),this.initTarget()},getRegion:function(t,n){return e.floor(n/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===n,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var n,i=this.values,r=this.options,o=this.colorMapByIndex,s=this.colorMapByValue;return s&&(n=s.get(t))?n:o&&o.length>e?o[e]:i[e]<0?r.get("negBarColor"):i[e]>0?r.get("posBarColor"):r.get("zeroBarColor")},renderRegion:function(t,n){var i,r,o,s,a,l,c=this.values,u=this.options,h=this.target;return i=h.pixelHeight,o=e.round(i/2),s=t*this.totalBarWidth,c[t]<0?(a=o,r=o-1):c[t]>0?(a=0,r=o-1):(a=o-1,r=2),null!==(l=this.calcColor(c[t],t))?(n&&(l=this.calcHighlightColor(l,u)),h.drawRect(s,a,this.barWidth-1,r-1,l,l)):void 0}}),i.fn.sparkline.discrete=S=o(i.fn.sparkline._base,w,{type:"discrete",init:function(t,r,o,s,a){S._super.init.call(this,t,r,o,s,a),this.regionShapes={},this.values=r=i.map(r,Number),this.min=e.min.apply(e,r),this.max=e.max.apply(e,r),this.range=this.max-this.min,this.width=s="auto"===o.get("width")?2*r.length:this.width,this.interval=e.floor(s/r.length),this.itemWidth=s/r.length,o.get("chartRangeMin")!==n&&(o.get("chartRangeClip")||o.get("chartRangeMin")<this.min)&&(this.min=o.get("chartRangeMin")),o.get("chartRangeMax")!==n&&(o.get("chartRangeClip")||o.get("chartRangeMax")>this.max)&&(this.max=o.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===o.get("lineHeight")?e.round(.3*this.canvasHeight):o.get("lineHeight"))},getRegion:function(t,n){return e.floor(n/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===n,value:this.values[t],offset:t}},renderRegion:function(t,n){var i,r,o,s,l=this.values,c=this.options,u=this.min,h=this.max,d=this.range,f=this.interval,p=this.target,g=this.canvasHeight,m=this.lineHeight,v=g-m;return r=a(l[t],u,h),s=t*f,i=e.round(v-v*((r-u)/d)),o=c.get("thresholdColor")&&r<c.get("thresholdValue")?c.get("thresholdColor"):c.get("lineColor"),n&&(o=this.calcHighlightColor(o,c)),p.drawLine(s,i,s,i+m,o)}}),i.fn.sparkline.bullet=k=o(i.fn.sparkline._base,{type:"bullet",init:function(t,i,r,o,s){var a,l,c;k._super.init.call(this,t,i,r,o,s),this.values=i=u(i),(c=i.slice())[0]=null===c[0]?c[2]:c[0],c[1]=null===i[1]?c[2]:c[1],a=e.min.apply(e,i),l=e.max.apply(e,i),a=r.get("base")===n?0>a?a:0:r.get("base"),this.min=a,this.max=l,this.range=l-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=o="auto"===r.get("width")?"4.0em":o,this.target=this.$el.simpledraw(o,s,r.get("composite")),i.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var r=this.target.getShapeAt(t,e,i);return r!==n&&this.shapes[r]!==n?this.shapes[r]:n},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,n=this.currentRegion,i=this.valueShapes[n];switch(delete this.shapes[i],n.substr(0,1)){case"r":e=this.renderRange(n.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[n]=e.id,this.shapes[e.id]=n,this.target.replaceWithShape(i,e)},renderRange:function(t,n){var i=this.values[t],r=e.round(this.canvasWidth*((i-this.min)/this.range)),o=this.options.get("rangeColors")[t-2];return n&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(0,0,r-1,this.canvasHeight-1,o,o)},renderPerformance:function(t){var n=this.values[1],i=e.round(this.canvasWidth*((n-this.min)/this.range)),r=this.options.get("performanceColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,e.round(.3*this.canvasHeight),i-1,e.round(.4*this.canvasHeight)-1,r,r)},renderTarget:function(t){var n=this.values[0],i=e.round(this.canvasWidth*((n-this.min)/this.range)-this.options.get("targetWidth")/2),r=e.round(.1*this.canvasHeight),o=this.canvasHeight-2*r,s=this.options.get("targetColor");return t&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(i,r,this.options.get("targetWidth")-1,o-1,s,s)},render:function(){var t,e,n=this.values.length,i=this.target;if(k._super.render.call(this)){for(t=2;n>t;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),i.render()}}}),i.fn.sparkline.pie=E=o(i.fn.sparkline._base,{type:"pie",init:function(t,n,r,o,s){var a,l=0;if(E._super.init.call(this,t,n,r,o,s),this.shapes={},this.valueShapes={},this.values=n=i.map(n,Number),"auto"===r.get("width")&&(this.width=this.height),n.length>0)for(a=n.length;a--;)l+=n[a];this.total=l,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var r=this.target.getShapeAt(t,e,i);return r!==n&&this.shapes[r]!==n?this.shapes[r]:n},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===n,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,n=this.renderSlice(e,t),i=this.valueShapes[e];delete this.shapes[i],this.target.replaceWithShape(i,n),this.valueShapes[e]=n.id,this.shapes[n.id]=e},renderSlice:function(t,i){var r,o,s,a,l,c=this.target,u=this.options,h=this.radius,d=u.get("borderWidth"),f=u.get("offset"),p=2*e.PI,g=this.values,m=this.total,v=f?2*e.PI*(f/360):0;for(a=g.length,s=0;a>s;s++){if(r=v,o=v,m>0&&(o=v+p*(g[s]/m)),t===s)return l=u.get("sliceColors")[s%u.get("sliceColors").length],i&&(l=this.calcHighlightColor(l,u)),c.drawPieSlice(h,h,h-d,r,o,n,l);v=o}},render:function(){var t,i,r=this.target,o=this.values,s=this.options,a=this.radius,l=s.get("borderWidth");if(E._super.render.call(this)){for(l&&r.drawCircle(a,a,e.floor(a-l/2),s.get("borderColor"),n,l).append(),i=o.length;i--;)o[i]&&(t=this.renderSlice(i).append(),this.valueShapes[i]=t.id,this.shapes[t.id]=i);r.render()}}}),i.fn.sparkline.box=T=o(i.fn.sparkline._base,{type:"box",init:function(t,e,n,r,o){T._super.init.call(this,t,e,n,r,o),this.values=i.map(e,Number),this.width="auto"===n.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==n&&t.push({field:"lo",value:this.loutlier}),this.routlier!==n&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==n&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==n&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,i,r,o,s,a,c,u,h,d,f,p=this.target,g=this.values,m=g.length,v=this.options,y=this.canvasWidth,b=this.canvasHeight,w=v.get("chartRangeMin")===n?e.min.apply(e,g):v.get("chartRangeMin"),x=v.get("chartRangeMax")===n?e.max.apply(e,g):v.get("chartRangeMax"),_=0;if(T._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&g.length>5?(i=g[0],t=g[1],o=g[2],s=g[3],a=g[4],c=g[5],u=g[6]):(t=g[0],o=g[1],s=g[2],a=g[3],c=g[4]);else if(g.sort(function(t,e){return t-e}),o=l(g,1),s=l(g,2),a=l(g,3),r=a-o,v.get("showOutliers")){for(t=c=n,h=0;m>h;h++)t===n&&g[h]>o-r*v.get("outlierIQR")&&(t=g[h]),g[h]<a+r*v.get("outlierIQR")&&(c=g[h]);i=g[0],u=g[m-1]}else t=g[0],c=g[m-1];this.quartiles=[o,s,a],this.lwhisker=t,this.rwhisker=c,this.loutlier=i,this.routlier=u,f=y/(x-w+1),v.get("showOutliers")&&(_=e.ceil(v.get("spotRadius")),y-=2*e.ceil(v.get("spotRadius")),f=y/(x-w+1),t>i&&p.drawCircle((i-w)*f+_,b/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),u>c&&p.drawCircle((u-w)*f+_,b/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),p.drawRect(e.round((o-w)*f+_),e.round(.1*b),e.round((a-o)*f),e.round(.8*b),v.get("boxLineColor"),v.get("boxFillColor")).append(),p.drawLine(e.round((t-w)*f+_),e.round(b/2),e.round((o-w)*f+_),e.round(b/2),v.get("lineColor")).append(),p.drawLine(e.round((t-w)*f+_),e.round(b/4),e.round((t-w)*f+_),e.round(b-b/4),v.get("whiskerColor")).append(),p.drawLine(e.round((c-w)*f+_),e.round(b/2),e.round((a-w)*f+_),e.round(b/2),v.get("lineColor")).append(),p.drawLine(e.round((c-w)*f+_),e.round(b/4),e.round((c-w)*f+_),e.round(b-b/4),v.get("whiskerColor")).append(),p.drawLine(e.round((s-w)*f+_),e.round(.1*b),e.round((s-w)*f+_),e.round(.9*b),v.get("medianColor")).append(),v.get("target")&&(d=e.ceil(v.get("spotRadius")),p.drawLine(e.round((v.get("target")-w)*f+_),e.round(b/2-d),e.round((v.get("target")-w)*f+_),e.round(b/2+d),v.get("targetColor")).append(),p.drawLine(e.round((v.get("target")-w)*f+_-d),e.round(b/2),e.round((v.get("target")-w)*f+_+d),e.round(b/2),v.get("targetColor")).append()),p.render()}}}),M=o({init:function(t,e,n,i){this.target=t,this.id=e,this.type=n,this.args=i},append:function(){return this.target.appendShape(this),this}}),N=o({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,n){t&&(this.width=t,this.height=e,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),i.data(n,"_jqs_vcanvas",this))},drawLine:function(t,e,n,i,r,o){return this.drawShape([[t,e],[n,i]],r,o)},drawShape:function(t,e,n,i){return this._genShape("Shape",[t,e,n,i])},drawCircle:function(t,e,n,i,r,o){return this._genShape("Circle",[t,e,n,i,r,o])},drawPieSlice:function(t,e,n,i,r,o,s){return this._genShape("PieSlice",[t,e,n,i,r,o,s])},drawRect:function(t,e,n,i,r,o){return this._genShape("Rect",[t,e,n,i,r,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){i(e).html(t)},_calculatePixelDims:function(t,e,n){var r;r=this._pxregex.exec(e),this.pixelHeight=r?r[1]:i(n).height(),r=this._pxregex.exec(t),this.pixelWidth=r?r[1]:i(n).width()},_genShape:function(t,e){var n=O++;return e.unshift(n),new M(this,n,t,e)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),D=o(N,{init:function(e,r,o,s){D._super.init.call(this,e,r,o),this.canvas=t.createElement("canvas"),o[0]&&(o=o[0]),i.data(o,"_jqs_vcanvas",this),i(this.canvas).css({display:"inline-block",width:e,height:r,verticalAlign:"top"}),this._insert(this.canvas,o),this._calculatePixelDims(e,r,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=s,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=n,i(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var r=this.canvas.getContext("2d");return t!==n&&(r.strokeStyle=t),r.lineWidth=i===n?1:i,e!==n&&(r.fillStyle=e),r},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=n},_drawShape:function(t,e,i,r,o){var s,a,l=this._getContext(i,r,o);for(l.beginPath(),l.moveTo(e[0][0]+.5,e[0][1]+.5),s=1,a=e.length;a>s;s++)l.lineTo(e[s][0]+.5,e[s][1]+.5);i!==n&&l.stroke(),r!==n&&l.fill(),this.targetX!==n&&this.targetY!==n&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,i,r,o,s,a,l){var c=this._getContext(s,a,l);c.beginPath(),c.arc(i,r,o,0,2*e.PI,!1),this.targetX!==n&&this.targetY!==n&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),s!==n&&c.stroke(),a!==n&&c.fill()},_drawPieSlice:function(t,e,i,r,o,s,a,l){var c=this._getContext(a,l);c.beginPath(),c.moveTo(e,i),c.arc(e,i,r,o,s,!1),c.lineTo(e,i),c.closePath(),a!==n&&c.stroke(),l&&c.fill(),this.targetX!==n&&this.targetY!==n&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,n,i,r,o,s){return this._drawShape(t,[[e,n],[e+i,n],[e+i,n+r],[e,n+r],[e,n]],o,s)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var n,i=this.shapeseq;for(this.shapes[e.id]=e,n=i.length;n--;)i[n]==t&&(i[n]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var n,i,r,o=this.shapeseq,s={};for(i=t.length;i--;)s[t[i]]=!0;for(i=o.length;i--;)n=o[i],s[n]&&(o.splice(i,1),delete this.shapes[n],r=i);for(i=e.length;i--;)o.splice(r,0,e[i].id),this.shapes[e[i].id]=e[i]},insertAfterShape:function(t,e){var n,i=this.shapeseq;for(n=i.length;n--;)if(i[n]===t)return i.splice(n+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,n=this.shapeseq;for(e=n.length;e--;)if(n[e]===t){n.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,n){return this.targetX=e,this.targetY=n,this.render(),this.currentTargetShapeId},render:function(){var t,e,n,i=this.shapeseq,r=this.shapes,o=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;o>n;n++)t=i[n],e=r[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),I=o(N,{init:function(e,n,r){var o;I._super.init.call(this,e,n,r),r[0]&&(r=r[0]),i.data(r,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),i(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:n,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,o='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",o),this.group=i(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,r,o){var s,a,l,c,u,h,d=[];for(h=0,u=e.length;u>h;h++)d[h]=e[h][0]+","+e[h][1];return s=d.splice(0,1),o=o===n?1:o,a=i===n?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+i+'" ',l=r===n?' filled="false"':' fillColor="'+r+'" filled="true" ',c=d[0]===d[d.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+a+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+s+" l "+d.join(", ")+" "+c+'e"> </v:shape>'},_drawCircle:function(t,e,i,r,o,s,a){var l,c;return e-=r,i-=r,l=o===n?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+o+'" ',c=s===n?' filled="false"':' fillColor="'+s+'" filled="true" ','<v:oval  id="jqsshape'+t+'" '+l+c+' style="position:absolute;top:'+i+"px; left:"+e+"px; width:"+2*r+"px; height:"+2*r+'px"></v:oval>'},_drawPieSlice:function(t,i,r,o,s,a,l,c){var u,h,d,f,p,g,m;if(s===a)return"";if(a-s==2*e.PI&&(s=0,a=2*e.PI),h=i+e.round(e.cos(s)*o),d=r+e.round(e.sin(s)*o),f=i+e.round(e.cos(a)*o),p=r+e.round(e.sin(a)*o),h===f&&d===p){if(a-s<e.PI)return"";h=f=i+o,d=p=r}return h===f&&d===p&&a-s<e.PI?"":(u=[i-o,r-o,i+o,r+o,h,d,f,p],g=l===n?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',m=c===n?' filled="false"':' fillColor="'+c+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+g+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+i+","+r+" wa "+u.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,n,i,r,o,s){return this._drawShape(t,[[e,n],[e,n+r],[e+i,n+r],[e+i,n],[e,n]],o,s)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var n=i("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);n[0].outerHTML=r},replaceWithShapes:function(t,e){var n,r=i("#jqsshape"+t[0]),o="",s=e.length;for(n=0;s>n;n++)o+=this["_draw"+e[n].type].apply(this,e[n].args);for(r[0].outerHTML=o,n=1;n<t.length;n++)i("#jqsshape"+t[n]).remove()},insertAfterShape:function(t,e){var n=i("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);n[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(t){var e=i("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(t){"use strict";function e(t,e,n,i){t.beginPath(),t.arc(e,n,i,0,m,!1),t.fill()}function n(t,e,n,i,r){t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.stroke()}function i(t,n,i,r,o,s,a,l){var c=Math.cos(n*m);e(t,i-Math.sin(n*m)*o,r+c*s+.5*(l-=a),a+(1-.5*c)*l)}function r(t,e,n,r,o,s,a,l){var c;for(c=5;c--;)i(t,e+c/5,n,r,o,s,a,l)}function o(t,e,n,i,o,s,a){e/=3e4;var l=.21*o,c=.12*o,u=.24*o,h=.28*o;t.fillStyle=a,r(t,e,n,i,l,c,u,h),t.globalCompositeOperation="destination-out",r(t,e,n,i,l,c,u-s,h-s),t.globalCompositeOperation="source-over"}function s(t,e,i,r,o,s,a){e/=12e4;var l,c,u,h,d=.25*o-.5*s,f=.32*o+.5*s,p=.5*o-.5*s;for(t.strokeStyle=a,t.lineWidth=s,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.arc(i,r,d,0,m,!1),t.stroke(),l=8;l--;)c=(e+l/8)*m,n(t,i+(u=Math.cos(c))*f,r+(h=Math.sin(c))*f,i+u*p,r+h*p)}function a(t,e,n,i,r,o,s){e/=15e3;var a=.29*r-.5*o,l=.05*r,c=Math.cos(e*m),u=c*m/-16;t.strokeStyle=s,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",n+=c*l,t.beginPath(),t.arc(n,i,a,u+m/8,u+7*m/8,!1),t.arc(n+Math.cos(u)*a*v,i+Math.sin(u)*a*v,a,u+5*m/8,u+3*m/8,!0),t.closePath(),t.stroke()}function l(t,e,n,i,r,o,s){e/=1350;var a,l,c,u,h=.16*r,d=11*m/12,f=7*m/12;for(t.fillStyle=s,a=4;a--;)l=(e+a/4)%1,c=n+(a-1.5)/1.5*(1===a||2===a?-1:1)*h,u=i+l*l*r,t.beginPath(),t.moveTo(c,u-1.5*o),t.arc(c,u,.75*o,d,f,!1),t.fill()}function c(t,e,i,r,o,s,a){e/=750;var l,c,u,h,d=.1875*o;for(t.strokeStyle=a,t.lineWidth=.5*s,t.lineCap="round",t.lineJoin="round",l=4;l--;)c=(e+l/4)%1,n(t,u=Math.floor(i+(l-1.5)/1.5*(1===l||2===l?-1:1)*d)+.5,(h=r+c*o)-1.5*s,u,h+1.5*s)}function u(t,e,i,r,o,s,a){var l,c,u,h,d=.16*o,f=.75*s,p=(e/=3e3)*m*.7,g=Math.cos(p)*f,v=Math.sin(p)*f,y=p+m/3,b=Math.cos(y)*f,w=Math.sin(y)*f,x=p+2*m/3,_=Math.cos(x)*f,C=Math.sin(x)*f;for(t.strokeStyle=a,t.lineWidth=.5*s,t.lineCap="round",t.lineJoin="round",l=4;l--;)c=(e+l/4)%1,n(t,(u=i+Math.sin((c+l/4)*m)*d)-g,(h=r+c*o)-v,u+g,h+v),n(t,u-b,h-w,u+b,h+w),n(t,u-_,h-C,u+_,h+C)}function h(t,e,n,i,o,s,a){e/=3e4;var l=.21*o,c=.06*o,u=.21*o,h=.28*o;t.fillStyle=a,r(t,e,n,i,l,c,u,h),t.globalCompositeOperation="destination-out",r(t,e,n,i,l,c,u-s,h-s),t.globalCompositeOperation="source-over"}function d(t,e,n,i,r,o,s){var a=r/8,l=a/3,c=2*l,u=e%1*m,h=Math.cos(u),d=Math.sin(u);t.fillStyle=s,t.strokeStyle=s,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.arc(n,i,a,u,u+Math.PI,!1),t.arc(n-l*h,i-l*d,c,u+Math.PI,u,!1),t.arc(n+c*h,i+c*d,l,u+Math.PI,u,!0),t.globalCompositeOperation="destination-out",t.fill(),t.globalCompositeOperation="source-over",t.stroke()}function f(t,e,n,i,r,o,s,a,l){e/=2500;var c,u,h,f,p=y[s],g=(e+s-b[s].start)%a,m=(e+s-b[s].end)%a,v=(e+s)%a;if(t.strokeStyle=l,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",g<1){if(t.beginPath(),g*=p.length/2-1,c=Math.floor(g),g-=c,c*=2,c+=2,t.moveTo(n+(p[c-2]*(1-g)+p[c]*g)*r,i+(p[c-1]*(1-g)+p[c+1]*g)*r),m<1){for(m*=p.length/2-1,m-=u=Math.floor(m),u*=2,u+=2,f=c;f!==u;f+=2)t.lineTo(n+p[f]*r,i+p[f+1]*r);t.lineTo(n+(p[u-2]*(1-m)+p[u]*m)*r,i+(p[u-1]*(1-m)+p[u+1]*m)*r)}else for(f=c;f!==p.length;f+=2)t.lineTo(n+p[f]*r,i+p[f+1]*r);t.stroke()}else if(m<1){for(t.beginPath(),m*=p.length/2-1,m-=u=Math.floor(m),u*=2,u+=2,t.moveTo(n+p[0]*r,i+p[1]*r),f=2;f!==u;f+=2)t.lineTo(n+p[f]*r,i+p[f+1]*r);t.lineTo(n+(p[u-2]*(1-m)+p[u]*m)*r,i+(p[u-1]*(1-m)+p[u+1]*m)*r),t.stroke()}v<1&&(v*=p.length/2-1,v-=h=Math.floor(v),h*=2,d(t,e,n+(p[(h+=2)-2]*(1-v)+p[h]*v)*r,i+(p[h-1]*(1-v)+p[h+1]*v)*r,r,o,l))}var p,g;!function(){var e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame;e&&n?(p=function(t,n){function i(){r.value=e(i),t()}var r={value:null};return i(),r},g=function(t){n(t.value)}):(p=setInterval,g=clearInterval)}();var m=2*Math.PI,v=2/Math.sqrt(2),y=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],b=[{start:.36,end:.11},{start:.56,end:.16}],w=function(t){this.list=[],this.interval=null,this.color=t&&t.color?t.color:"black",this.resizeClear=!(!t||!t.resizeClear)};w.CLEAR_DAY=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,o=Math.min(i,r);s(t,e,.5*i,.5*r,o,.08*o,n)},w.CLEAR_NIGHT=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,o=Math.min(i,r);a(t,e,.5*i,.5*r,o,.08*o,n)},w.PARTLY_CLOUDY_DAY=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,a=Math.min(i,r);s(t,e,.625*i,.375*r,.75*a,.08*a,n),o(t,e,.375*i,.625*r,.75*a,.08*a,n)},w.PARTLY_CLOUDY_NIGHT=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);a(t,e,.667*i,.375*r,.75*s,.08*s,n),o(t,e,.375*i,.625*r,.75*s,.08*s,n)},w.CLOUDY=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);o(t,e,.5*i,.5*r,s,.08*s,n)},w.RAIN=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);l(t,e,.5*i,.37*r,.9*s,.08*s,n),o(t,e,.5*i,.37*r,.9*s,.08*s,n)},w.SLEET=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);c(t,e,.5*i,.37*r,.9*s,.08*s,n),o(t,e,.5*i,.37*r,.9*s,.08*s,n)},w.SNOW=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);u(t,e,.5*i,.37*r,.9*s,.08*s,n),o(t,e,.5*i,.37*r,.9*s,.08*s,n)},w.WIND=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,o=Math.min(i,r);f(t,e,.5*i,.5*r,o,.08*o,0,2,n),f(t,e,.5*i,.5*r,o,.08*o,1,2,n)},w.FOG=function(t,e,i){var r=t.canvas.width,o=t.canvas.height,s=Math.min(r,o),a=.08*s;h(t,e,.5*r,.32*o,.75*s,a,i),e/=5e3;var l=Math.cos(e*m)*s*.02,c=Math.cos((e+.25)*m)*s*.02,u=Math.cos((e+.5)*m)*s*.02,d=Math.cos((e+.75)*m)*s*.02,f=.936*o,p=Math.floor(f-.5*a)+.5,g=Math.floor(f-2.5*a)+.5;t.strokeStyle=i,t.lineWidth=a,t.lineCap="round",t.lineJoin="round",n(t,l+.2*r+.5*a,p,c+.8*r-.5*a,p),n(t,u+.2*r+.5*a,g,d+.8*r-.5*a,g)},w.prototype={_determineDrawingFunction:function(t){return"string"==typeof t&&(t=w[t.toUpperCase().replace(/-/g,"_")]||null),t},add:function(t,e){var n;"string"==typeof t&&(t=document.getElementById(t)),null!==t&&"function"==typeof(e=this._determineDrawingFunction(e))&&(n={element:t,context:t.getContext("2d"),drawing:e},this.list.push(n),this.draw(n,500))},set:function(t,e){var n;for("string"==typeof t&&(t=document.getElementById(t)),n=this.list.length;n--;)if(this.list[n].element===t)return this.list[n].drawing=this._determineDrawingFunction(e),void this.draw(this.list[n],500);this.add(t,e)},remove:function(t){var e;for("string"==typeof t&&(t=document.getElementById(t)),e=this.list.length;e--;)if(this.list[e].element===t)return void this.list.splice(e,1)},draw:function(t,e){var n=t.context.canvas;this.resizeClear?n.width=n.width:t.context.clearRect(0,0,n.width,n.height),t.drawing(t.context,e,this.color)},play:function(){var t=this;this.pause(),this.interval=p(function(){var e,n=Date.now();for(e=t.list.length;e--;)t.draw(t.list[e],n)},1e3/60)},pause:function(){this.interval&&(g(this.interval),this.interval=null)}},t.Skycons=w}(this);var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function t(t,e){var n=typeof t[e];return n==c||!(n!=l||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=l||!t[e])}function n(t,e){return typeof t[e]!=u}function i(t){return function(e,n){for(var i=n.length;i--;)if(!t(e,n[i]))return!1;return!0}}function r(t){return t&&g(t,p)&&v(t,f)}function o(t){window.alert("Rangy not supported in your browser. Reason: "+t),y.initialized=!0,y.supported=!1}function s(){if(!y.initialized){var n,i=!1,s=!1;for(t(document,"createRange")&&(n=document.createRange(),g(n,d)&&v(n,h)&&(i=!0),n.detach()),(n=e(document,"body")?document.body:document.getElementsByTagName("body")[0])&&t(n,"createTextRange")&&(n=n.createTextRange(),r(n)&&(s=!0)),!i&&!s&&o("Neither Range nor TextRange are implemented"),y.initialized=!0,y.features={implementsDomRange:i,implementsTextRange:s},s=0,n=(i=w.concat(b)).length;n>s;++s)try{i[s](y)}catch(n){e(window,"console")&&t(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",n)}}}function a(t){this.name=t,this.supported=this.initialized=!1}var l="object",c="function",u="undefined",h="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer START_TO_START START_TO_END END_TO_START END_TO_END".split(" "),d="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),f="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),p="collapse compareEndPoints duplicate getBookmark moveToBookmark moveToElementText parentElement pasteHTML select setEndPoint getBoundingClientRect".split(" "),g=i(t),m=i(e),v=i(n),y={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:t,isHostObject:e,isHostProperty:n,areHostMethods:g,areHostObjects:m,areHostProperties:v,isTextRange:r},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};y.fail=o,y.warn=function(t){t="Rangy warning: "+t,y.config.alertOnWarn?window.alert(t):typeof window.console!=u&&typeof window.console.log!=u&&window.console.log(t)},{}.hasOwnProperty?y.util.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}:o("hasOwnProperty not supported");var b=[],w=[];y.init=s,y.addInitListener=function(t){y.initialized?t(y):b.push(t)};var x=[];y.addCreateMissingNativeApiListener=function(t){x.push(t)},y.createMissingNativeApi=function(t){t=t||window,s();for(var e=0,n=x.length;n>e;++e)x[e](t)},a.prototype.fail=function(t){throw this.initialized=!0,this.supported=!1,Error("Module '"+this.name+"' failed to load: "+t)},a.prototype.warn=function(t){y.warn("Module "+this.name+": "+t)},a.prototype.createError=function(t){return Error("Error in Rangy "+this.name+" module: "+t)},y.createModule=function(t,e){var n=new a(t);y.modules[t]=n,w.push(function(t){e(t,n),n.initialized=!0,n.supported=!0})},y.requireModules=function(t){for(var e,n,i=0,r=t.length;r>i;++i){if(n=t[i],!((e=y.modules[n])&&e instanceof a))throw Error("Module '"+n+"' not found");if(!e.supported)throw Error("Module '"+n+"' not supported")}};var _=!1,m=function(){_||(_=!0,y.initialized||s())};if(typeof window==u)o("No window found");else{if(typeof document!=u)return t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",m,!1),t(window,"addEventListener")?window.addEventListener("load",m,!1):t(window,"attachEvent")?window.attachEvent("onload",m):o("Window does not have required addEventListener or attachEvent method"),y;o("No document found")}}(),rangy.createModule("DomUtil",function(t,e){function n(t){for(var e=0;t=t.previousSibling;)e++;return e}function i(t,e){var n,i=[];for(n=t;n;n=n.parentNode)i.push(n);for(n=e;n;n=n.parentNode)if(g(i,n))return n;return null}function r(t,e,n){for(n=n?t:t.parentNode;n;){if((t=n.parentNode)===e)return n;n=t}return null}function o(t){return 3==(t=t.nodeType)||4==t||8==t}function s(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function a(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=d)return t.ownerDocument;if(typeof t.document!=d)return t.document;if(t.parentNode)return a(t.parentNode);throw Error("getDocument: no document found for node")}function l(t){return t?o(t)?'"'+t.data+'"':1==t.nodeType?"<"+t.nodeName+(t.id?' id="'+t.id+'"':"")+">["+t.childNodes.length+"]":t.nodeName:"[No node]"}function c(t){this._next=this.root=t}function u(t,e){this.node=t,this.offset=e}function h(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var d="undefined",f=t.util;f.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),f.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var p=document.createElement("div");f.areHostMethods(p,["insertBefore","appendChild","cloneNode"])||e.fail("Incomplete Element implementation"),f.isHostProperty(p,"innerHTML")||e.fail("Element is missing innerHTML property"),p=document.createTextNode("test"),f.areHostMethods(p,["splitText","deleteData","insertData","appendData","cloneNode"])||e.fail("Incomplete Text Node implementation");var g=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1};c.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e=this._current=this._next;if(this._current){if(!(t=e.firstChild))for(t=null;e!==this.root&&!(t=e.nextSibling);)e=e.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},u.prototype={equals:function(t){return this.node===t.node&this.offset==t.offset},inspect:function(){return"[DomPosition("+l(this.node)+":"+this.offset+")]"}},(h.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11}).toString=function(){return this.message},t.dom={arrayContains:g,isHtmlNamespace:function(t){var e;return typeof t.namespaceURI==d||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e},parentElement:function(t){return 1==(t=t.parentNode).nodeType?t:null},getNodeIndex:n,getNodeLength:function(t){var e;return o(t)?t.length:(e=t.childNodes)?e.length:0},getCommonAncestor:i,isAncestorOf:function(t,e,n){for(e=n?e:e.parentNode;e;){if(e===t)return!0;e=e.parentNode}return!1},getClosestAncestorIn:r,isCharacterDataNode:o,insertAfter:s,splitDataNode:function(t,e){var n=t.cloneNode(!1);return n.deleteData(0,e),t.deleteData(e,t.length-e),s(n,t),n},getDocument:a,getWindow:function(t){if(typeof(t=a(t)).defaultView!=d)return t.defaultView;if(typeof t.parentWindow!=d)return t.parentWindow;throw Error("Cannot get a window object for node")},getIframeWindow:function(t){if(typeof t.contentWindow!=d)return t.contentWindow;if(typeof t.contentDocument!=d)return t.contentDocument.defaultView;throw Error("getIframeWindow: No Window object found for iframe element")},getIframeDocument:function(t){if(typeof t.contentDocument!=d)return t.contentDocument;if(typeof t.contentWindow!=d)return t.contentWindow.document;throw Error("getIframeWindow: No Document object found for iframe element")},getBody:function(t){return f.isHostObject(t,"body")?t.body:t.getElementsByTagName("body")[0]},getRootContainer:function(t){for(var e;e=t.parentNode;)t=e;return t},comparePoints:function(t,e,o,s){var a;if(t==o)return e===s?0:s>e?-1:1;if(a=r(o,t,!0))return e<=n(a)?-1:1;if(a=r(t,o,!0))return n(a)<s?-1:1;if(e=i(t,o),t=t===e?e:r(t,e,!0),o=o===e?e:r(o,e,!0),t===o)throw Error("comparePoints got to case 4 and childA and childB are the same!");for(e=e.firstChild;e;){if(e===t)return-1;if(e===o)return 1;e=e.nextSibling}throw Error("Should not be here!")},inspectNode:l,fragmentFromNodeChildren:function(t){for(var e,n=a(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n},createIterator:function(t){return new c(t)},DomPosition:u},t.DOMException=h}),rangy.createModule("DomRange",function(t){function e(t,e){return 3!=t.nodeType&&(L.isAncestorOf(t,e.startContainer,!0)||L.isAncestorOf(t,e.endContainer,!0))}function n(t){return L.getDocument(t.startContainer)}function i(t,e,n){if(e=t._listeners[e])for(var i=0,r=e.length;r>i;++i)e[i].call(t,{target:t,args:n})}function r(t){return new P(t.parentNode,L.getNodeIndex(t))}function o(t){return new P(t.parentNode,L.getNodeIndex(t)+1)}function s(t,e,n){var i=11==t.nodeType?t.firstChild:t;return L.isCharacterDataNode(e)?n==e.length?L.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:L.splitDataNode(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),i}function a(t){for(var e,i,r=n(t.range).createDocumentFragment();i=t.next();){if(e=t.isPartiallySelectedSubtree(),i=i.cloneNode(!e),e&&(e=t.getSubtreeIterator(),i.appendChild(a(e)),e.detach(!0)),10==i.nodeType)throw new O("HIERARCHY_REQUEST_ERR");r.appendChild(i)}return r}function l(t,e,n){for(var i,r,n=n||{stop:!1};i=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(i)){n.stop=!0;break}if(i=t.getSubtreeIterator(),l(i,e,n),i.detach(!0),n.stop)break}else for(i=L.createIterator(i);r=i.next();)if(!1===e(r))return void(n.stop=!0)}function c(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),c(e),e.detach(!0)):t.remove()}function u(t){for(var e,i,r=n(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),i=t.getSubtreeIterator(),e.appendChild(u(i)),i.detach(!0)):t.remove(),10==e.nodeType)throw new O("HIERARCHY_REQUEST_ERR");r.appendChild(e)}return r}function h(t,e,n){var i,r=!(!e||!e.length),o=!!n;r&&(i=RegExp("^("+e.join("|")+")$"));var s=[];return l(new f(t,!1),function(t){(!r||i.test(t.nodeType))&&(!o||n(t))&&s.push(t)}),s}function d(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+L.inspectNode(t.startContainer)+":"+t.startOffset+", "+L.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function f(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&L.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||L.isCharacterDataNode(this.sc)?L.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||L.isCharacterDataNode(this.ec)?L.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function p(t){this.code=this[t],this.codeName=t,this.message="RangeException: "+this.codeName}function g(t,e,n){this.nodes=h(t,e,n),this._next=this.nodes[0],this._position=0}function m(t){return function(e,n){for(var i,r=n?e:e.parentNode;r;){if(i=r.nodeType,L.arrayContains(t,i))return r;r=r.parentNode}return null}}function v(t,e){if($(t,e))throw new p("INVALID_NODE_TYPE_ERR")}function y(t){if(!t.startContainer)throw new O("INVALID_STATE_ERR")}function b(t,e){if(!L.arrayContains(e,t.nodeType))throw new p("INVALID_NODE_TYPE_ERR")}function w(t,e){if(0>e||e>(L.isCharacterDataNode(t)?t.length:t.childNodes.length))throw new O("INDEX_SIZE_ERR")}function x(t,e){if(W(t,!0)!==W(e,!0))throw new O("WRONG_DOCUMENT_ERR")}function _(t){if(j(t,!0))throw new O("NO_MODIFICATION_ALLOWED_ERR")}function C(t,e){if(!t)throw new O(e)}function S(t){if(y(t),!((L.arrayContains(H,t.startContainer.nodeType)||W(t.startContainer,!0))&&(L.arrayContains(H,t.endContainer.nodeType)||W(t.endContainer,!0))&&t.startOffset<=(L.isCharacterDataNode(t.startContainer)?t.startContainer.length:t.startContainer.childNodes.length)&&t.endOffset<=(L.isCharacterDataNode(t.endContainer)?t.endContainer.length:t.endContainer.childNodes.length)))throw Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function k(){}function E(t){t.START_TO_START=Y,t.START_TO_END=X,t.END_TO_END=G,t.END_TO_START=K,t.NODE_BEFORE=Q,t.NODE_AFTER=Z,t.NODE_BEFORE_AND_AFTER=J,t.NODE_INSIDE=tt}function T(t){E(t),E(t.prototype)}function A(t,e){return function(){S(this);var n=this.startContainer,i=this.startOffset,r=this.commonAncestorContainer,s=new f(this,!0);return n!==r&&(n=L.getClosestAncestorIn(n,r,!0),i=o(n),n=i.node,i=i.offset),l(s,_),s.reset(),r=t(s),s.detach(),e(this,n,i,n,i),r}}function M(n,i,s){function a(t,e){return function(n){y(this),b(n,R),b(B(n),H),n=(t?r:o)(n),(e?l:h)(this,n.node,n.offset)}}function l(t,e,n){var r=t.endContainer,o=t.endOffset;(e!==t.startContainer||n!==t.startOffset)&&((B(e)!=B(r)||1==L.comparePoints(e,n,r,o))&&(r=e,o=n),i(t,e,n,r,o))}function h(t,e,n){var r=t.startContainer,o=t.startOffset;(e!==t.endContainer||n!==t.endOffset)&&((B(e)!=B(r)||-1==L.comparePoints(e,n,r,o))&&(r=e,o=n),i(t,r,o,e,n))}n.prototype=new k,t.util.extend(n.prototype,{setStart:function(t,e){y(this),v(t,!0),w(t,e),l(this,t,e)},setEnd:function(t,e){y(this),v(t,!0),w(t,e),h(this,t,e)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(t){S(this),t?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){y(this),v(t,!0),i(this,t,0,t,L.getNodeLength(t))},selectNode:function(t){y(this),v(t,!1),b(t,R);var e=r(t),t=o(t);i(this,e.node,e.offset,t.node,t.offset)},extractContents:A(u,i),deleteContents:A(c,i),canSurroundContents:function(){S(this),_(this.startContainer),_(this.endContainer);var t=new f(this,!0),n=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!n},detach:function(){s(this)},splitBoundaries:function(){S(this);var t=this.startContainer,e=this.startOffset,n=this.endContainer,r=this.endOffset,o=t===n;L.isCharacterDataNode(n)&&r>0&&r<n.length&&L.splitDataNode(n,r),L.isCharacterDataNode(t)&&e>0&&e<t.length&&(t=L.splitDataNode(t,e),o?(r-=e,n=t):n==t.parentNode&&r>=L.getNodeIndex(t)&&r++,e=0),i(this,t,e,n,r)},normalizeBoundaries:function(){S(this);var t=this.startContainer,e=this.startOffset,n=this.endContainer,r=this.endOffset,o=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(n=t,r=t.length,t.appendData(e.data),e.parentNode.removeChild(e))},s=function(i){var o=i.previousSibling;if(o&&o.nodeType==i.nodeType){t=i;var s=i.length;e=o.length,i.insertData(0,o.data),o.parentNode.removeChild(o),t==n?(r+=e,n=t):n==i.parentNode&&(o=L.getNodeIndex(i),r==o?(n=i,r=s):r>o&&r--)}},a=!0;L.isCharacterDataNode(n)?n.length==r&&o(n):(r>0&&(a=n.childNodes[r-1])&&L.isCharacterDataNode(a)&&o(a),a=!this.collapsed),a?L.isCharacterDataNode(t)?0==e&&s(t):e<t.childNodes.length&&(o=t.childNodes[e])&&L.isCharacterDataNode(o)&&s(o):(t=n,e=r),i(this,t,e,n,r)},collapseToPoint:function(t,e){y(this),v(t,!0),w(t,e),(t!==this.startContainer||e!==this.startOffset||t!==this.endContainer||e!==this.endOffset)&&i(this,t,e,t,e)}}),T(n)}function N(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:L.getCommonAncestor(t.startContainer,t.endContainer)}function D(t,e,n,r,o){var s=t.startContainer!==e||t.startOffset!==n,a=t.endContainer!==r||t.endOffset!==o;t.startContainer=e,t.startOffset=n,t.endContainer=r,t.endOffset=o,N(t),i(t,"boundarychange",{startMoved:s,endMoved:a})}function I(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},N(this)}t.requireModules(["DomUtil"]);var L=t.dom,P=L.DomPosition,O=t.DOMException;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,L.isCharacterDataNode(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!L.isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(t=n===this.sc?this.so:0,e=n===this.ec?this.eo:n.length,t!=e&&n.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){return e(this._current,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)(t=this.range.cloneRange()).collapse();else{t=new I(n(this.range));var e=this._current,i=e,r=0,o=e,s=L.getNodeLength(e);L.isAncestorOf(e,this.sc,!0)&&(i=this.sc,r=this.so),L.isAncestorOf(e,this.ec,!0)&&(o=this.ec,s=this.eo),D(t,i,r,o,s)}return new f(t,this.clonePartiallySelectedTextNodes)},detach:function(t){t&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},p.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},p.prototype.toString=function(){return this.message},g.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var R=[1,3,4,5,7,8,10],H=[2,9,11],F=[1,3,4,5,7,8,10,11],z=[1,3,4,5,7,8],B=L.getRootContainer,W=m([9,11]),j=m([5,6,10,12]),$=m([6,10,12]),q=document.createElement("style"),U=!1;try{q.innerHTML="<b>x</b>",U=3==q.firstChild.nodeType}catch(t){}t.features.htmlParsingConforms=U;var V="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),Y=0,X=1,G=2,K=3,Q=0,Z=1,J=2,tt=3;k.prototype={attachListener:function(t,e){this._listeners[t].push(e)},compareBoundaryPoints:function(t,e){S(this),x(this.startContainer,e.startContainer);var n=t==K||t==Y?"start":"end",i=t==X||t==Y?"start":"end";return L.comparePoints(this[n+"Container"],this[n+"Offset"],e[i+"Container"],e[i+"Offset"])},insertNode:function(t){if(S(this),b(t,F),_(this.startContainer),L.isAncestorOf(t,this.startContainer,!0))throw new O("HIERARCHY_REQUEST_ERR");this.setStartBefore(s(t,this.startContainer,this.startOffset))},cloneContents:function(){S(this);var t,e;return this.collapsed?n(this).createDocumentFragment():this.startContainer===this.endContainer&&L.isCharacterDataNode(this.startContainer)?(t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),(e=n(this).createDocumentFragment()).appendChild(t),e):(e=new f(this,!0),t=a(e),e.detach(),t)},canSurroundContents:function(){S(this),_(this.startContainer),_(this.endContainer);var t=new f(this,!0),n=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!n},surroundContents:function(t){if(b(t,z),!this.canSurroundContents())throw new p("BAD_BOUNDARYPOINTS_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);s(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){S(this);for(var t,e=new I(n(this)),i=V.length;i--;)t=V[i],e[t]=this[t];return e},toString:function(){S(this);var t=this.startContainer;if(t===this.endContainer&&L.isCharacterDataNode(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[];return l(t=new f(this,!0),function(t){(3==t.nodeType||4==t.nodeType)&&e.push(t.data)}),t.detach(),e.join("")},compareNode:function(t){S(this);var e=t.parentNode,n=L.getNodeIndex(t);if(!e)throw new O("NOT_FOUND_ERR");return t=this.comparePoint(e,n),e=this.comparePoint(e,n+1),0>t?e>0?J:Q:e>0?Z:tt},comparePoint:function(t,e){return S(this),C(t,"HIERARCHY_REQUEST_ERR"),x(t,this.startContainer),0>L.comparePoints(t,e,this.startContainer,this.startOffset)?-1:0<L.comparePoints(t,e,this.endContainer,this.endOffset)?1:0},createContextualFragment:U?function(t){var e=this.startContainer,n=L.getDocument(e);if(!e)throw new O("INVALID_STATE_ERR");var i=null;return 1==e.nodeType?i=e:L.isCharacterDataNode(e)&&(i=L.parentElement(e)),i=null===i||"HTML"==i.nodeName&&L.isHtmlNamespace(L.getDocument(i).documentElement)&&L.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=t,L.fragmentFromNodeChildren(i)}:function(t){y(this);var e=n(this).createElement("body");return e.innerHTML=t,L.fragmentFromNodeChildren(e)},toHtml:function(){S(this);var t=n(this).createElement("div");return t.appendChild(this.cloneContents()),t.innerHTML},intersectsNode:function(t,e){if(S(this),C(t,"NOT_FOUND_ERR"),L.getDocument(t)!==n(this))return!1;var i=t.parentNode,r=L.getNodeIndex(t);C(i,"NOT_FOUND_ERR");var o=L.comparePoints(i,r,this.endContainer,this.endOffset),i=L.comparePoints(i,r+1,this.startContainer,this.startOffset);return e?0>=o&&i>=0:0>o&&i>0},isPointInRange:function(t,e){return S(this),C(t,"HIERARCHY_REQUEST_ERR"),x(t,this.startContainer),0<=L.comparePoints(t,e,this.startContainer,this.startOffset)&&0>=L.comparePoints(t,e,this.endContainer,this.endOffset)},intersectsRange:function(t,e){if(S(this),n(t)!=n(this))throw new O("WRONG_DOCUMENT_ERR");var i=L.comparePoints(this.startContainer,this.startOffset,t.endContainer,t.endOffset),r=L.comparePoints(this.endContainer,this.endOffset,t.startContainer,t.startOffset);return e?0>=i&&r>=0:0>i&&r>0},intersection:function(t){if(this.intersectsRange(t)){var e=L.comparePoints(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=L.comparePoints(this.endContainer,this.endOffset,t.endContainer,t.endOffset),i=this.cloneRange();return-1==e&&i.setStart(t.startContainer,t.startOffset),1==n&&i.setEnd(t.endContainer,t.endOffset),i}return null},union:function(t){if(this.intersectsRange(t,!0)){var e=this.cloneRange();return-1==L.comparePoints(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==L.comparePoints(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new p("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==tt},containsNodeContents:function(t){return 0<=this.comparePoint(t,0)&&0>=this.comparePoint(t,L.getNodeLength(t))},containsRange:function(t){return this.intersection(t).equals(t)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);return 0<n.length?(e.setStart(n[0],0),t=n.pop(),e.setEnd(t,t.length),t=this.containsRange(e),e.detach(),t):this.containsNodeContents(t)},createNodeIterator:function(t,e){return S(this),new g(this,t,e)},getNodes:function(t,e){return S(this),h(this,t,e)},getDocument:function(){return n(this)},collapseBefore:function(t){y(this),this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){y(this),this.setStartAfter(t),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(t){return I.rangesEqual(this,t)},inspect:function(){return d(this)}},M(I,D,function(t){y(t),t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.collapsed=t.commonAncestorContainer=null,i(t,"detach",null),t._listeners=null}),t.rangePrototype=k.prototype,I.rangeProperties=V,I.RangeIterator=f,I.copyComparisonConstants=T,I.createPrototypeRange=M,I.inspect=d,I.getRangeDocument=n,I.rangesEqual=function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},t.DomRange=I,t.RangeException=p}),rangy.createModule("WrappedRange",function(t){function e(t,e,n,i){var s=t.duplicate();s.collapse(n);var a=s.parentElement();if(r.isAncestorOf(e,a,!0)||(a=e),!a.canHaveHTML)return new o(a.parentNode,r.getNodeIndex(a));var l,e=r.getDocument(a).createElement("span"),c=n?"StartToStart":"StartToEnd";do{a.insertBefore(e,e.previousSibling),s.moveToElementText(e)}while(0<(l=s.compareEndPoints(c,t))&&e.previousSibling);if(c=e.nextSibling,-1==l&&c&&r.isCharacterDataNode(c)){if(s.setEndPoint(n?"EndToStart":"EndToEnd",t),/[\r\n]/.test(c.data))for(a=s.duplicate(),n=a.text.replace(/\r\n/g,"\r").length,n=a.moveStart("character",n);-1==a.compareEndPoints("StartToEnd",a);)n++,a.moveStart("character",1);else n=s.text.length;a=new o(c,n)}else c=(i||!n)&&e.previousSibling,a=(n=(i||n)&&e.nextSibling)&&r.isCharacterDataNode(n)?new o(n,0):c&&r.isCharacterDataNode(c)?new o(c,c.length):new o(a,r.getNodeIndex(e));return e.parentNode.removeChild(e),a}function n(t,e){var n,i,o=t.offset,s=r.getDocument(t.node),a=s.body.createTextRange(),l=r.isCharacterDataNode(t.node);return l?(n=t.node,i=n.parentNode):(n=t.node.childNodes,n=o<n.length?n[o]:null,i=t.node),s=s.createElement("span"),s.innerHTML="&#feff;",n?i.insertBefore(s,n):i.appendChild(s),a.moveToElementText(s),a.collapse(!e),i.removeChild(s),l&&a[e?"moveStart":"moveEnd"]("character",o),a}t.requireModules(["DomUtil","DomRange"]);var i,r=t.dom,o=r.DomPosition,s=t.DomRange;if(!t.features.implementsDomRange||t.features.implementsTextRange&&t.config.preferTextRange){if(t.features.implementsTextRange){(i=function(t){this.textRange=t,this.refresh()}).prototype=new s(document),i.prototype.refresh=function(){var t,n,i=this.textRange;t=i.parentElement();var o=i.duplicate();o.collapse(!0),n=o.parentElement(),(o=i.duplicate()).collapse(!1),n=(n=n==(i=o.parentElement())?n:r.getCommonAncestor(n,i))==t?n:r.getCommonAncestor(t,n),0==this.textRange.compareEndPoints("StartToEnd",this.textRange)?n=t=e(this.textRange,n,!0,!0):(t=e(this.textRange,n,!0,!1),n=e(this.textRange,n,!1,!1)),this.setStart(t.node,t.offset),this.setEnd(n.node,n.offset)},s.copyComparisonConstants(i);var a=function(){return this}();void 0===a.Range&&(a.Range=i),t.createNativeRange=function(t){return(t=t||document).body.createTextRange()}}}else(function(){function e(t){for(var e,n=a.length;n--;)e=a[n],t[e]=t.nativeRange[e]}var n,o,a=s.rangeProperties;i=function(t){if(!t)throw Error("Range must be specified");this.nativeRange=t,e(this)},s.createPrototypeRange(i,function(t,e,n,i,r){var o=t.endContainer!==i||t.endOffset!=r;(t.startContainer!==e||t.startOffset!=n||o)&&(t.setEnd(i,r),t.setStart(e,n))},function(t){t.nativeRange.detach(),t.detached=!0;for(var e,n=a.length;n--;)e=a[n],t[e]=null}),(n=i.prototype).selectNode=function(t){this.nativeRange.selectNode(t),e(this)},n.deleteContents=function(){this.nativeRange.deleteContents(),e(this)},n.extractContents=function(){var t=this.nativeRange.extractContents();return e(this),t},n.cloneContents=function(){return this.nativeRange.cloneContents()},n.surroundContents=function(t){this.nativeRange.surroundContents(t),e(this)},n.collapse=function(t){this.nativeRange.collapse(t),e(this)},n.cloneRange=function(){return new i(this.nativeRange.cloneRange())},n.refresh=function(){e(this)},n.toString=function(){return this.nativeRange.toString()};var l=document.createTextNode("test");r.getBody(document).appendChild(l);var c=document.createRange();c.setStart(l,0),c.setEnd(l,0);try{c.setStart(l,1),n.setStart=function(t,n){this.nativeRange.setStart(t,n),e(this)},n.setEnd=function(t,n){this.nativeRange.setEnd(t,n),e(this)},o=function(t){return function(n){this.nativeRange[t](n),e(this)}}}catch(t){n.setStart=function(t,n){try{this.nativeRange.setStart(t,n)}catch(e){this.nativeRange.setEnd(t,n),this.nativeRange.setStart(t,n)}e(this)},n.setEnd=function(t,n){try{this.nativeRange.setEnd(t,n)}catch(e){this.nativeRange.setStart(t,n),this.nativeRange.setEnd(t,n)}e(this)},o=function(t,n){return function(i){try{this.nativeRange[t](i)}catch(e){this.nativeRange[n](i),this.nativeRange[t](i)}e(this)}}}n.setStartBefore=o("setStartBefore","setEndBefore"),n.setStartAfter=o("setStartAfter","setEndAfter"),n.setEndBefore=o("setEndBefore","setStartBefore"),n.setEndAfter=o("setEndAfter","setStartAfter"),c.selectNodeContents(l),n.selectNodeContents=c.startContainer==l&&c.endContainer==l&&0==c.startOffset&&c.endOffset==l.length?function(t){this.nativeRange.selectNodeContents(t),e(this)}:function(t){this.setStart(t,0),this.setEnd(t,s.getEndOffset(t))},c.selectNodeContents(l),c.setEnd(l,3),(o=document.createRange()).selectNodeContents(l),o.setEnd(l,4),o.setStart(l,2),n.compareBoundaryPoints=-1==c.compareBoundaryPoints(c.START_TO_END,o)&1==c.compareBoundaryPoints(c.END_TO_START,o)?function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},t.util.isHostMethod(c,"createContextualFragment")&&(n.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),r.getBody(document).removeChild(l),c.detach(),o.detach()})(),t.createNativeRange=function(t){return(t=t||document).createRange()};t.features.implementsTextRange&&(i.rangeToTextRange=function(t){if(t.collapsed)return n(new o(t.startContainer,t.startOffset),!0);var e=n(new o(t.startContainer,t.startOffset),!0),i=n(new o(t.endContainer,t.endOffset),!1);return(t=r.getDocument(t.startContainer).body.createTextRange()).setEndPoint("StartToStart",e),t.setEndPoint("EndToEnd",i),t}),i.prototype.getName=function(){return"WrappedRange"},t.WrappedRange=i,t.createRange=function(e){return e=e||document,new i(t.createNativeRange(e))},t.createRangyRange=function(t){return t=t||document,new s(t)},t.createIframeRange=function(e){return t.createRange(r.getIframeDocument(e))},t.createIframeRangyRange=function(e){return t.createRangyRange(r.getIframeDocument(e))},t.addCreateMissingNativeApiListener(function(e){void 0===(e=e.document).createRange&&(e.createRange=function(){return t.createRange(this)}),e=e=null})}),rangy.createModule("WrappedSelection",function(t,e){function n(t){return(t||window).document.selection}function i(t,e,n){var i=n?"end":"start",n=n?"start":"end";t.anchorNode=e[i+"Container"],t.anchorOffset=e[i+"Offset"],t.focusNode=e[n+"Container"],t.focusOffset=e[n+"Offset"]}function r(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function o(e){var n;return e instanceof y?(n=e._selectionNativeRange)||((n=t.createNativeRange(m.getDocument(e.startContainer))).setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset),e._selectionNativeRange=n,e.attachListener("detach",function(){this._selectionNativeRange=null})):e instanceof b?n=e.nativeRange:t.features.implementsDomRange&&e instanceof m.getWindow(e.startContainer).Range&&(n=e),n}function s(t){var e,n=t.getNodes();t:if(n.length&&1==n[0].nodeType){e=1;for(var i=n.length;i>e;++e)if(!m.isAncestorOf(n[0],n[e])){e=!1;break t}e=!0}else e=!1;if(!e)throw Error("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function a(t,e){var n=new b(e);t._ranges=[n],i(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function l(e){if(e._ranges.length=0,"None"==e.docSelection.type)r(e);else{var n=e.docSelection.createRange();if(n&&void 0!==n.text)a(e,n);else{e.rangeCount=n.length;for(var o,s=m.getDocument(n.item(0)),l=0;l<e.rangeCount;++l)(o=t.createRange(s)).selectNode(n.item(l)),e._ranges.push(o);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,i(e,e._ranges[e.rangeCount-1],!1)}}}function c(t,e){for(var n=t.docSelection.createRange(),i=s(e),r=m.getDocument(n.item(0)),r=m.getBody(r).createControlRange(),o=0,a=n.length;a>o;++o)r.add(n.item(o));try{r.add(i)}catch(t){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}r.select(),l(t)}function u(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function h(t,e){for(var n,i=m.getDocument(e[0].startContainer),i=m.getBody(i).createControlRange(),r=0;rangeCount>r;++r){n=s(e[r]);try{i.add(n)}catch(t){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),l(t)}function d(t,e){if(t.anchorNode&&m.getDocument(t.anchorNode)!==m.getDocument(e))throw new w("WRONG_DOCUMENT_ERR")}function f(t){var e=[],n=new x(t.anchorNode,t.anchorOffset),i=new x(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var o=0,s=t.rangeCount;s>o;++o)e[o]=y.inspect(t.getRangeAt(o));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}t.requireModules(["DomUtil","DomRange","WrappedRange"]),t.config.checkSelectionRanges=!0;var p,g,m=t.dom,v=t.util,y=t.DomRange,b=t.WrappedRange,w=t.DOMException,x=m.DomPosition,_=t.util.isHostMethod(window,"getSelection"),C=t.util.isHostObject(document,"selection"),S=C&&(!_||t.config.preferTextRange);S?(p=n,t.isSelectionValid=function(t){var e=(t=(t||window).document).selection;return"None"!=e.type||m.getDocument(e.createRange().parentElement())==t}):_?(p=function(t){return(t||window).getSelection()},t.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=p;var _=p(),k=t.createNativeRange(document),E=m.getBody(document),T=v.areHostObjects(_,v.areHostProperties(_,["anchorOffset","focusOffset"]));t.features.selectionHasAnchorAndFocus=T;var A=v.isHostMethod(_,"extend");t.features.selectionHasExtend=A;var M="number"==typeof _.rangeCount;t.features.selectionHasRangeCount=M;var N=!1,D=!0;v.areHostMethods(_,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof _.rangeCount&&t.features.implementsDomRange&&function(){var t=document.createElement("iframe");E.appendChild(t);var e=m.getIframeDocument(t);e.open(),e.write("<html><head></head><body>12</body></html>"),e.close();var n=m.getIframeWindow(t).getSelection(),i=e.documentElement.lastChild.firstChild;(e=e.createRange()).setStart(i,1),e.collapse(!0),n.addRange(e),D=1==n.rangeCount,n.removeAllRanges();var r=e.cloneRange();e.setStart(i,0),r.setEnd(i,2),n.addRange(e),n.addRange(r),N=2==n.rangeCount,e.detach(),r.detach(),E.removeChild(t)}(),t.features.selectionSupportsMultipleRanges=N,t.features.collapsedNonEditableSelectionsSupported=D;var I,L=!1;E&&v.isHostMethod(E,"createControlRange")&&(I=E.createControlRange(),v.areHostProperties(I,["item","add"])&&(L=!0)),t.features.implementsControlRange=L,g=T?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed};var P;if(v.isHostMethod(_,"getRangeAt")?P=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:T&&(P=function(e){var n=m.getDocument(e.anchorNode);return(n=t.createRange(n)).setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&(n.setStart(e.focusNode,e.focusOffset),n.setEnd(e.anchorNode,e.anchorOffset)),n}),t.getSelection=function(t){var e=(t=t||window)._rangySelection,i=p(t),r=C?n(t):null;return e?(e.nativeSelection=i,e.docSelection=r,e.refresh(t)):(e=new u(i,r,t),t._rangySelection=e),e},t.getIframeSelection=function(e){return t.getSelection(m.getIframeWindow(e))},I=u.prototype,!S&&T&&v.areHostMethods(_,["removeAllRanges","addRange"])){I.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),r(this)};var O=function(e,n){var i=y.getRangeDocument(n);(i=t.createRange(i)).collapseToPoint(n.endContainer,n.endOffset),e.nativeSelection.addRange(o(i)),e.nativeSelection.extend(n.startContainer,n.startOffset),e.refresh()};I.addRange=M?function(e,n){if(L&&C&&"Control"==this.docSelection.type)c(this,e);else if(n&&A)O(this,e);else{var r;N?r=this.rangeCount:(this.removeAllRanges(),r=0),this.nativeSelection.addRange(o(e)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1?(t.config.checkSelectionRanges&&(r=P(this.nativeSelection,this.rangeCount-1))&&!y.rangesEqual(r,e)&&(e=new b(r)),this._ranges[this.rangeCount-1]=e,i(this,e,F(this.nativeSelection)),this.isCollapsed=g(this)):this.refresh()}}:function(t,e){e&&A?O(this,t):(this.nativeSelection.addRange(o(t)),this.refresh())},I.setRanges=function(t){if(L&&t.length>1)h(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;n>e;++e)this.addRange(t[e])}}}else{if(!(v.isHostMethod(_,"empty")&&v.isHostMethod(k,"select")&&L&&S))return e.fail("No means of selecting a Range or TextRange was found"),!1;I.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=m.getDocument(this.anchorNode);else if("Control"==this.docSelection.type){var e=this.docSelection.createRange();e.length&&(t=m.getDocument(e.item(0)).body.createTextRange())}t&&(t.body.createTextRange().select(),this.docSelection.empty())}}catch(t){}r(this)},I.addRange=function(t){"Control"==this.docSelection.type?c(this,t):(b.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,i(this,t,!1))},I.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?h(this,t):e&&this.addRange(t[0])}}I.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new w("INDEX_SIZE_ERR");return this._ranges[t]};var R;if(S)R=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=m.getBody(e.win.document).createTextRange()).collapse(!0),"Control"==e.docSelection.type?l(e):n&&void 0!==n.text?a(e,n):r(e)};else if(v.isHostMethod(_,"getRangeAt")&&"number"==typeof _.rangeCount)R=function(e){if(L&&C&&"Control"==e.docSelection.type)l(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,o=e.rangeCount;o>n;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));i(e,e._ranges[e.rangeCount-1],F(e.nativeSelection)),e.isCollapsed=g(e)}else r(e)};else{if(!T||"boolean"!=typeof _.isCollapsed||"boolean"!=typeof k.collapsed||!t.features.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;R=function(t){var e;(e=t.nativeSelection).anchorNode?(e=P(e,0),t._ranges=[e],t.rangeCount=1,e=t.nativeSelection,t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset,t.isCollapsed=g(t)):r(t)}}I.refresh=function(t){var e=t?this._ranges.slice(0):null;if(R(this),t){if((t=e.length)!=this._ranges.length)return!1;for(;t--;)if(!y.rangesEqual(e[t],this._ranges[t]))return!1;return!0}};var H=function(t,e){var n=t.getAllRanges(),i=!1;t.removeAllRanges();for(var o=0,s=n.length;s>o;++o)i||e!==n[o]?t.addRange(n[o]):i=!0;t.rangeCount||r(t)};I.removeRange=L?function(t){if("Control"==this.docSelection.type){for(var e=this.docSelection.createRange(),t=s(t),n=m.getDocument(e.item(0)),n=m.getBody(n).createControlRange(),i=!1,r=0,o=e.length;o>r;++r)e.item(r)!==t||i?n.add(e.item(r)):i=!0;n.select(),l(this)}else H(this,t)}:function(t){H(this,t)};var F;!S&&T&&t.features.implementsDomRange?(F=function(t){var e=!1;return t.anchorNode&&(e=1==m.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e},I.isBackwards=function(){return F(this)}):F=I.isBackwards=function(){return!1},I.toString=function(){for(var t=[],e=0,n=this.rangeCount;n>e;++e)t[e]=""+this._ranges[e];return t.join("")},I.collapse=function(e,n){d(this,e);var i=t.createRange(m.getDocument(e));i.collapseToPoint(e,n),this.removeAllRanges(),this.addRange(i),this.isCollapsed=!0},I.collapseToStart=function(){if(!this.rangeCount)throw new w("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},I.collapseToEnd=function(){if(!this.rangeCount)throw new w("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},I.selectAllChildren=function(e){d(this,e);var n=t.createRange(m.getDocument(e));n.selectNodeContents(e),this.removeAllRanges(),this.addRange(n)},I.deleteFromDocument=function(){if(L&&C&&"Control"==this.docSelection.type){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){e=this.getAllRanges(),this.removeAllRanges(),t=0;for(var n=e.length;n>t;++t)e[t].deleteContents();this.addRange(e[n-1])}},I.getAllRanges=function(){return this._ranges.slice(0)},I.setSingleRange=function(t){this.setRanges([t])},I.containsNode=function(t,e){for(var n=0,i=this._ranges.length;i>n;++n)if(this._ranges[n].containsNode(t,e))return!0;return!1},I.toHtml=function(){t="";if(this.rangeCount){for(var t=y.getRangeDocument(this._ranges[0]).createElement("div"),e=0,n=this._ranges.length;n>e;++e)t.appendChild(this._ranges[e].cloneContents());t=t.innerHTML}return t},I.getName=function(){return"WrappedSelection"},I.inspect=function(){return f(this)},I.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null},u.inspect=f,t.Selection=u,t.selectionPrototype=I,t.addCreateMissingNativeApiListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return t.getSelection(this)}),e=null})});var Base=function(){};Base.extend=function(t,e){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var r=i.constructor,o=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:r.valueOf()},n.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;!Base._prototyping&&"function"!=typeof this&&(r=this.extend||r);for(var o={toSource:null},s=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=s[a++];)t[l]!=o[l]&&r.call(this,l,t[l]);for(var l in t)o[l]||r.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)void 0===this.prototype[i]&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return""+this.valueOf()}}),wysihtml5.browser=function(){var t=navigator.userAgent,e=document.createElement("div"),n=-1!==t.indexOf("MSIE")&&-1===t.indexOf("Opera"),i=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),r=-1!==t.indexOf("AppleWebKit/"),o=-1!==t.indexOf("Chrome/"),s=-1!==t.indexOf("Opera/");return{USER_AGENT:t,supported:function(){var t=this.USER_AGENT.toLowerCase(),n="contentEditable"in e,i=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,r=document.querySelector&&document.querySelectorAll,t=this.isIos()&&5>(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[,0])[1]||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return n&&i&&r&&!t},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var t=this.USER_AGENT.toLowerCase();return-1!==t.indexOf("webkit")&&-1!==t.indexOf("mobile")},supportsSandboxedIframes:function(){return n},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!i},hasCurrentStyleProperty:function(){return"currentStyle"in e},insertsLineBreaksOnReturn:function(){return i},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){var n;return(n="on"+t in e)||(e.setAttribute("on"+t,"return;"),n="function"==typeof e["on"+t]),n},supportsEventsInIframeCorrectly:function(){return!s},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return r||i},supportsDataTransfer:function(){try{return r&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(t){return!1}},supportsHTML5Tags:function(t){return t=t.createElement("div"),t.innerHTML="<article>foo</article>","<article>foo</article>"===t.innerHTML.toLowerCase()},supportsCommand:function(){var t={formatBlock:n,insertUnorderedList:n||s||r,insertOrderedList:n||s||r},e={insertHTML:i};return function(n,i){if(!t[i]){try{return n.queryCommandSupported(i)}catch(t){}try{return n.queryCommandEnabled(i)}catch(t){return!!e[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return i||s||r},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return i||n||s},clearsListsInContentEditableCorrectly:function(){return i||n||r},autoScrollsToCaret:function(){return!r},autoClosesUnclosedTags:function(){var t,n=e.cloneNode(!1);return n.innerHTML="<p><div></div>",n=n.innerHTML.toLowerCase(),t="<p></p><div></div>"===n||"<p><div></div></p>"===n,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==(""+document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in e},needsSpaceAfterLineBreak:function(){return s},supportsSpeechApiOn:function(e){return 11<=(t.match(/Chrome\/(\d+)/)||[,0])[1]&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(t){return n&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return n},hasProblemsSettingCaretAfterImg:function(){return n},hasUndoInContextMenu:function(){return i||o||s}}}(),wysihtml5.lang.array=function(t){return{contains:function(e){if(t.indexOf)return-1!==t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return!0;return!1},without:function(e){for(var e=wysihtml5.lang.array(e),n=[],i=0,r=t.length;r>i;i++)e.contains(t[i])||n.push(t[i]);return n},get:function(){for(var e=0,n=t.length,i=[];n>e;e++)i.push(t[e]);return i}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(t,e){this.events=this.events||{};for(var n=this.events[t]||[],i=0;i<n.length;i++)n[i].call(this,e);return this},stopObserving:function(t,e){this.events=this.events||{};var n,i,r=0;if(t){for(n=this.events[t]||[],i=[];r<n.length;r++)n[r]!==e&&e&&i.push(n[r]);this.events[t]=i}else this.events={};return this}}),wysihtml5.lang.object=function(t){return{merge:function(e){for(var n in e)t[n]=e[n];return this},get:function(){return t},clone:function(){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(t)}}},function(){var t=/^\s+/,e=/\s+$/;wysihtml5.lang.string=function(n){return n=""+n,{trim:function(){return n.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)n=this.replace("#{"+e+"}").by(t[e]);return n},replace:function(t){return{by:function(e){return n.split(t).join(e)}}}}}}(),function(t){function e(t){return t.replace(r,function(t,e){var n=(e.match(o)||[])[1]||"",i=a[n];(e=e.replace(o,"")).split(i).length>e.split(n).length&&(e+=n,n="");var r=i=e;return e.length>s&&(r=r.substr(0,s)+"..."),"www."===i.substr(0,4)&&(i="http://"+i),'<a href="'+i+'">'+r+"</a>"+n})}function n(o){if(!i.contains(o.nodeName)){if(o.nodeType!==t.TEXT_NODE||!o.data.match(r)){for(s=(a=t.lang.array(o.childNodes).get()).length,l=0;s>l;l++)n(a[l]);return o}var s,a=o.parentNode,l=(s=a.ownerDocument)._wysihtml5_tempElement;for(l||(l=s._wysihtml5_tempElement=s.createElement("div")),(s=l).innerHTML="<span></span>"+e(o.data),s.removeChild(s.firstChild);s.firstChild;)a.insertBefore(s.firstChild,o);a.removeChild(o)}}var i=t.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),r=/((https?:\/\/|www\.)[^\s<]{3,})/gi,o=/([^\w\/\-](,?))$/i,s=100,a={")":"(","]":"[","}":"{"};t.dom.autoLink=function(t){var e;t:{e=t;for(var r;e.parentNode;){if(e=e.parentNode,r=e.nodeName,i.contains(r)){e=!0;break t}if("body"===r)break}e=!1}return e?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),n(t))},t.dom.autoLink.URL_REG_EXP=r}(wysihtml5),function(t){var e=t.browser.supportsClassList(),n=t.dom;n.addClass=function(t,i){return e?t.classList.add(i):void(n.hasClass(t,i)||(t.className+=" "+i))},n.removeClass=function(t,n){return e?t.classList.remove(n):void(t.className=t.className.replace(RegExp("(^|\\s+)"+n+"(\\s+|$)")," "))},n.hasClass=function(t,n){if(e)return t.classList.contains(n);var i=t.className;return 0<i.length&&(i==n||RegExp("(^|\\s)"+n+"(\\s|$)").test(i))}}(wysihtml5),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function t(t,e){var n=t.createElement("li");return e.appendChild(n),n}return function(e,n){if("UL"===e.nodeName||"OL"===e.nodeName||"MENU"===e.nodeName)return e;var i,r,o,s,a,l=e.ownerDocument,c=l.createElement(n),u=e.querySelectorAll("br"),h=u.length;for(a=0;h>a;a++)for(i=u[a];(r=i.parentNode)&&r!==e&&r.lastChild===i;){if("block"===wysihtml5.dom.getStyle("display").from(r)){r.removeChild(i);break}wysihtml5.dom.insert(i).after(i.parentNode)}for(h=(u=wysihtml5.lang.array(e.childNodes).get()).length,a=0;h>a;a++)s=s||t(l,c),i=u[a],r="block"===wysihtml5.dom.getStyle("display").from(i),o="BR"===i.nodeName,r?((s=s.firstChild?t(l,c):s).appendChild(i),s=null):o?s=s.firstChild?null:s:s.appendChild(i);return e.parentNode.replaceChild(c,e),c}}(),wysihtml5.dom.copyAttributes=function(t){return{from:function(e){return{to:function(n){for(var i,r=0,o=t.length;o>r;r++)i=t[r],void 0!==e[i]&&""!==e[i]&&(n[i]=e[i]);return{andTo:arguments.callee}}}}}},function(t){var e=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(n){var i;t:for(var r=0,o=e.length;o>r;r++)if("border-box"===t.getStyle(e[r]).from(n)){i=e[r];break t}return!!i&&parseInt(t.getStyle("width").from(n),10)<n.offsetWidth};t.copyStyles=function(i){return{from:function(r){n(r)&&(i=wysihtml5.lang.array(i).without(e));for(var o,s="",a=i.length,l=0;a>l;l++)o=i[l],s+=o+":"+t.getStyle(o).from(r)+";";return{to:function(e){return t.setStyles(s).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(t){t.dom.delegate=function(e,n,i,r){return t.dom.observe(e,i,function(i){for(var o=i.target,s=t.lang.array(e.querySelectorAll(n));o&&o!==e;){if(s.contains(o)){r.call(o,i);break}o=o.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var t="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(e,n){var i,n=n||document;if("object"==typeof e&&e.nodeType)(i=n.createElement("div")).appendChild(e);else if(wysihtml5.browser.supportsHTML5Tags(n))i=n.createElement("div"),i.innerHTML=e;else{if(!(i=n)._wysihtml5_supportsHTML5Tags){for(var r=0,o=t.length;o>r;r++)i.createElement(t[r]);i._wysihtml5_supportsHTML5Tags=!0}(r=(i=n).createElement("div")).style.display="none",i.body.appendChild(r);try{r.innerHTML=e}catch(t){}i.body.removeChild(r),i=r}return i}}(),wysihtml5.dom.getParentElement=function(){function t(t,e){return!e||!e.length||("string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t))}return function(e,n,i){if(i=i||50,n.className||n.classRegExp){t:{for(var r=n.nodeName,o=n.className,n=n.classRegExp;i--&&e&&"BODY"!==e.nodeName;){var s;if((s=e.nodeType===wysihtml5.ELEMENT_NODE)&&(s=t(e.nodeName,r))){s=o;var a=(e.className||"").match(n)||[];s=s?a[a.length-1]===s:!!a.length}if(s)break t;e=e.parentNode}e=null}return e}t:{for(r=n.nodeName,o=i;o--&&e&&"BODY"!==e.nodeName;){if(t(e.nodeName,r))break t;e=e.parentNode}e=null}return e}}(),wysihtml5.dom.getStyle=function(){function t(t){return t.replace(n,function(t){return t.charAt(1).toUpperCase()})}var e={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(i){if(i.nodeType===wysihtml5.ELEMENT_NODE){var r=i.ownerDocument,o=e[n]||t(n),s=i.style,a=i.currentStyle,l=s[o];if(l)return l;if(a)try{return a[o]}catch(t){}var c,o=r.defaultView||r.parentWindow,r=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName;if(o.getComputedStyle)return r&&(c=s.overflow,s.overflow="hidden"),i=o.getComputedStyle(i,null).getPropertyValue(n),r&&(s.overflow=c||""),i}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){var t={},e=1;return function(n,i){var r=(n._wysihtml5_identifier||(n._wysihtml5_identifier=e++))+":"+i,o=t[r];return o||(o=t[r]=n.getElementsByTagName(i)),0<o.length}}(),function(t){var e={},n=1;t.dom.hasElementWithClassName=function(i,r){if(!t.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+r);var o=(i._wysihtml5_identifier||(i._wysihtml5_identifier=n++))+":"+r,s=e[o];return s||(s=e[o]=i.getElementsByClassName(r)),0<s.length}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(t){return t=t.join("\n"),{into:function(e){var n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),n&&n.appendChild(i)}}},wysihtml5.dom.observe=function(t,e,n){for(var i,r,o=0,s=(e="string"==typeof e?[e]:e).length;s>o;o++)r=e[o],t.addEventListener?t.addEventListener(r,n,!1):(i=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},n.call(t,e)},t.attachEvent("on"+r,i));return{stop:function(){for(var r,o=0,s=e.length;s>o;o++)r=e[o],t.removeEventListener?t.removeEventListener(r,n,!1):t.detachEvent("on"+r,i)}}},wysihtml5.dom.parse=function(){function t(e,r){var o,s=e.childNodes,a=s.length,l=0;if(!(o=(o=n[e.nodeType])&&o(e)))return null;for(l=0;a>l;l++)(newChild=t(s[l],r))&&o.appendChild(newChild);return r&&1>=o.childNodes.length&&o.nodeName.toLowerCase()===i&&!o.attributes.length?o.firstChild:o}function e(t,e){var n,e=e.toLowerCase();if((n="IMG"==t.nodeName)&&(n="src"==e)){var i;try{i=t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){t.complete&&"complete"===t.readyState&&(i=!0)}n=!0===i}return n?t.src:a&&"outerHTML"in t?-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null:t.getAttribute(e)}var n={1:function(t){var n,o,a=s.tags;if(o=t.nodeName.toLowerCase(),n=t.scopeName,t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(n&&"HTML"!=n&&(o=n+":"+o),"outerHTML"in t&&!wysihtml5.browser.autoClosesUnclosedTags()&&"P"===t.nodeName&&"</p>"!==t.outerHTML.slice(-4).toLowerCase()&&(o="div"),o in a){if(!(n=a[o])||n.remove)return null;n="string"==typeof n?{rename_tag:n}:n}else{if(!t.firstChild)return null;n={rename_tag:i}}o=t.ownerDocument.createElement(n.rename_tag||o);var a={},u=n.set_class,h=n.add_class,d=n.set_attributes,f=n.check_attributes,p=s.classes,g=0,m=[];n=[];var v,y=[],b=[];if(d&&(a=wysihtml5.lang.object(d).clone()),f)for(v in f)(d=l[f[v]])&&"string"==typeof(d=d(e(t,v)))&&(a[v]=d);if(u&&m.push(u),h)for(v in h)(d=c[h[v]])&&"string"==typeof(u=d(e(t,v)))&&m.push(u);for(p["_wysihtml5-temp-placeholder"]=1,(b=t.getAttribute("class"))&&(m=m.concat(b.split(r))),h=m.length;h>g;g++)t=m[g],p[t]&&n.push(t);for(p=n.length;p--;)t=n[p],wysihtml5.lang.array(y).contains(t)||y.unshift(t);y.length&&(a.class=y.join(" "));for(v in a)try{o.setAttribute(v,a[v])}catch(t){}return a.src&&(void 0!==a.width&&o.setAttribute("width",a.width),void 0!==a.height&&o.setAttribute("height",a.height)),o},3:function(t){return t.ownerDocument.createTextNode(t.data)}},i="span",r=/\s+/,o={tags:{},classes:{}},s={},a=!wysihtml5.browser.supportsGetAttributeCorrectly(),l={url:function(){var t=/^https?:\/\//i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),alt:function(){var t=/[^ a-z0-9_\-]/gi;return function(e){return e?e.replace(t,""):""}}(),numbers:function(){var t=/\D/g;return function(e){return(e=(e||"").replace(t,""))||null}}()},c={align_img:function(){var t={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(e){return t[(""+e).toLowerCase()]}}(),align_text:function(){var t={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(e){return t[(""+e).toLowerCase()]}}(),clear_br:function(){var t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(e){return t[(""+e).toLowerCase()]}}(),size_font:function(){var t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(e){return t[(""+e).charAt(0)]}}()};return function(e,n,i,r){wysihtml5.lang.object(s).merge(o).merge(n).get();for(var n=(i=i||e.ownerDocument||document).createDocumentFragment(),a="string"==typeof e,e=a?wysihtml5.dom.getAsDom(e,i):e;e.firstChild;)i=e.firstChild,e.removeChild(i),(i=t(i,r))&&n.appendChild(i);return e.innerHTML="",e.appendChild(n),a?wysihtml5.quirks.getCorrectInnerHTML(e):e}}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e=wysihtml5.lang.array(t.childNodes).get(),n=e.length,i=0;n>i;i++)(t=e[i]).nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(t,e){for(var n,i=t.ownerDocument.createElement(e);n=t.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(i),t.parentNode.replaceChild(i,t),i},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode)if(t.firstChild){for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t)}else t.parentNode.removeChild(t)},function(t){function e(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}t.resolveList=function(n){if("MENU"===n.nodeName||"UL"===n.nodeName||"OL"===n.nodeName){var i,r,o,s=n.ownerDocument.createDocumentFragment(),a=n.previousElementSibling||n.previousSibling;for(a&&"block"!==t.getStyle("display").from(a)&&e(s);o=n.firstChild;){for(i=o.lastChild;a=o.firstChild;)r=(r=a===i)&&"block"!==t.getStyle("display").from(a)&&"BR"!==a.nodeName,s.appendChild(a),r&&e(s);o.parentNode.removeChild(o)}n.parentNode.replaceChild(s,n)}}}(wysihtml5.dom),function(t){var e=document,n="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),i="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),r=["referrer","write","open","close"];t.dom.Sandbox=Base.extend({constructor:function(e,n){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(n).get(),this.iframe=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=e.getElementById(t)),t.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=e.createElement("iframe");return i.className="wysihtml5-sandbox",t.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),t.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(o){if(t.dom.contains(e.documentElement,o)){var s=this,a=o.contentWindow,l=o.contentWindow.document,c=this._getHtml({charset:e.characterSet||e.charset||"utf-8",stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(c),l.close(),this.getWindow=function(){return o.contentWindow},this.getDocument=function(){return o.contentWindow.document},a.onerror=function(t,e,n){throw Error("wysihtml5.Sandbox: "+t,e,n)},!t.browser.supportsSandboxedIframes()){var u,c=0;for(u=n.length;u>c;c++)this._unset(a,n[c]);for(c=0,u=i.length;u>c;c++)this._unset(a,i[c],t.EMPTY_FUNCTION);for(c=0,u=r.length;u>c;c++)this._unset(l,r[c]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){s.callback(s)},0)}},_getHtml:function(e){var n,i=e.stylesheets,r="",o=0;if(i="string"==typeof i?[i]:i)for(n=i.length;n>o;o++)r+='<link rel="stylesheet" href="'+i[o]+'">';return e.stylesheets=r,t.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,n,i,r){try{e[n]=i}catch(t){}try{e.__defineGetter__(n,function(){return i})}catch(t){}if(r)try{e.__defineSetter__(n,function(){})}catch(t){}if(!t.browser.crashesWhenDefineProperty(n))try{var o={get:function(){return i}};r&&(o.set=function(){}),Object.defineProperty(e,n,o)}catch(t){}}})}(wysihtml5),function(){var t={className:"class"};wysihtml5.dom.setAttributes=function(e){return{on:function(n){for(var i in e)n.setAttribute(t[i]||i,e[i])}}}}(),wysihtml5.dom.setStyles=function(t){return{on:function(e){if(e=e.style,"string"==typeof t)e.cssText+=";"+t;else for(var n in t)"float"===n?(e.cssFloat=t[n],e.styleFloat=t[n]):e[n]=t[n]}}},function(t){t.simulatePlaceholder=function(e,n,i){var r=function(){n.hasPlaceholderSet()&&n.clear(),t.removeClass(n.element,"placeholder")},o=function(){n.isEmpty()&&(n.setValue(i),t.addClass(n.element,"placeholder"))};e.observe("set_placeholder",o).observe("unset_placeholder",r).observe("focus:composer",r).observe("paste:composer",r).observe("blur:composer",o),o()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){var t={"a u":wysihtml5.dom.replaceWithChildNodes};return function(e,n,i){var r,o,s,n=n||t,i=i||e.ownerDocument||document,a="string"==typeof e,l=0,e=a?wysihtml5.dom.getAsDom(e,i):e;for(s in n)for(r=e.querySelectorAll(s),i=n[s],o=r.length;o>l;l++)i(r[l]);return a?e.innerHTML:e}}(),function(t){var e=t.dom;t.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();("<p>&nbsp;</p>"==e||"<p>&nbsp;</p><p>&nbsp;</p>"==e)&&(t.innerHTML="")},0)};return function(n){e.observe(n.element,["cut","keydown"],t)}}(),t.quirks.ensureProperClearingOfLists=function(){var n=["OL","UL","MENU"];return function(i){e.observe(i.element,"keydown",function(r){if(r.keyCode===t.BACKSPACE_KEY){var o=i.selection.getSelectedNode();(r=i.element).firstChild&&t.lang.array(n).contains(r.firstChild.nodeName)&&(o=e.getParentElement(o,{nodeName:n}))&&o==r.firstChild&&1>=o.childNodes.length&&(o.firstChild?""===o.firstChild.innerHTML:1)&&o.parentNode.removeChild(o)}})}}()}(wysihtml5),function(t){t.quirks.getCorrectInnerHTML=function(e){var n=e.innerHTML;if(-1===n.indexOf("%7E"))return n;var i,r,o,s;for(s=0,o=(e=e.querySelectorAll("[href*='~'], [src*='~']")).length;o>s;s++)i=e[s].href||e[s].src,r=t.lang.string(i).replace("~").by("%7E"),n=t.lang.string(n).replace(r).by(i);return n}}(wysihtml5),function(t){var e=t.dom,n="LI P H1 H2 H3 H4 H5 H6".split(" "),i=["UL","OL","MENU"];t.quirks.insertLineBreakOnReturn=function(r){function o(n){if(n=e.getParentElement(n,{nodeName:["P","DIV"]},2)){var i=document.createTextNode(t.INVISIBLE_SPACE);e.insert(i).before(n),e.replaceWithChildNodes(n),r.selection.selectNode(i)}}e.observe(r.element.ownerDocument,"keydown",function(s){var a=s.keyCode;if(!(s.shiftKey||a!==t.ENTER_KEY&&a!==t.BACKSPACE_KEY)){var l=r.selection.getSelectedNode();(l=e.getParentElement(l,{nodeName:n},4))?"LI"!==l.nodeName||a!==t.ENTER_KEY&&a!==t.BACKSPACE_KEY?l.nodeName.match(/H[1-6]/)&&a===t.ENTER_KEY&&setTimeout(function(){o(r.selection.getSelectedNode())},0):setTimeout(function(){var t=r.selection.getSelectedNode();t&&(e.getParentElement(t,{nodeName:i},2)||o(t))},0):a===t.ENTER_KEY&&!t.browser.insertsLineBreaksOnReturn()&&(r.commands.exec("insertLineBreak"),s.preventDefault())}})}}(wysihtml5),function(t){t.quirks.redraw=function(e){t.dom.addClass(e,"wysihtml5-quirks-redraw"),t.dom.removeClass(e,"wysihtml5-quirks-redraw");try{var n=e.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(t){}}}(wysihtml5),function(t){var e=t.dom;t.Selection=Base.extend({constructor:function(t){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},getBookmark:function(){var t=this.getRange();return t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(n){var i=rangy.createRange(this.doc),r=n.nodeType===t.ELEMENT_NODE,o="canHaveHTML"in n?n.canHaveHTML:"IMG"!==n.nodeName,s=""===(s=r?n.innerHTML:n.data)||s===t.INVISIBLE_SPACE,a="block"===(a=e.getStyle("display").from(n))||"list-item"===a;if(s&&r&&o)try{n.innerHTML=t.INVISIBLE_SPACE}catch(t){}o?i.selectNodeContents(n):i.selectNode(n),o&&s&&r?i.collapse(a):o&&s&&(i.setStartAfter(n),i.setEndAfter(n)),this.setSelection(i)},getSelectedNode:function(t){return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(t=this.doc.selection.createRange())&&t.length?t.item(0):(t=this.getSelection(this.doc)).focusNode===t.anchorNode?t.focusNode:(t=this.getRange(this.doc))?t.commonAncestorContainer:this.doc.body},executeAndRestore:function(e,n){var i=this.doc.body,r=n&&i.scrollTop,o=n&&i.scrollLeft,s='<span class="_wysihtml5-temp-placeholder">'+t.INVISIBLE_SPACE+"</span>",a=this.getRange(this.doc);if(a){s=a.createContextualFragment(s),a.insertNode(s);try{e(a.startContainer,a.endContainer)}catch(t){setTimeout(function(){throw t},0)}(caretPlaceholder=this.doc.querySelector("._wysihtml5-temp-placeholder"))?((a=rangy.createRange(this.doc)).selectNode(caretPlaceholder),a.deleteContents(),this.setSelection(a)):i.focus(),n&&(i.scrollTop=r,i.scrollLeft=o);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(t){}}else e(i,i)},executeAndRestoreSimple:function(t){var e,n,i,r=this.getRange(),o=this.doc.body;if(r){o=(e=r.getNodes([3]))[0]||r.startContainer,i=e[e.length-1]||r.endContainer,e=o===r.startContainer?r.startOffset:0,n=i===r.endContainer?r.endOffset:i.length;try{t(r.startContainer,r.endContainer)}catch(t){setTimeout(function(){throw t},0)}t=rangy.createRange(this.doc);try{t.setStart(o,e)}catch(t){}try{t.setEnd(i,n)}catch(t){}try{this.setSelection(t)}catch(t){}}else t(o,o)},insertHTML:function(t){var e=(t=rangy.createRange(this.doc).createContextualFragment(t)).lastChild;this.insertNode(t),e&&this.setAfter(e)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e=this.getRange();if(e)try{e.surroundContents(t),this.selectNode(t)}catch(n){t.appendChild(e.extractContents()),e.insertNode(t)}},scrollIntoView:function(){var e,n=this.doc,i=n.documentElement.scrollHeight>n.documentElement.offsetHeight;if((e=n._wysihtml5ScrollIntoViewElement)||(e=n.createElement("span"),e.innerHTML=t.INVISIBLE_SPACE),e=n._wysihtml5ScrollIntoViewElement=e,i){this.insertNode(e);var r=0;if((i=e).parentNode)do{r+=i.offsetTop||0,i=i.offsetParent}while(i);i=r,e.parentNode.removeChild(e),i>n.body.scrollTop&&(n.body.scrollTop=i)}},selectLine:function(){t.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView.getSelection();t.modify("extend","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e=this.doc.selection.createRange(),n=e.boundingTop,i=this.doc.body.scrollWidth;if(e.moveToPoint){for(0===n&&(t=this.doc.createElement("span"),this.insertNode(t),n=t.offsetTop,t.parentNode.removeChild(t)),n+=1,t=-10;i>t;t+=2)try{e.moveToPoint(t,n);break}catch(t){}for(t=this.doc.selection.createRange();i>=0;i--)try{t.moveToPoint(i,n);break}catch(t){}e.setEndPoint("EndToEnd",t),e.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var n=this.getRange();return n?n.getNodes([t],e):[]},getRange:function(){var t=this.getSelection();return t&&t.rangeCount&&t.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow).setSingleRange(t)}})}(wysihtml5),function(t,e){function n(t,n){return e.dom.isCharacterDataNode(t)?0==n?!!t.previousSibling:n!=t.length||!!t.nextSibling:n>0&&n<t.childNodes.length}function i(t,n,r){var o;if(e.dom.isCharacterDataNode(n)&&(0==r?(r=e.dom.getNodeIndex(n),n=n.parentNode):r==n.length?(r=e.dom.getNodeIndex(n)+1,n=n.parentNode):o=e.dom.splitDataNode(n,r)),!o){(o=n.cloneNode(!1)).id&&o.removeAttribute("id");for(var s;s=n.childNodes[r];)o.appendChild(s);e.dom.insertAfter(o,n)}return n==t?o:i(t,o.parentNode,e.dom.getNodeIndex(o))}function r(e){this.firstTextNode=(this.isElementMerge=e.nodeType==t.ELEMENT_NODE)?e.lastChild:e,this.textNodes=[this.firstTextNode]}function o(t,e,n,i){this.tagNames=t||[s],this.cssClass=e||"",this.similarClassRegExp=n,this.normalize=i,this.applyToAnyTagName=!1}var s="span",a=/\s+/g;r.prototype={doMerge:function(){for(var t,e,n=[],i=0,r=this.textNodes.length;r>i;++i)t=this.textNodes[i],e=t.parentNode,n[i]=t.data,i&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=n=n.join("")},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,n=this.textNodes.length;n>e;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},o.prototype={getAncestorWithClass:function(n){for(var i;n;){if(this.cssClass)if(i=this.cssClass,n.className){var r=n.className.match(this.similarClassRegExp)||[];i=r[r.length-1]===i}else i=!1;else i=!0;if(n.nodeType==t.ELEMENT_NODE&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&i)return n;n=n.parentNode}return!1},postApply:function(t,e){for(var n,i,o,s=t[0],a=t[t.length-1],l=[],c=s,u=a,h=0,d=a.length,f=0,p=t.length;p>f;++f)i=t[f],(o=this.getAdjacentMergeableTextNode(i.parentNode,!1))?(n||(n=new r(o),l.push(n)),n.textNodes.push(i),i===s&&(c=n.firstTextNode,h=c.length),i===a&&(u=n.firstTextNode,d=n.getLength())):n=null;if((s=this.getAdjacentMergeableTextNode(a.parentNode,!0))&&(n||(n=new r(a),l.push(n)),n.textNodes.push(s)),l.length){for(f=0,p=l.length;p>f;++f)l[f].doMerge();e.setStart(c,h),e.setEnd(u,d)}},getAdjacentMergeableTextNode:function(e,n){var i=e.nodeType==t.TEXT_NODE,r=i?e.parentNode:e,o=n?"nextSibling":"previousSibling";if(i){if((i=e[o])&&i.nodeType==t.TEXT_NODE)return i}else if((i=r[o])&&this.areElementsMergeable(e,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,n){var i;if((i=e.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase()))&&(i=e.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase()))&&(i=t.className.replace(a," ")==n.className.replace(a," ")))t:if(t.attributes.length!=n.attributes.length)i=!1;else{i=0;for(var r,o,s=t.attributes.length;s>i;++i)if(r=t.attributes[i],"class"!=(o=r.name)&&(o=n.attributes.getNamedItem(o),r.specified!=o.specified||r.specified&&r.nodeValue!==o.nodeValue)){i=!1;break t}i=!0}return i},createContainer:function(t){return t=t.createElement(this.tagNames[0]),this.cssClass&&(t.className=this.cssClass),t},applyToTextNode:function(t){var n=t.parentNode;1==n.childNodes.length&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())?this.cssClass&&(t=this.cssClass,n.className?(n.className&&(n.className=n.className.replace(this.similarClassRegExp,"")),n.className+=" "+t):n.className=t):(n=this.createContainer(e.dom.getDocument(t)),t.parentNode.insertBefore(n,t),n.appendChild(t))},isRemovable:function(n){return e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&t.lang.string(n.className).trim()==this.cssClass},undoToTextNode:function(t,e,r){if(e.containsNode(r)||((t=e.cloneRange()).selectNode(r),t.isPointInRange(e.endContainer,e.endOffset)&&n(e.endContainer,e.endOffset)&&(i(r,e.endContainer,e.endOffset),e.setEndAfter(r)),t.isPointInRange(e.startContainer,e.startOffset)&&n(e.startContainer,e.startOffset)&&(r=i(r,e.startContainer,e.startOffset))),this.similarClassRegExp&&r.className&&(r.className=r.className.replace(this.similarClassRegExp,"")),this.isRemovable(r)){for(r=(e=r).parentNode;e.firstChild;)r.insertBefore(e.firstChild,e);r.removeChild(e)}},applyToRange:function(e){var n=e.getNodes([t.TEXT_NODE]);if(!n.length)try{var i=this.createContainer(e.endContainer.ownerDocument);return e.surroundContents(i),void this.selectNode(e,i)}catch(t){}if(e.splitBoundaries(),(n=e.getNodes([t.TEXT_NODE])).length){for(var r=0,o=n.length;o>r;++r)i=n[r],this.getAncestorWithClass(i)||this.applyToTextNode(i);e.setStart(n[0],0),i=n[n.length-1],e.setEnd(i,i.length),this.normalize&&this.postApply(n,e)}},undoToRange:function(e){var n,i,r=e.getNodes([t.TEXT_NODE]);r.length?(e.splitBoundaries(),r=e.getNodes([t.TEXT_NODE])):(r=e.endContainer.ownerDocument.createTextNode(t.INVISIBLE_SPACE),e.insertNode(r),e.selectNode(r),r=[r]);for(var o=0,s=r.length;s>o;++o)n=r[o],(i=this.getAncestorWithClass(n))&&this.undoToTextNode(n,e,i);1==s?this.selectNode(e,r[0]):(e.setStart(r[0],0),n=r[r.length-1],e.setEnd(n,n.length),this.normalize&&this.postApply(r,e))},selectNode:function(e,n){var i=n.nodeType===t.ELEMENT_NODE,r=!("canHaveHTML"in n)||n.canHaveHTML,o=i?n.innerHTML:n.data;if((o=""===o||o===t.INVISIBLE_SPACE)&&i&&r)try{n.innerHTML=t.INVISIBLE_SPACE}catch(t){}e.selectNodeContents(n),o&&i?e.collapse(!1):o&&(e.setStartAfter(n),e.setEndAfter(n))},getTextSelectedByRange:function(t,e){var n=e.cloneRange();n.selectNodeContents(t);var i=(i=n.intersection(e))?i.toString():"";return n.detach(),i},isAppliedToRange:function(e){var n,i=[],r=e.getNodes([t.TEXT_NODE]);if(!r.length)return!!(n=this.getAncestorWithClass(e.startContainer))&&[n];for(var o,s=0,a=r.length;a>s;++s){if(o=this.getTextSelectedByRange(r[s],e),n=this.getAncestorWithClass(r[s]),""!=o&&!n)return!1;i.push(n)}return i},toggleRange:function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)}},t.selection.HTMLApplier=o}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var n=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),r=n&&n.exec,o=null;if(this.editor.fire("beforecommand:composer"),r)i.unshift(this.composer),o=r.apply(n,i);else try{o=this.doc.execCommand(t,!1,e)}catch(t){}return this.editor.fire("aftercommand:composer"),o},state:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),i=e&&e.state;if(i)return n.unshift(this.composer),i.apply(e,n);try{return this.doc.queryCommandState(t)}catch(t){return!1}},value:function(t){var e=wysihtml5.commands[t],n=e&&e.value;if(n)return n.call(e,this.composer,t);try{return this.doc.queryCommandValue(t)}catch(t){return null}}}),function(t){t.commands.bold={exec:function(e,n){return t.commands.formatInline.exec(e,n,"b")},state:function(e,n){return t.commands.formatInline.state(e,n,"b")},value:function(){}}}(wysihtml5),function(t){function e(e,o){var s,a,l,c=e.doc,u="_wysihtml5-temp-"+ +new Date,h=0;for(t.commands.formatInline.exec(e,n,i,u,/non-matching-class/g),u=(s=c.querySelectorAll(i+"."+u)).length;u>h;h++)for(l in(a=s[h]).removeAttribute("class"),o)a.setAttribute(l,o[l]);h=a,1===u&&(l=r.getTextContent(a),u=!!a.querySelector("*"),l=""===l||l===t.INVISIBLE_SPACE,!u&&l&&(r.setTextContent(a,o.text||a.href),c=c.createTextNode(" "),e.selection.setAfter(a),e.selection.insertNode(c),h=c)),e.selection.setAfter(h)}var n,i="A",r=t.dom;t.commands.createLink={exec:function(t,n,i){var o=this.state(t,n);o?t.selection.executeAndRestore(function(){for(var t,e,n=o.length,i=0;n>i;i++)t=o[i],e=r.getParentElement(t,{nodeName:"code"}),r.getTextContent(t).match(r.autoLink.URL_REG_EXP)&&!e?r.renameElement(t,"code"):r.replaceWithChildNodes(t)}):(i="object"==typeof i?i:{href:i},e(t,i))},state:function(e,n){return t.commands.formatInline.state(e,n,"A")},value:function(){return n}}}(wysihtml5),function(t){var e=/wysiwyg-font-size-[a-z\-]+/g;t.commands.fontSize={exec:function(n,i,r){return t.commands.formatInline.exec(n,i,"span","wysiwyg-font-size-"+r,e)},state:function(n,i,r){return t.commands.formatInline.state(n,i,"span","wysiwyg-font-size-"+r,e)},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-color-[a-z]+/g;t.commands.foreColor={exec:function(n,i,r){return t.commands.formatInline.exec(n,i,"span","wysiwyg-color-"+r,e)},state:function(n,i,r){return t.commands.formatInline.state(n,i,"span","wysiwyg-color-"+r,e)},value:function(){}}}(wysihtml5),function(t){function e(e){for(e=e.previousSibling;e&&e.nodeType===t.TEXT_NODE&&!t.lang.string(e.data).trim();)e=e.previousSibling;return e}function n(e){for(e=e.nextSibling;e&&e.nodeType===t.TEXT_NODE&&!t.lang.string(e.data).trim();)e=e.nextSibling;return e}function i(t){return"BR"===t.nodeName||"block"===s.getStyle("display").from(t)}function r(e,n,i,r){if(r)var o=s.observe(e,"DOMNodeInserted",function(e){(e=e.target).nodeType===t.ELEMENT_NODE&&"inline"!==s.getStyle("display").from(e).substr(0,6)&&(e.className+=" "+r)});e.execCommand(n,!1,i),o&&o.stop()}function o(t,i){t.selection.selectLine(),t.selection.surround(i);var r=n(i),o=e(i);r&&"BR"===r.nodeName&&r.parentNode.removeChild(r),o&&"BR"===o.nodeName&&o.parentNode.removeChild(o),(r=i.lastChild)&&"BR"===r.nodeName&&r.parentNode.removeChild(r),t.selection.selectNode(i)}var s=t.dom,a="H1 H2 H3 H4 H5 H6 P BLOCKQUOTE DIV".split(" ");t.commands.formatBlock={exec:function(l,c,u,h,d){var f,p=l.doc,g=this.state(l,c,u,h,d),u="string"==typeof u?u.toUpperCase():u;if(g)l.selection.executeAndRestoreSimple(function(){d&&(g.className=g.className.replace(d,""));var r=!!t.lang.string(g.className).trim();if(r||g.nodeName!==(u||"DIV"))r&&s.renameElement(g,"DIV");else{var o=(r=g).ownerDocument,a=n(r),l=e(r);a&&!i(a)&&r.parentNode.insertBefore(o.createElement("br"),a),l&&!i(l)&&r.parentNode.insertBefore(o.createElement("br"),r),s.replaceWithChildNodes(g)}});else{if((null===u||t.lang.array(a).contains(u))&&(f=l.selection.getSelectedNode(),g=s.getParentElement(f,{nodeName:a})))return void l.selection.executeAndRestoreSimple(function(){if(u&&(g=s.renameElement(g,u)),h){var t=g;t.className?(t.className=t.className.replace(d,""),t.className+=" "+h):t.className=h}});l.commands.support(c)?r(p,c,u||"DIV",h):(g=p.createElement(u||"DIV"),h&&(g.className=h),o(l,g))}},state:function(t,e,n,i,r){return n="string"==typeof n?n.toUpperCase():n,t=t.selection.getSelectedNode(),s.getParentElement(t,{nodeName:n,className:i,classRegExp:r})},value:function(){}}}(wysihtml5),function(t){function e(e,r,o){var s=e+":"+r;if(!i[s]){var a=i,l=t.selection.HTMLApplier,c=n[e],e=c?[e.toLowerCase(),c.toLowerCase()]:[e.toLowerCase()];a[s]=new l(e,r,o,!0)}return i[s]}var n={strong:"b",em:"i",b:"strong",i:"em"},i={};t.commands.formatInline={exec:function(t,n,i,r,o){return!!(n=t.selection.getRange())&&(e(i,r,o).toggleRange(n),void t.selection.setSelection(n))},state:function(i,r,o,s,a){var r=i.doc,l=n[o]||o;return!(!t.dom.hasElementWithTagName(r,o)&&!t.dom.hasElementWithTagName(r,l)||s&&!t.dom.hasElementWithClassName(r,s))&&(!!(i=i.selection.getRange())&&e(o,s,a).isAppliedToRange(i))},value:function(){}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(t,e,n){t.commands.support(e)?t.doc.execCommand(e,!1,n):t.selection.insertHTML(n)},state:function(){return!1},value:function(){}},function(t){t.commands.insertImage={exec:function(e,n,i){var r,i="object"==typeof i?i:{src:i},o=e.doc;if(n=this.state(e))e.selection.setBefore(n),(i=n.parentNode).removeChild(n),t.dom.removeEmptyTextNodes(i),"A"===i.nodeName&&!i.firstChild&&(e.selection.setAfter(i),i.parentNode.removeChild(i)),t.quirks.redraw(e.element);else{n=o.createElement("IMG");for(r in i)n[r]=i[r];e.selection.insertNode(n),t.browser.hasProblemsSettingCaretAfterImg()?(i=o.createTextNode(t.INVISIBLE_SPACE),e.selection.insertNode(i),e.selection.setAfter(i)):e.selection.setAfter(n)}},state:function(e){var n;return!(!t.dom.hasElementWithTagName(e.doc,"IMG")||!(n=e.selection.getSelectedNode()))&&("IMG"===n.nodeName?n:n.nodeType===t.ELEMENT_NODE&&(n=e.selection.getText(),!(n=t.lang.string(n).trim())&&(1===(e=e.selection.getNodes(t.ELEMENT_NODE,function(t){return"IMG"===t.nodeName})).length&&e[0])))},value:function(t){return(t=this.state(t))&&t.src}}}(wysihtml5),function(t){var e="<br>"+(t.browser.needsSpaceAfterLineBreak()?" ":"");t.commands.insertLineBreak={exec:function(n,i){n.commands.support(i)?(n.doc.execCommand(i,!1,null),t.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",e)},state:function(){return!1},value:function(){}}}(wysihtml5),function(t){t.commands.insertOrderedList={exec:function(e,n){var i,r=e.doc,o=e.selection.getSelectedNode(),s=t.dom.getParentElement(o,{nodeName:"OL"}),a=t.dom.getParentElement(o,{nodeName:"UL"}),o="_wysihtml5-temp-"+(new Date).getTime();e.commands.support(n)?r.execCommand(n,!1,null):s?e.selection.executeAndRestoreSimple(function(){t.dom.resolveList(s)}):a?e.selection.executeAndRestoreSimple(function(){t.dom.renameElement(a,"ol")}):(e.commands.exec("formatBlock","div",o),i=r.querySelector("."+o),r=""===i.innerHTML||i.innerHTML===t.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){s=t.dom.convertToList(i,"ol")}),r&&e.selection.selectNode(s.querySelector("li")))},state:function(e){return e=e.selection.getSelectedNode(),t.dom.getParentElement(e,{nodeName:"OL"})},value:function(){}}}(wysihtml5),function(t){t.commands.insertUnorderedList={exec:function(e,n){var i,r=e.doc,o=e.selection.getSelectedNode(),s=t.dom.getParentElement(o,{nodeName:"UL"}),a=t.dom.getParentElement(o,{nodeName:"OL"}),o="_wysihtml5-temp-"+(new Date).getTime();e.commands.support(n)?r.execCommand(n,!1,null):s?e.selection.executeAndRestoreSimple(function(){t.dom.resolveList(s)}):a?e.selection.executeAndRestoreSimple(function(){t.dom.renameElement(a,"ul")}):(e.commands.exec("formatBlock","div",o),i=r.querySelector("."+o),r=""===i.innerHTML||i.innerHTML===t.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){s=t.dom.convertToList(i,"ul")}),r&&e.selection.selectNode(s.querySelector("li")))},state:function(e){return e=e.selection.getSelectedNode(),t.dom.getParentElement(e,{nodeName:"UL"})},value:function(){}}}(wysihtml5),function(t){t.commands.italic={exec:function(e,n){return t.commands.formatInline.exec(e,n,"i")},state:function(e,n){return t.commands.formatInline.state(e,n,"i")},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyCenter={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-center",e)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-center",e)},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyLeft={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-left",e)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-left",e)},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyRight={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-right",e)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-right",e)},value:function(){}}}(wysihtml5),function(t){t.commands.underline={exec:function(e,n){return t.commands.formatInline.exec(e,n,"u")},state:function(e,n){return t.commands.formatInline.state(e,n,"u")},value:function(){}}}(wysihtml5),function(t){var e='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",n='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",i=t.dom;t.UndoManager=t.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var r,o=this,s=this.composer.sandbox.getDocument();if(i.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var e=t.keyCode,n=90===e&&t.shiftKey||89===e;90!==e||t.shiftKey?n&&(o.redo(),t.preventDefault()):(o.undo(),t.preventDefault())}}),i.observe(this.element,"keydown",function(t){(t=t.keyCode)!==r&&(r=t,(8===t||46===t)&&o.transact())}),t.browser.hasUndoInContextMenu()){var a,l,c=function(){for(var t;t=s.querySelector("._wysihtml5-temp");)t.parentNode.removeChild(t);clearInterval(a)};i.observe(this.element,"contextmenu",function(){c(),o.composer.selection.executeAndRestoreSimple(function(){o.element.lastChild&&o.composer.selection.setAfter(o.element.lastChild),s.execCommand("insertHTML",!1,e),s.execCommand("insertHTML",!1,n),s.execCommand("undo",!1,null)}),a=setInterval(function(){s.getElementById("_wysihtml5-redo")?(c(),o.redo()):s.getElementById("_wysihtml5-undo")||(c(),o.undo())},400),l||(l=!0,i.observe(document,"mousedown",c),i.observe(s,["mousedown","paste","cut","copy"],c))})}this.editor.observe("newword:composer",function(){o.transact()}).observe("beforecommand:composer",function(){o.transact()})},transact:function(){var t=this.history[this.position-1],e=this.composer.getValue();e!=t&&(40<(this.history.length=this.position)&&(this.history.shift(),this.position--),this.position++,this.history.push(e))},undo:function(){this.transact(),1>=this.position||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(t){this.composer.setValue(t),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,n){this.parent=t,this.element=e,this.config=n,this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.observe("beforeload",function(){t.parent.observe("change_view",function(e){e===t.name?(t.parent.currentView=t,t.show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,n=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,n){this.base(t,e,n),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e){var n=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return e&&(n=this.parent.parse(n)),n=t.lang.string(n).replace(t.INVISIBLE_SPACE).by("")},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.innerHTML=t},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=e.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(e){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;e&&n&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return e.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var t=this.element.innerHTML;return""===t||t===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector("blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea")},_initSandbox:function(){var t=this;this.sandbox=new e.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var n=document.createElement("input");n.type="hidden",n.name="_wysihtml5_mode",n.value=1;var i=this.textarea.element;e.insert(this.iframe).after(i),e.insert(n).after(i)},_create:function(){var i=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new t.Selection(this.parent),this.commands=new t.Commands(this.parent),e.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var r=this.config.name;r&&(e.addClass(this.element,r),e.addClass(this.iframe,r)),(r="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder"))&&e.simulatePlaceholder(this.parent,this,r),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){i.focus()},100),t.quirks.insertLineBreakOnReturn(this),n.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),n.clearsListsInContentEditableCorrectly()||t.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,r=n.canDisableAutoLinking(),o=n.doesAutoLinkingInContentEditable();if(r&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!o||o&&r)&&this.parent.observe("newword:composer",function(){i.selection.executeAndRestore(function(t,n){e.autoLink(n.parentNode)})});var s=this.sandbox.getDocument().getElementsByTagName("a"),a=e.autoLink.URL_REG_EXP,l=function(n){return"www."===(n=t.lang.string(e.getTextContent(n)).trim()).substr(0,4)&&(n="http://"+n),n};e.observe(this.element,"keydown",function(t){if(s.length){var n,t=i.selection.getSelectedNode(t.target.ownerDocument),r=e.getParentElement(t,{nodeName:"A"},4);r&&(n=l(r),setTimeout(function(){var t=l(r);t!==n&&t.match(a)&&r.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){var i=["width","height"],r=i.length,o=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?n.supportsEvent("resizeend")&&e.observe(o,"resizeend",function(e){for(var n,s=(e=e.target||e.srcElement).style,a=0;r>a;a++)n=i[a],s[n]&&(e.setAttribute(n,parseInt(s[n],10)),s[n]="");t.quirks.redraw(o)}):n.supportsEvent("resizestart")&&e.observe(o,"resizestart",function(t){t.preventDefault()})},_initUndoManager:function(){new t.UndoManager(this.parent)}})}(wysihtml5),function(t){var e=t.dom,n=document,i=window,r=n.createElement("div"),o="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),s="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),a="width height top left right bottom".split(" "),l=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",t.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],c=function(t){if(t.setActive)try{t.setActive()}catch(t){}else{var r=t.style,o=n.documentElement.scrollTop||n.body.scrollTop,s=n.documentElement.scrollLeft||n.body.scrollLeft,r={position:r.position,top:r.top,left:r.left,WebkitUserSelect:r.WebkitUserSelect};e.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),e.setStyles(r).on(t),i.scrollTo&&i.scrollTo(s,o)}};t.views.Composer.prototype.style=function(){var u=this,h=n.querySelector(":focus"),d=this.textarea.element,f=d.hasAttribute("placeholder"),p=f&&d.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||r.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||r.cloneNode(!1),f&&d.removeAttribute("placeholder"),d===h&&d.blur(),e.copyStyles(s).from(d).to(this.iframe).andTo(this.blurStylesHost),e.copyStyles(o).from(d).to(this.element).andTo(this.blurStylesHost),e.insertCSS(l).into(this.element.ownerDocument),c(d),e.copyStyles(s).from(d).to(this.focusStylesHost),e.copyStyles(o).from(d).to(this.focusStylesHost);var g=t.lang.array(s).without(["display"]);if(h?h.focus():d.blur(),f&&d.setAttribute("placeholder",p),!t.browser.hasCurrentStyleProperty())var m=e.observe(i,"resize",function(){if(e.contains(document.documentElement,u.iframe)){var t=e.getStyle("display").from(d),n=e.getStyle("display").from(u.iframe);d.style.display="",u.iframe.style.display="none",e.copyStyles(a).from(d).to(u.iframe).andTo(u.focusStylesHost).andTo(u.blurStylesHost),u.iframe.style.display=n,d.style.display=t}else m.stop()});return this.parent.observe("focus:composer",function(){e.copyStyles(g).from(u.focusStylesHost).to(u.iframe),e.copyStyles(o).from(u.focusStylesHost).to(u.element)}),this.parent.observe("blur:composer",function(){e.copyStyles(g).from(u.blurStylesHost).to(u.iframe),e.copyStyles(o).from(u.blurStylesHost).to(u.element)}),this}}(wysihtml5),function(t){var e=t.dom,n=t.browser,i={66:"bold",73:"italic",85:"underline"};t.views.Composer.prototype.observe=function(){var r=this,o=this.getValue(),s=this.sandbox.getIframe(),a=this.element,l=n.supportsEventsInIframeCorrectly()?a:this.sandbox.getWindow(),c=n.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];e.observe(s,"DOMNodeRemoved",function(){clearInterval(u),r.parent.fire("destroy:composer")});var u=setInterval(function(){e.contains(document.documentElement,s)||(clearInterval(u),r.parent.fire("destroy:composer"))},250);e.observe(l,"focus",function(){r.parent.fire("focus").fire("focus:composer"),setTimeout(function(){o=r.getValue()},0)}),e.observe(l,"blur",function(){o!==r.getValue()&&r.parent.fire("change").fire("change:composer"),r.parent.fire("blur").fire("blur:composer")}),t.browser.isIos()&&e.observe(a,"blur",function(){var t=a.ownerDocument.createElement("input"),e=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft;try{r.selection.insertNode(t)}catch(e){a.appendChild(t)}t.focus(),t.parentNode.removeChild(t),window.scrollTo(n,e)}),e.observe(a,"dragenter",function(){r.parent.fire("unset_placeholder")}),n.firesOnDropOnlyWhenOnDragOverIsCancelled()&&e.observe(a,["dragover","dragenter"],function(t){t.preventDefault()}),e.observe(a,c,function(t){var e,i=t.dataTransfer;i&&n.supportsDataTransfer()&&(e=i.getData("text/html")||i.getData("text/plain")),e?(a.focus(),r.commands.exec("insertHTML",e),r.parent.fire("paste").fire("paste:composer"),t.stopPropagation(),t.preventDefault()):setTimeout(function(){r.parent.fire("paste").fire("paste:composer")},0)}),e.observe(a,"keyup",function(e){((e=e.keyCode)===t.SPACE_KEY||e===t.ENTER_KEY)&&r.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){r.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||e.observe(a,"mousedown",function(t){var e=t.target;"IMG"===e.nodeName&&(r.selection.selectNode(e),t.preventDefault())}),e.observe(a,"keydown",function(t){var e=i[t.keyCode];(t.ctrlKey||t.metaKey)&&!t.altKey&&e&&(r.commands.exec(e),t.preventDefault())}),e.observe(a,"keydown",function(e){var n=r.selection.getSelectedNode(!0),i=e.keyCode;!n||"IMG"!==n.nodeName||i!==t.BACKSPACE_KEY&&i!==t.DELETE_KEY||((i=n.parentNode).removeChild(n),"A"===i.nodeName&&!i.firstChild&&i.parentNode.removeChild(i),setTimeout(function(){t.quirks.redraw(a)},0),e.preventDefault())});var h={IMG:"Image: ",A:"Link: "};e.observe(a,"mouseover",function(t){var e=(t=t.target).nodeName;!("A"!==e&&"IMG"!==e)&&!t.hasAttribute("title")&&(e=h[e]+(t.getAttribute("href")||t.getAttribute("src")),t.setAttribute("title",e))})}}(wysihtml5),function(t){t.views.Synchronizer=Base.extend({constructor:function(t,e,n){this.editor=t,this.textarea=e,this.composer=n,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(t.lang.string(this.composer.getValue()).trim(),e)},fromTextareaToComposer:function(t){var e=this.textarea.getValue();e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var e,n=this,i=this.textarea.element.form,r=function(){e=setInterval(function(){n.fromComposerToTextarea()},400)},o=function(){clearInterval(e),e=null};r(),i&&(t.dom.observe(i,"submit",function(){n.sync(!0)}),t.dom.observe(i,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(t){"composer"!==t||e?"textarea"===t&&(n.fromComposerToTextarea(!0),o()):(n.fromTextareaToComposer(!0),r())}),this.editor.observe("destroy:composer",o)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,n){this.base(t,e,n),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,n=this.element.value;return t&&!n||n===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.observe("beforeload",function(){wysihtml5.dom.observe(t,i,function(t){t=n[t.type]||t.type,e.fire(t).fire(t+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e=t.dom;t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){var n=this,i=function(t){var e=n._serialize();e==n.elementToChange?n.fire("edit",e):n.fire("save",e),n.hide(),t.preventDefault(),t.stopPropagation()};e.observe(n.link,"click",function(){e.hasClass(n.link,"wysihtml5-command-dialog-opened")&&setTimeout(function(){n.hide()},0)}),e.observe(this.container,"keydown",function(e){var r=e.keyCode;r===t.ENTER_KEY&&i(e),r===t.ESCAPE_KEY&&n.hide()}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",i),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){n.fire("cancel"),n.hide(),t.preventDefault(),t.stopPropagation()});for(var r=this.container.querySelectorAll("input, select, textarea"),o=0,s=r.length;s>o;o++)e.observe(r[o],"change",function(){clearInterval(n.interval)});this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),n=e.length,i=0;n>i;i++)t[e[i].getAttribute("data-wysihtml5-dialog-field")]=e[i].value;return t},_interpolate:function(t){for(var e,n,i=document.querySelector(":focus"),r=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),o=r.length,s=0;o>s;s++)(e=r[s])!==i&&!(t&&"hidden"===e.type)&&(n=e.getAttribute("data-wysihtml5-dialog-field"),n=this.elementToChange?this.elementToChange[n]||"":e.defaultValue,e.value=n)},show:function(t){var n=this,i=this.container.querySelector("input, select, textarea");if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){n._interpolate(!0)},500)),e.addClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="",this.fire("show"),i&&!t)try{i.focus()}catch(t){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(t){var e=t.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},r={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},o={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(s,a){var l=document.createElement("input");if(t.browser.supportsSpeechApiOn(l)){var c=document.createElement("div");t.lang.object(i).merge({width:a.offsetWidth+"px",height:a.offsetHeight+"px"}),e.insert(l).into(c),e.insert(c).into(a),e.setStyles(r).on(l),e.setAttributes(o).on(l),e.setStyles(i).on(c),e.setStyles(n).on(a),e.observe(l,"onwebkitspeechchange"in l?"webkitspeechchange":"speechchange",function(){s.execCommand("insertText",l.value),l.value=""}),e.observe(l,"click",function(t){e.hasClass(a,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}else a.style.display="none"}}(wysihtml5),function(t){var e=t.dom;t.toolbar.Toolbar=Base.extend({constructor:function(e,n){this.editor=e,this.container="string"==typeof n?document.getElementById(n):n,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),r=i.length,o=0;r>o;o++)new t.toolbar.Speech(this,i[o])},_getLinks:function(e){for(var n,i,r,o,s,a=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),l=a.length,c=0,u=this[e+"Mapping"]={};l>c;c++)n=a[c],r=n.getAttribute("data-wysihtml5-"+e),o=n.getAttribute("data-wysihtml5-"+e+"-value"),i=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+r+"']"),s=this._getDialog(n,r),u[r+":"+o]={link:n,group:i,name:r,value:o,dialog:s,state:!1}},_getDialog:function(e,n){var i,r,o=this,s=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return s&&((i=new t.toolbar.Dialog(e,s)).observe("show",function(){r=o.composer.selection.getBookmark(),o.editor.fire("show:dialog",{command:n,dialogContainer:s,commandLink:e})}),i.observe("save",function(t){r&&o.composer.selection.setBookmark(r),o._execCommand(n,t),o.editor.fire("save:dialog",{command:n,dialogContainer:s,commandLink:e})}),i.observe("cancel",function(){o.editor.focus(!1),o.editor.fire("cancel:dialog",{command:n,dialogContainer:s,commandLink:e})})),i},execCommand:function(t,e){if(!this.commandsDisabled){var n=this.commandMapping[t+":"+e];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;switch(t){case"change_view":e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea")}},_observe:function(){for(var t=this,n=this.editor,i=this.container,r=this.commandLinks.concat(this.actionLinks),o=r.length,s=0;o>s;s++)e.setAttributes({href:"javascript:;",unselectable:"on"}).on(r[s]);e.delegate(i,"[data-wysihtml5-command]","mousedown",function(t){t.preventDefault()}),e.delegate(i,"[data-wysihtml5-command]","click",function(e){var n=this.getAttribute("data-wysihtml5-command"),i=this.getAttribute("data-wysihtml5-command-value");t.execCommand(n,i),e.preventDefault()}),e.delegate(i,"[data-wysihtml5-action]","click",function(e){var n=this.getAttribute("data-wysihtml5-action");t.execAction(n),e.preventDefault()}),n.observe("focus:composer",function(){t.bookmark=null,clearInterval(t.interval),t.interval=setInterval(function(){t._updateLinkStates()},500)}),n.observe("blur:composer",function(){clearInterval(t.interval)}),n.observe("destroy:composer",function(){clearInterval(t.interval)}),n.observe("change_view",function(n){setTimeout(function(){t.commandsDisabled="composer"!==n,t._updateLinkStates(),t.commandsDisabled?e.addClass(i,"wysihtml5-commands-disabled"):e.removeClass(i,"wysihtml5-commands-disabled")},0)})},_updateLinkStates:function(){var n,i,r,o=this.commandMapping,s=this.actionMapping;for(n in o)r=o[n],this.commandsDisabled?(i=!1,e.removeClass(r.link,"wysihtml5-command-active"),r.group&&e.removeClass(r.group,"wysihtml5-command-active"),r.dialog&&r.dialog.hide()):(i=this.composer.commands.state(r.name,r.value),t.lang.object(i).isArray()&&(i=1!==i.length||i[0]),e.removeClass(r.link,"wysihtml5-command-disabled"),r.group&&e.removeClass(r.group,"wysihtml5-command-disabled")),r.state!==i&&((r.state=i)?(e.addClass(r.link,"wysihtml5-command-active"),r.group&&e.addClass(r.group,"wysihtml5-command-active"),r.dialog&&("object"==typeof i?r.dialog.show(i):r.dialog.hide())):(e.removeClass(r.link,"wysihtml5-command-active"),r.group&&e.removeClass(r.group,"wysihtml5-command-active"),r.dialog&&r.dialog.hide()));for(n in s)"change_view"===(o=s[n]).name&&(o.state=this.editor.currentView===this.editor.textarea,o.state?e.addClass(o.link,"wysihtml5-action-active"):e.removeClass(o.link,"wysihtml5-action-active"))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(t){var e={name:void 0,style:!0,toolbar:void 0,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:t.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:void 0,allowObjectResizing:!0,supportTouchDevices:!0};t.Editor=t.lang.Dispatcher.extend({constructor:function(n,i){if(this.textareaElement="string"==typeof n?document.getElementById(n):n,this.config=t.lang.object({}).merge(e).merge(i).get(),this.currentView=this.textarea=new t.views.Textarea(this,this.textareaElement,this.config),this._isCompatible=t.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&t.browser.isTouchDevice()){var r=this;setTimeout(function(){r.fire("beforeload").fire("load")},0)}else{t.dom.addClass(document.body,this.config.bodyClassName),this.currentView=this.composer=new t.views.Composer(this,this.textareaElement,this.config),"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new t.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new t.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(t){}}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t){return this.currentView.getValue(t)},setValue:function(t,e){return t?(this.currentView.setValue(t,e),this):this.clear()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e){var n=this.config.parser(e,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof e&&t.quirks.redraw(e),n},_initParser:function(){this.observe("paste:composer",function(){var e=this;e.composer.selection.executeAndRestore(function(){t.quirks.cleanPastedHTML(e.composer.element),e.parse(e.composer.element)},!0)}),this.observe("paste:textarea",function(){this.textarea.setValue(this.parse(this.textarea.getValue()))})}})}(wysihtml5);var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),e=function(t){"use strict";function e(t){return r[t]||"&amp;"}var n={},i=t,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=/[&<>"'`]/g,s=/[&<>"'`]/;n.extend=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};var a=Object.prototype.toString;n.toString=a,(l=function(t){return"function"==typeof t})(/x/)&&(l=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)});var l;n.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===a.call(t)};return n.isArray=c,n.escapeExpression=function(t){return t instanceof i?t.toString():t||0===t?(t=""+t,s.test(t)?t.replace(o,e):t):""},n.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},n}(t),n=function(){"use strict";function t(t,n){var i;n&&n.firstLine&&(i=n.firstLine,t+=" - "+i+":"+n.firstColumn);for(var r=Error.prototype.constructor.call(this,t),o=0;o<e.length;o++)this[e[o]]=r[e[o]];i&&(this.lineNumber=i,this.column=n.firstColumn)}var e=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,t}(),i=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new a("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},r=n.fn;return u(e)&&(e=e.call(this)),!0===e?r(this):!1===e||null==e?i(this):c(e)?e.length>0?t.helpers.each(e,n):i(this):r(e)}),t.registerHelper("each",function(t,e){var n,i=e.fn,r=e.inverse,o=0,s="";if(u(t)&&(t=t.call(this)),e.data&&(n=p(e.data)),t&&"object"==typeof t)if(c(t))for(var a=t.length;a>o;o++)n&&(n.index=o,n.first=0===o,n.last=o===t.length-1),s+=i(t[o],{data:n});else for(var l in t)t.hasOwnProperty(l)&&(n&&(n.key=l,n.index=o,n.first=0===o),s+=i(t[l],{data:n}),o++);return 0===o&&(s=r(this)),s}),t.registerHelper("if",function(t,e){return u(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||s.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){return u(t)&&(t=t.call(this)),s.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)})}function r(t,e){f.log(t,e)}var o={},s=t,a=e;o.VERSION="1.3.0";o.COMPILER_REVISION=4;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};o.REVISION_CHANGES=l;var c=s.isArray,u=s.isFunction,h=s.toString,d="[object Object]";o.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:f,log:r,registerHelper:function(t,e,n){if(h.call(t)===d){if(n||e)throw new a("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){h.call(t)===d?s.extend(this.partials,t):this.partials[t]=e}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(f.level<=t){var n=f.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};o.logger=f,o.log=r;var p=function(t){var e={};return s.extend(e,t),e};return o.createFrame=p,o}(e,n),r=function(t,e,n){"use strict";function i(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i}var r={},o=t,s=e,a=n.COMPILER_REVISION,l=n.REVISION_CHANGES;return r.checkRevision=function(t){var e=t&&t[0]||1,n=a;if(e!==n){if(n>e){var i=l[n],r=l[e];throw new s("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new s("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},r.template=function(t,e){if(!e)throw new s("No environment passed to template");var n={escapeExpression:o.escapeExpression,invokePartial:function(t,n,i,r,o,a){var l=e.VM.invokePartial.apply(this,arguments);if(null!=l)return l;if(e.compile){var c={helpers:r,partials:o,data:a};return o[n]=e.compile(t,{data:void 0!==a},e),o[n](i,c)}throw new s("The partial "+n+" could not be compiled when running in runtime-only mode")},programs:[],program:function(t,e,n){var r=this.programs[t];return n?r=i(t,e,n):r||(r=this.programs[t]=i(t,e)),r},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n={},o.extend(n,e),o.extend(n,t)),n},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,r){var o,s,a=(r=r||{}).partial?r:e;r.partial||(o=r.helpers,s=r.partials);var l=t.call(n,a,i,o,s,r.data);return r.partial||e.VM.checkRevision(n.compilerInfo),l}},r.programWithDepth=function(t,e,n){var i=Array.prototype.slice.call(arguments,3),r=function(t,r){return r=r||{},e.apply(this,[t,r.data||n].concat(i))};return r.program=t,r.depth=i.length,r},r.program=i,r.invokePartial=function(t,e,n,i,r,o){var a={partial:!0,helpers:i,partials:r,data:o};if(void 0===t)throw new s("The partial "+e+" could not be found");return t instanceof Function?t(n,a):void 0},r.noop=function(){return""},r}(e,n,i);return function(t,e,n,i,r){"use strict";var o=t,s=e,a=n,l=i,c=r,u=function(){var t=new o.HandlebarsEnvironment;return l.extend(t,o),t.SafeString=s,t.Exception=a,t.Utils=l,t.VM=c,t.template=function(e){return c.template(e,t)},t},h=u();return h.create=u,h}(i,t,n,e,r)}(),glob="undefined"==typeof window?global:window,Handlebars=glob.Handlebars||require("handlebars");this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li>\n  <a class="btn ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(1,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+=' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    <span class="glyphicon glyphicon-quote"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.color=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(1,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+='" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.black)===l?o.apply(e):o))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.black)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.silver)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.gray)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.maroon)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.red)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.purple)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.green)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.olive)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.navy)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.blue)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.orange)===l?o.apply(e):o))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(t,e,n,i,r){function o(t){var e,n="";return n+="btn-"+u((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,a,l="",c="function",u=this.escapeExpression,h=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+u((s=e&&e.locale,s=null==s||!1===s?s:s.emphasis,typeof(s=null==s||!1===s?s:s.bold)===c?s.apply(e):s))+'</a>\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+u((s=e&&e.locale,s=null==s||!1===s?s:s.emphasis,typeof(s=null==s||!1===s?s:s.italic)===c?s.apply(e):s))+'</a>\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+u((s=e&&e.locale,s=null==s||!1===s?s:s.emphasis,typeof(s=null==s||!1===s?s:s.underline)===c?s.apply(e):s))+"</a>\n    ",((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.emSmall,{hash:{},inverse:h.noop,fn:h.program(3,function(t,e){var i,r,s="";return s+='\n    <a class="btn ',((r=n.if.call(t,null==(i=t&&t.options)||!1===i?i:i.size,{hash:{},inverse:h.noop,fn:h.program(1,o,e),data:e}))||0===r)&&(s+=r),s+=' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+u((i=t&&t.locale,i=null==i||!1===i?i:i.emphasis,typeof(i=null==i||!1===i?i:i.small)===c?i.apply(t):i))+"</a>\n    "},r),data:r}))||0===a)&&(l+=a),l+="\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(1,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+='" data-toggle="dropdown">\n    <span class="glyphicon glyphicon-font"></span>\n    <span class="current-font">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.normal)===l?o.apply(e):o))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.normal)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h1)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h2)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h3)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h4)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h5)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h6)===l?o.apply(e):o))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li>\n  <div class="btn-group">\n    <a class="btn ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(1,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+=' btn-default" data-wysihtml5-action="change_view" title="'+c((o=e&&e.locale,o=null==o||!1===o?o:o.html,typeof(o=null==o||!1===o?o:o.edit)===l?o.apply(e):o))+'" tabindex="-1">\n      <span class="glyphicon glyphicon-pencil"></span>\n    </a>\n  </div>\n</li>\n'}),this.wysihtml5.tpl.image=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade">\n    <div class="modal-dialog ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.smallmodals,{hash:{},inverse:u.noop,fn:u.program(1,function(){return"modal-sm"},r),data:r}))||0===s)&&(a+=s),a+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+c((o=e&&e.locale,o=null==o||!1===o?o:o.image,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'</h3>\n        </div>\n        <div class="modal-body">\n          <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control">\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.image,typeof(o=null==o||!1===o?o:o.cancel)===l?o.apply(e):o))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.image,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(3,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+=' btn-default" data-wysihtml5-command="insertImage" title="'+c((o=e&&e.locale,o=null==o||!1===o?o:o.image,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'" tabindex="-1">\n    <span class="glyphicon glyphicon-picture"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.link=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade">\n    <div class="modal-dialog ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.smallmodals,{hash:{},inverse:u.noop,fn:u.program(1,function(){return"modal-sm"},r),data:r}))||0===s)&&(a+=s),a+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+c((o=e&&e.locale,o=null==o||!1===o?o:o.link,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'</h3>\n        </div>\n        <div class="modal-body">\n          <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control">\n          <label class="checkbox"> <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+c((o=e&&e.locale,o=null==o||!1===o?o:o.link,typeof(o=null==o||!1===o?o:o.target)===l?o.apply(e):o))+'</label>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.link,typeof(o=null==o||!1===o?o:o.cancel)===l?o.apply(e):o))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.link,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(3,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+=' btn-default" data-wysihtml5-command="createLink" title="'+c((o=e&&e.locale,o=null==o||!1===o?o:o.link,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'" tabindex="-1">\n    <span class="glyphicon glyphicon-share"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.lists=Handlebars.template(function(t,e,n,i,r){function o(t){var e,n="";return n+="btn-"+u((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,a,l="",c="function",u=this.escapeExpression,h=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+u((s=e&&e.locale,s=null==s||!1===s?s:s.lists,typeof(s=null==s||!1===s?s:s.unordered)===c?s.apply(e):s))+'" tabindex="-1"><span class="glyphicon glyphicon-list"></span></a>\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+u((s=e&&e.locale,s=null==s||!1===s?s:s.lists,typeof(s=null==s||!1===s?s:s.ordered)===c?s.apply(e):s))+'" tabindex="-1"><span class="glyphicon glyphicon-th-list"></span></a>\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="Outdent" title="'+u((s=e&&e.locale,s=null==s||!1===s?s:s.lists,typeof(s=null==s||!1===s?s:s.outdent)===c?s.apply(e):s))+'" tabindex="-1"><span class="glyphicon glyphicon-indent-right"></span></a>\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="Indent" title="'+u((s=e&&e.locale,s=null==s||!1===s?s:s.lists,typeof(s=null==s||!1===s?s:s.indent)===c?s.apply(e):s))+'" tabindex="-1"><span class="glyphicon glyphicon-indent-left"></span></a>\n  </div>\n</li>\n'}),"object"==typeof exports&&exports&&(module.exports=this.wysihtml5.tpl),function(t,e){"use strict";var n=function(t,n,i){return e.tpl[t]?e.tpl[t]({locale:n,options:i}):void 0},i=function(n,i){this.el=n;var r=t.extend(!0,{},o,i);t.extend(r.shortcuts,o.shortcuts);for(var s in r.customTemplates)e.tpl[s]=r.customTemplates[s];this.toolbar=this.createToolbar(n,r),this.editor=this.createEditor(r),window.editor=this.editor,t("iframe.wysihtml5-sandbox").each(function(e,n){t(n.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){t("li.dropdown").removeClass("open")}})})};i.prototype={constructor:i,createEditor:function(n){n=n||{},(n=t.extend(!0,{},n)).toolbar=this.toolbar[0];var i=new e.Editor(this.el[0],n);if(this.addMoreShortcuts(i,i.currentView.iframe.contentDocument.body||i.currentView.iframe.contentDocument,n.shortcuts),n&&n.events)for(var r in n.events)i.on(r,n.events[r]);return i},createToolbar:function(e,i){var r=this,a=t("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),l=i.locale||o.locale||"en";s.hasOwnProperty(l)||(console.debug("Locale '"+l+"' not found. Available locales are: "+Object.keys(s)+". Falling back to 'en'."),l="en");var c=t.extend(!0,{},s.en,s[l]);for(var u in i){var h=!1;void 0!==i[u]?!0===i[u]&&(h=!0):h=o[u],!0===h&&(a.append(n(u,c,i)),"html"===u&&this.initHtml(a),"link"===u&&this.initInsertLink(a),"image"===u&&this.initInsertImage(a))}if(i.toolbar)for(u in i.toolbar)a.append(i.toolbar[u]);return a.find('a[data-wysihtml5-command="formatBlock"]').click(function(e){var n=e.delegateTarget||e.target||e.srcElement,i=t(n),o=i.data("wysihtml5-display-format-name"),s=i.data("wysihtml5-format-name")||i.html();(void 0===o||"true"===o)&&r.toolbar.find(".current-font").text(s)}),a.find('a[data-wysihtml5-command="foreColor"]').click(function(e){var n=e.target||e.srcElement,i=t(n);r.toolbar.find(".current-color").text(i.html())}),this.el.before(a),a},initHtml:function(t){var e='a[data-wysihtml5-action="change_view"]';t.find(e).click(function(){t.find("a.btn").not(e).toggleClass("disabled")})},initInsertImage:function(e){var n,i=this,r=e.find(".bootstrap-wysihtml5-insert-image-modal"),o=r.find(".bootstrap-wysihtml5-insert-image-url"),s=r.find("a.btn-primary"),a=o.val(),l=function(){var t=o.val();o.val(a),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null),i.editor.composer.commands.exec("insertImage",t)};o.keypress(function(t){13==t.which&&(l(),r.modal("hide"))}),s.click(l),r.on("shown",function(){o.focus()}),r.on("hide",function(){i.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=insertImage]").click(function(){return!!t(this).hasClass("wysihtml5-command-active")||(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),r.appendTo("body").modal("show"),r.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})},initInsertLink:function(e){var n,i=this,r=e.find(".bootstrap-wysihtml5-insert-link-modal"),o=r.find(".bootstrap-wysihtml5-insert-link-url"),s=r.find(".bootstrap-wysihtml5-insert-link-target"),a=r.find("a.btn-primary"),l=o.val(),c=function(){var t=o.val();o.val(l),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null);var e=s.prop("checked");i.editor.composer.commands.exec("createLink",{href:t,target:e?"_blank":"_self",rel:e?"nofollow":""})};o.keypress(function(t){13==t.which&&(c(),r.modal("hide"))}),a.click(c),r.on("shown",function(){o.focus()}),r.on("hide",function(){i.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=createLink]").click(function(){return!!t(this).hasClass("wysihtml5-command-active")||(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),r.appendTo("body").modal("show"),r.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})},addMoreShortcuts:function(t,n,i){e.dom.observe(n,"keydown",function(n){var r=n.keyCode,o=i[r];(n.ctrlKey||n.metaKey)&&!n.altKey&&o&&e.commands[o]&&(e.commands[o].exec(t.composer,o),n.preventDefault())})}};var r={resetDefaults:function(){t.fn.wysihtml5.defaultOptions=t.extend(!0,{},t.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var n=t(this);n.data("wysihtml5",new i(n,e))})},shallowExtend:function(e){var n=t.extend({},t.fn.wysihtml5.defaultOptions,e||{},t(this).data()),i=this;return r.bypassDefaults.apply(i,[n])},deepExtend:function(e){var n=t.extend(!0,{},t.fn.wysihtml5.defaultOptions,e||{}),i=this;return r.bypassDefaults.apply(i,[n])},init:function(t){var e=this;return r.shallowExtend.apply(e,[t])}};t.fn.wysihtml5=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.wysihtml5"):r.init.apply(this,arguments)},t.fn.wysihtml5.Constructor=i;var o=t.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},emSmall:1,locale:"en",shortcuts:{83:"small"}};void 0===t.fn.wysihtml5.defaultOptionsCache&&(t.fn.wysihtml5.defaultOptionsCache=t.extend(!0,{},t.fn.wysihtml5.defaultOptions));var s=t.fn.wysihtml5.locale={}}(window.jQuery,window.wysihtml5),function(t){t.commands.small={exec:function(e,n){return t.commands.formatInline.exec(e,n,"small")},state:function(e,n){return t.commands.formatInline.state(e,n,"small")},value:function(){}}}(wysihtml5),function(t){t.fn.wysihtml5.locale.en=t.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}(jQuery),function(t){"use strict";function e(t){var e={};if(void 0===t.selectionStart){t.focus();var n=document.selection.createRange();e.length=n.text.length,n.moveStart("character",-t.value.length),e.end=n.text.length,e.start=e.end-e.length}else e.start=t.selectionStart,e.end=t.selectionEnd,e.length=e.end-e.start;return e}function n(t,e,n){if(void 0===t.selectionStart){t.focus();var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i.select()}else t.selectionStart=e,t.selectionEnd=n}function i(e,n){t.each(n,function(t,i){"function"==typeof i?n[t]=i(e,n,t):"function"==typeof e.autoNumeric[i]&&(n[t]=e.autoNumeric[i](e,n,t))})}function r(t,e){"string"==typeof t[e]&&(t[e]*=1)}function o(t,e){i(t,e),e.oEvent=null,e.tagList=["B","CAPTION","CITE","CODE","DD","DEL","DIV","DFN","DT","EM","H1","H2","H3","H4","H5","H6","INS","KDB","LABEL","LI","OUTPUT","P","Q","S","SAMPLE","SPAN","STRONG","TD","TH","U","VAR"];var n=e.vMax.toString().split("."),o=e.vMin||0===e.vMin?e.vMin.toString().split("."):[];if(r(e,"vMax"),r(e,"vMin"),r(e,"mDec"),e.allowLeading=!0,e.aNeg=e.vMin<0?"-":"",n[0]=n[0].replace("-",""),o[0]=o[0].replace("-",""),e.mInt=Math.max(n[0].length,o[0].length,1),null===e.mDec){var s=0,a=0;n[1]&&(s=n[1].length),o[1]&&(a=o[1].length),e.mDec=Math.max(s,a)}null===e.altDec&&e.mDec>0&&("."===e.aDec&&","!==e.aSep?e.altDec=",":","===e.aDec&&"."!==e.aSep&&(e.altDec="."));var l=e.aNeg?"([-\\"+e.aNeg+"]?)":"(-?)";e.aNegRegAutoStrip=l,e.skipFirstAutoStrip=new RegExp(l+"[^-"+(e.aNeg?"\\"+e.aNeg:"")+"\\"+e.aDec+"\\d].*?(\\d|\\"+e.aDec+"\\d)"),e.skipLastAutoStrip=new RegExp("(\\d\\"+e.aDec+"?)[^\\"+e.aDec+"\\d]\\D*$");var c="-"+e.aNum+"\\"+e.aDec;return e.allowedAutoStrip=new RegExp("[^"+c+"]","gi"),e.numRegAutoStrip=new RegExp(l+"(?:\\"+e.aDec+"?(\\d+\\"+e.aDec+"\\d+)|(\\d*(?:\\"+e.aDec+"\\d*)?))"),e}function s(t,e,n){if(e.aSign)for(;t.indexOf(e.aSign)>-1;)t=t.replace(e.aSign,"");t=(t=(t=t.replace(e.skipFirstAutoStrip,"$1$2")).replace(e.skipLastAutoStrip,"$1")).replace(e.allowedAutoStrip,""),e.altDec&&(t=t.replace(e.altDec,e.aDec));var i=t.match(e.numRegAutoStrip);if(t=i?[i[1],i[2],i[3]].join(""):"",("allow"===e.lZero||"keep"===e.lZero)&&"strip"!==n){var r=[],o="";-1!==(r=t.split(e.aDec))[0].indexOf("-")&&(o="-",r[0]=r[0].replace("-","")),r[0].length>e.mInt&&"0"===r[0].charAt(0)&&(r[0]=r[0].slice(1)),t=o+r.join(e.aDec)}if(n&&"deny"===e.lZero||n&&"allow"===e.lZero&&!1===e.allowLeading){var s="^"+e.aNegRegAutoStrip+"0*(\\d"+("leading"===n?")":"|$)");s=new RegExp(s),t=t.replace(s,"$1$2")}return t}function a(t,e,n){return e=e.split(","),"set"===n||"focusout"===n?(t=t.replace("-",""),t=e[0]+t+e[1]):"get"!==n&&"focusin"!==n&&"pageLoad"!==n||t.charAt(0)!==e[0]||(t=(t=t.replace(e[0],"-")).replace(e[1],"")),t}function l(t,e,n){if(e&&n){var i=t.split(e);i[1]&&i[1].length>n&&(n>0?(i[1]=i[1].substring(0,n),t=i.join(e)):t=i[0])}return t}function c(t,e,n){return e&&"."!==e&&(t=t.replace(e,".")),n&&"-"!==n&&(t=t.replace(n,"-")),t.match(/\d/)||(t+="0"),t}function u(t,e){var n=+t;if(-1!==t.indexOf("."))if(n<1e-6&&n>-1)(t=+t)<1e-6&&t>0&&(t=(t=(t+10).toString()).substring(1)),t<0&&t>-1&&(t="-"+(t=(t-10).toString()).substring(2)),t=t.toString();else{var i=t.split(".");void 0!==i[1]&&(0==+i[1]?t=i[0]:(i[1]=i[1].replace(/0*$/,""),t=i.join(".")))}return"keep"===e.lZero?t:t.replace(/^0*(\d)/,"$1")}function h(t,e,n){return n&&"-"!==n&&(t=t.replace("-",n)),e&&"."!==e&&(t=t.replace(".",e)),t}function d(e,n){var i=+(e=c(e=l(e=s(e,n),n.aDec,n.mDec),n.aDec,n.aNeg));return"set"===n.oEvent&&(i<n.vMin||i>n.vMax)&&t.error("The value ("+i+") from the 'set' method falls outside of the vMin / vMax range"),i>=n.vMin&&i<=n.vMax}function f(t,e,n){return""===t||t===e.aNeg?"zero"===e.wEmpty?t+"0":"sign"===e.wEmpty||n?t+e.aSign:t:null}function p(t,e){var n=(t=s(t,e)).replace(",","."),i=f(t,e,!0);if(null!==i)return i;var r="";r=2===e.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===e.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var o=t.split(e.aDec);e.altDec&&1===o.length&&(o=t.split(e.altDec));var l=o[0];if(e.aSep)for(;r.test(l);)l=l.replace(r,"$1"+e.aSep+"$2");if(0!==e.mDec&&o.length>1?(o[1].length>e.mDec&&(o[1]=o[1].substring(0,e.mDec)),t=l+e.aDec+o[1]):t=l,e.aSign){var c=-1!==t.indexOf(e.aNeg);t=t.replace(e.aNeg,""),t="p"===e.pSign?e.aSign+t:t+e.aSign,c&&(t=e.aNeg+t)}return"set"===e.oEvent&&n<0&&null!==e.nBracket&&(t=a(t,e.nBracket,e.oEvent)),t}function g(t,e){t=""===t?"0":t.toString(),r(e,"mDec");var n="",i=0,o="",s="boolean"==typeof e.aPad||null===e.aPad?e.aPad?e.mDec:0:+e.aPad,a=function(t){var e=0===s?/(\.[1-9]*)0*$/:1===s?/(\.\d[1-9]*)0*$/:new RegExp("(\\.\\d{"+s+"}[1-9]*)0*$");return t=t.replace(e,"$1"),0===s&&(t=t.replace(/\.$/,"")),t};"-"===t.charAt(0)&&(o="-",t=t.replace("-","")),t.match(/^\d/)||(t="0"+t),"-"===o&&0==+t&&(o=""),(+t>0&&"keep"!==e.lZero||t.length>0&&"allow"===e.lZero)&&(t=t.replace(/^0*(\d)/,"$1"));var l=t.lastIndexOf("."),c=-1===l?t.length-1:l,u=t.length-1-c;if(u<=e.mDec){if(n=t,u<s)for(-1===l&&(n+=".");u<s;){var h="000000".substring(0,s-u);n+=h,u+=h.length}else u>s?n=a(n):0===u&&0===s&&(n=n.replace(/\.$/,""));return o+n}var d=l+e.mDec,f=+t.charAt(d+1),p=t.substring(0,d+1).split(""),g="."===t.charAt(d)?t.charAt(d-1)%2:t.charAt(d)%2;if(f>4&&"S"===e.mRound||f>4&&"A"===e.mRound&&""===o||f>5&&"A"===e.mRound&&"-"===o||f>5&&"s"===e.mRound||f>5&&"a"===e.mRound&&""===o||f>4&&"a"===e.mRound&&"-"===o||f>5&&"B"===e.mRound||5===f&&"B"===e.mRound&&1===g||f>0&&"C"===e.mRound&&""===o||f>0&&"F"===e.mRound&&"-"===o||f>0&&"U"===e.mRound)for(i=p.length-1;i>=0;i-=1)if("."!==p[i]){if(p[i]=+p[i]+1,p[i]<10)break;i>0&&(p[i]="0")}return p=p.slice(0,d+1),0==+(n=a(p.join("")))?n:o+n}function m(e,n){this.settings=n,this.that=e,this.$that=t(e),this.formatted=!1,this.settingsClone=o(this.$that,this.settings),this.value=e.value}function v(e){return"string"==typeof e&&(e="#"+(e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).replace(/(:|\.)/g,"\\$1")),t(e)}function y(t,e,n){var i=t.data("autoNumeric");i||(i={},t.data("autoNumeric",i));var r=i.holder;return(void 0===r&&e||n)&&(r=new m(t.get(0),e),i.holder=r),r}m.prototype={init:function(t){this.value=this.that.value,this.settingsClone=o(this.$that,this.settings),this.ctrlKey=t.ctrlKey,this.cmdKey=t.metaKey,this.shiftKey=t.shiftKey,this.selection=e(this.that),"keydown"!==t.type&&"keyup"!==t.type||(this.kdCode=t.keyCode),this.which=t.which,this.processed=!1,this.formatted=!1},setSelection:function(t,e,i){t=Math.max(t,0),e=Math.min(e,this.that.value.length),this.selection={start:t,end:e,length:e-t},(void 0===i||i)&&n(this.that,t,e)},setPosition:function(t,e){this.setSelection(t,t,e)},getBeforeAfter:function(){var t=this.value;return[t.substring(0,this.selection.start),t.substring(this.selection.end,t.length)]},getBeforeAfterStriped:function(){var t=this.getBeforeAfter();return t[0]=s(t[0],this.settingsClone),t[1]=s(t[1],this.settingsClone),t},normalizeParts:function(t,e){var n=this.settingsClone;""!==(t=s(t,n,!!(e=s(e,n)).match(/^\d/)||"leading"))&&t!==n.aNeg||"deny"!==n.lZero||e>""&&(e=e.replace(/^0*(\d)/,"$1"));var i=t+e;if(n.aDec){var r=i.match(new RegExp("^"+n.aNegRegAutoStrip+"\\"+n.aDec));r&&(i=(t=t.replace(r[1],r[1]+"0"))+e)}return"zero"!==n.wEmpty||i!==n.aNeg&&""!==i||(t+="0"),[t,e]},setValueParts:function(t,e){var n=this.settingsClone,i=this.normalizeParts(t,e),r=i.join(""),o=i[0].length;return!!d(r,n)&&(r=l(r,n.aDec,n.mDec),o>r.length&&(o=r.length),this.value=r,this.setPosition(o,!1),!0)},signPosition:function(){var t=this.settingsClone,e=t.aSign,n=this.that;if(e){var i=e.length;if("p"===t.pSign)return t.aNeg&&n.value&&n.value.charAt(0)===t.aNeg?[1,i+1]:[0,i];var r=n.value.length;return[r-i,r]}return[1e3,-1]},expandSelectionOnSign:function(t){var e=this.signPosition(),n=this.selection;n.start<e[1]&&n.end>e[0]&&((n.start<e[0]||n.end>e[1])&&this.value.substring(Math.max(n.start,e[0]),Math.min(n.end,e[1])).match(/^\s*$/)?n.start<e[0]?this.setSelection(n.start,e[0],t):this.setSelection(e[1],n.end,t):this.setSelection(Math.min(n.start,e[0]),Math.max(n.end,e[1]),t))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var t=this.getBeforeAfter(),e=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,t[0]=t[0].substr(0,e[0].length)+s(t[0].substr(e[0].length),this.settingsClone),this.setValueParts(t[0],t[1])||(this.value=e.join(""),this.setPosition(e[0].length,!1))}},skipAllways:function(t){var e=this.kdCode,n=this.which,i=this.ctrlKey,r=this.cmdKey,o=this.shiftKey;if((i||r)&&"keyup"===t.type&&void 0!==this.valuePartsBeforePaste||o&&45===e)return this.checkPaste(),!1;if(e>=112&&e<=123||e>=91&&e<=93||e>=9&&e<=31||e<8&&(0===n||n===e)||144===e||145===e||45===e)return!0;if((i||r)&&65===e)return!0;if((i||r)&&(67===e||86===e||88===e))return"keydown"===t.type&&this.expandSelectionOnSign(),86!==e&&45!==e||("keydown"===t.type||"keypress"===t.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===t.type||"keypress"===t.type||67===e;if(i||r)return!0;if(37===e||39===e){var s=this.settingsClone.aSep,a=this.selection.start,l=this.that.value;return"keydown"===t.type&&s&&!this.shiftKey&&(37===e&&l.charAt(a-2)===s?this.setPosition(a-1):39===e&&l.charAt(a+1)===s&&this.setPosition(a+1)),!0}return e>=34&&e<=40},processAllways:function(){var t;return(8===this.kdCode||46===this.kdCode)&&(this.selection.length?(this.expandSelectionOnSign(!1),t=this.getBeforeAfterStriped(),this.setValueParts(t[0],t[1])):(t=this.getBeforeAfterStriped(),8===this.kdCode?t[0]=t[0].substring(0,t[0].length-1):t[1]=t[1].substring(1,t[1].length),this.setValueParts(t[0],t[1])),!0)},processKeypress:function(){var t=this.settingsClone,e=String.fromCharCode(this.which),n=this.getBeforeAfterStriped(),i=n[0],r=n[1];return e===t.aDec||t.altDec&&e===t.altDec||("."===e||","===e)&&110===this.kdCode?!t.mDec||!t.aDec||(!!(t.aNeg&&r.indexOf(t.aNeg)>-1)||(i.indexOf(t.aDec)>-1||(r.indexOf(t.aDec)>0||(0===r.indexOf(t.aDec)&&(r=r.substr(1)),this.setValueParts(i+t.aDec,r),!0)))):"-"===e||"+"===e?!t.aNeg||(""===i&&r.indexOf(t.aNeg)>-1&&(i=t.aNeg,r=r.substring(1,r.length)),i=i.charAt(0)===t.aNeg?i.substring(1,i.length):"-"===e?t.aNeg+i:i,this.setValueParts(i,r),!0):!(e>="0"&&e<="9")||(t.aNeg&&""===i&&r.indexOf(t.aNeg)>-1&&(i=t.aNeg,r=r.substring(1,r.length)),t.vMax<=0&&t.vMin<t.vMax&&-1===this.value.indexOf(t.aNeg)&&"0"!==e&&(i=t.aNeg+i),this.setValueParts(i+e,r),!0)},formatQuick:function(){var t=this.settingsClone,e=this.getBeforeAfterStriped(),n=this.value;if((""===t.aSep||""!==t.aSep&&-1===n.indexOf(t.aSep))&&(""===t.aSign||""!==t.aSign&&-1===n.indexOf(t.aSign))){var i=[],r="";(i=n.split(t.aDec))[0].indexOf("-")>-1&&(r="-",i[0]=i[0].replace("-",""),e[0]=e[0].replace("-","")),i[0].length>t.mInt&&"0"===e[0].charAt(0)&&(e[0]=e[0].slice(1)),e[0]=r+e[0]}var o=p(this.value,this.settingsClone),s=o.length;if(o){var a=e[0].split(""),l=0;for(l;l<a.length;l+=1)a[l].match("\\d")||(a[l]="\\"+a[l]);var c=new RegExp("^.*?"+a.join(".*?")),u=o.match(c);u?(0===(s=u[0].length)&&o.charAt(0)!==t.aNeg||1===s&&o.charAt(0)===t.aNeg)&&t.aSign&&"p"===t.pSign&&(s=this.settingsClone.aSign.length+("-"===o.charAt(0)?1:0)):t.aSign&&"s"===t.pSign&&(s-=t.aSign.length)}this.that.value=o,this.setPosition(s),this.formatted=!0}};var b={init:function(e){return this.each(function(){var i=t(this),r=i.data("autoNumeric"),o=i.data();if("object"==typeof r)return this;var l={aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:!0,onSomeEvent:function(){}};if((r=t.extend({},l,o,e)).aDec===r.aSep)return t.error("autoNumeric will not function properly when the decimal character aDec: '"+r.aDec+"' and thousand separator aSep: '"+r.aSep+"' are the same character"),this;i.data("autoNumeric",r),r.lastSetValue="",r.runOnce=!1;var u=y(i,r);if(-1===t.inArray(i.prop("tagName"),r.tagList)&&"INPUT"!==i.prop("tagName"))return t.error("The <"+i.prop("tagName")+"> is not supported by autoNumeric()"),this;if(!1===r.runOnce&&r.aForm){if(i.is("input[type=text], input[type=hidden], input:not([type])")){var m=!0;""===i[0].value&&"empty"===r.wEmpty&&(i[0].value="",m=!1),""===i[0].value&&"sign"===r.wEmpty&&(i[0].value=r.aSign,m=!1),m&&i.autoNumeric("set",i.val())}-1!==t.inArray(i.prop("tagName"),r.tagList)&&""!==i.text()&&i.autoNumeric("set",i.text())}r.runOnce=!0,i.is("input[type=text], input[type=hidden], input:not([type])")&&(i.on("keydown.autoNumeric",function(e){return(u=y(i)).settings.aDec===u.settings.aSep?(t.error("autoNumeric will not function properly when the decimal character aDec: '"+u.settings.aDec+"' and thousand separator aSep: '"+u.settings.aSep+"' are the same character"),this):u.that.readOnly?(u.processed=!0,!0):(u.init(e),u.settings.oEvent="keydown",u.skipAllways(e)?(u.processed=!0,!0):u.processAllways()?(u.processed=!0,u.formatQuick(),e.preventDefault(),!1):(u.formatted=!1,!0))}),i.on("keypress.autoNumeric",function(t){var e=y(i),n=e.processed;return e.init(t),e.settings.oEvent="keypress",!!e.skipAllways(t)||(n?(t.preventDefault(),!1):e.processAllways()||e.processKeypress()?(e.formatQuick(),t.preventDefault(),!1):void(e.formatted=!1))}),i.on("keyup.autoNumeric",function(t){var e=y(i);e.init(t),e.settings.oEvent="keyup";var r=e.skipAllways(t);return e.kdCode=0,delete e.valuePartsBeforePaste,i[0].value===e.settings.aSign&&("s"===e.settings.pSign?n(this,0,0):n(this,e.settings.aSign.length,e.settings.aSign.length)),!!r||(""===this.value||void(e.formatted||e.formatQuick()))}),i.on("focusin.autoNumeric",function(){var t=y(i);if(t.settingsClone.oEvent="focusin",null!==t.settingsClone.nBracket){var e=i.val();i.val(a(e,t.settingsClone.nBracket,t.settingsClone.oEvent))}t.inVal=i.val();var r=f(t.inVal,t.settingsClone,!0);null!==r&&(i.val(r),"s"===t.settings.pSign?n(this,0,0):n(this,t.settings.aSign.length,t.settings.aSign.length))}),i.on("focusout.autoNumeric",function(){var t=y(i),e=t.settingsClone,n=i.val(),r=n;t.settingsClone.oEvent="focusout";var o="";"allow"===e.lZero&&(e.allowLeading=!1,o="leading"),""!==n&&(n=null===f(n=s(n,e,o),e)&&d(n,e,i[0])?h(n=g(n=c(n,e.aDec,e.aNeg),e),e.aDec,e.aNeg):"");var l=f(n,e,!1);null===l&&(l=p(n,e)),l!==r&&i.val(l),l!==t.inVal&&(i.change(),delete t.inVal),null!==e.nBracket&&i.autoNumeric("get")<0&&(t.settingsClone.oEvent="focusout",i.val(a(i.val(),e.nBracket,e.oEvent)))}))})},destroy:function(){return t(this).each(function(){var e=t(this);e.off(".autoNumeric"),e.removeData("autoNumeric")})},update:function(e){return t(this).each(function(){var n=v(t(this)),i=n.data("autoNumeric");if("object"!=typeof i)return t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"),this;var r=n.autoNumeric("get");return i=t.extend(i,e),y(n,i,!0),i.aDec===i.aSep?(t.error("autoNumeric will not function properly when the decimal character aDec: '"+i.aDec+"' and thousand separator aSep: '"+i.aSep+"' are the same character"),this):(n.data("autoNumeric",i),""!==n.val()||""!==n.text()?n.autoNumeric("set",r):void 0)})},set:function(e){return t(this).each(function(){var n=v(t(this)),i=n.data("autoNumeric"),r=e.toString(),o=e.toString();return"object"!=typeof i?(t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),this):(o===n.attr("value")&&(r=r.replace(",",".")),o!==n.attr("value")&&!1===i.runOnce&&(r=s(r,i)),t.isNumeric(+r)?(r=u(r,i),i.oEvent="set",i.lastSetValue=r,r.toString(),""!==r&&(r=g(r,i)),r=h(r,i.aDec,i.aNeg),d(r,i)||(r=g("",i)),r=p(r,i),n.is("input[type=text], input[type=hidden], input:not([type])")?n.val(r):-1!==t.inArray(n.prop("tagName"),i.tagList)?n.text(r):(t.error("The <"+n.prop("tagName")+"> is not supported by autoNumeric()"),!1)):"")})},get:function(){var e=v(t(this)),n=e.data("autoNumeric");if("object"!=typeof n)return t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"),this;n.oEvent="get";var i="";if(e.is("input[type=text], input[type=hidden], input:not([type])"))i=e.eq(0).val();else{if(-1===t.inArray(e.prop("tagName"),n.tagList))return t.error("The <"+e.prop("tagName")+"> is not supported by autoNumeric()"),!1;i=e.eq(0).text()}return""===i&&"empty"===n.wEmpty||i===n.aSign&&("sign"===n.wEmpty||"empty"===n.wEmpty)?"":(null!==n.nBracket&&""!==i&&(i=a(i,n.nBracket,n.oEvent)),(n.runOnce||!1===n.aForm)&&(i=s(i,n)),0==+(i=c(i,n.aDec,n.aNeg))&&"keep"!==n.lZero&&(i="0"),"keep"===n.lZero?i:i=u(i,n))},getString:function(){var e=!1,n=v(t(this)).serialize().split("&"),i=0;for(i;i<n.length;i+=1){var r=n[i].split("=");"object"==typeof t('*[name="'+decodeURIComponent(r[0])+'"]').data("autoNumeric")&&null!==r[1]&&void 0!==t('*[name="'+decodeURIComponent(r[0])+'"]').data("autoNumeric")&&(r[1]=t('input[name="'+decodeURIComponent(r[0])+'"]').autoNumeric("get"),n[i]=r.join("="),e=!0)}return!0===e?n.join("&"):(t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),this)},getArray:function(){var e=!1,n=v(t(this)).serializeArray();return t.each(n,function(n,i){"object"==typeof t('*[name="'+decodeURIComponent(i.name)+'"]').data("autoNumeric")&&(""!==i.value&&void 0!==t('*[name="'+decodeURIComponent(i.name)+'"]').data("autoNumeric")&&(i.value=t('input[name="'+decodeURIComponent(i.name)+'"]').autoNumeric("get").toString()),e=!0)}),!0===e?n:(t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method"),this)},getSettings:function(){return v(t(this)).eq(0).data("autoNumeric")}};t.fn.autoNumeric=function(e){return b[e]?b[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error('Method "'+e+'" is not supported by autoNumeric()'):b.init.apply(this,arguments)}}(jQuery),function(){function t(e,n,i){var r=t.resolve(e);if(null==r){i=i||e,n=n||"root";var o=new Error('Failed to require "'+i+'" from "'+n+'"');throw o.path=i,o.parent=n,o.require=!0,o}var s=t.modules[r];return s.exports||(s.exports={},s.client=s.component=!0,s.call(this,s.exports,t.relative(r),s)),s.exports}t.modules={},t.aliases={},t.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var n=[e,e+".js",e+".json",e+"/index.js",e+"/index.json"],i=0;i<n.length;i++){var e=n[i];if(t.modules.hasOwnProperty(e))return e;if(t.aliases.hasOwnProperty(e))return t.aliases[e]}},t.normalize=function(t,e){var n=[];if("."!=e.charAt(0))return e;t=t.split("/"),e=e.split("/");for(var i=0;i<e.length;++i)".."==e[i]?t.pop():"."!=e[i]&&""!=e[i]&&n.push(e[i]);return t.concat(n).join("/")},t.register=function(e,n){t.modules[e]=n},t.alias=function(e,n){if(!t.modules.hasOwnProperty(e))throw new Error('Failed to alias "'+e+'", it does not exist');t.aliases[n]=e},t.relative=function(e){function n(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function i(n){return t(i.resolve(n),e,n)}var r=t.normalize(e,"..");return i.resolve=function(i){var o=i.charAt(0);if("/"==o)return i.slice(1);if("."==o)return t.normalize(r,i);var s=e.split("/"),a=n(s,"deps")+1;return a||(a=0),i=s.slice(0,a+1).join("/")+"/deps/"+i},i.exists=function(e){return t.modules.hasOwnProperty(i.resolve(e))},i},t.register("component-emitter/index.js",function(t,e,n){function i(t){return t?r(t):void 0}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}n.exports=i,i.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},e._off=n,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=function(t,e){this._callbacks=this._callbacks||{};var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;var i=n.indexOf(e._off||e);return~i&&n.splice(i,1),this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,r=(n=n.slice(0)).length;r>i;++i)n[i].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),t.register("dropzone/index.js",function(t,e,n){n.exports=e("./lib/dropzone.js")}),t.register("dropzone/lib/dropzone.js",function(t,e,n){(function(){var t,i,r,o,s,a,l={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u=[].slice;i="undefined"!=typeof Emitter&&null!==Emitter?Emitter:e("emitter"),s=function(){},(t=function(t){function e(t,i){var r,o,s;if(this.element=t,this.version=e.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(e.instances.push(this),t.dropzone=this,r=null!=(s=e.optionsForElement(this.element))?s:{},this.options=n({},this.defaultOptions,r,null!=i?i:{}),this.options.forceFallback||!e.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.previewsContainer=this.options.previewsContainer?e.getElement(this.options.previewsContainer,"previewsContainer"):this.element,this.options.clickable&&(this.clickableElements=!0===this.options.clickable?[this.element]:e.getElements(this.options.clickable,"clickable")),this.init()}var n;return c(e,i),e.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded"],e.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",accept:function(t,e){return e()},init:function(){return s},forceFallback:!1,fallback:function(){var t,n,i,r,o,s;for(this.element.className=this.element.className+" dz-browser-not-supported",r=0,o=(s=this.element.getElementsByTagName("div")).length;o>r;r++)t=s[r],/(^| )dz-message($| )/.test(t.className)&&(n=t,t.className="dz-message");return n||(n=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n)),(i=n.getElementsByTagName("span")[0])&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,n,i;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},n=t.width/t.height,i=this.options.thumbnailWidth/this.options.thumbnailHeight,t.height<this.options.thumbnailHeight||t.width<this.options.thumbnailWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):n>i?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*i):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/i),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(){return this.element===this.previewsContainer?this.element.classList.add("dz-started"):void 0},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var n=this;return t.previewElement=e.createElement(this.options.previewTemplate),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),t.previewElement.querySelector("[data-dz-name]").textContent=t.name,t.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(t.size),this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;">'+this.options.dictRemoveFile+"</a>"),t._removeLink.addEventListener("click",function(i){return i.preventDefault(),i.stopPropagation(),t.status===e.UPLOADING?e.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(t)}):n.options.dictRemoveFileConfirmation?e.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(t)}):n.removeFile(t)}),t.previewElement.appendChild(t._removeLink)),this._updateMaxFilesReachedClass()},removedfile:function(t){var e;return null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var n;return t.previewElement.classList.remove("dz-file-preview"),t.previewElement.classList.add("dz-image-preview"),n=t.previewElement.querySelector("[data-dz-thumbnail]"),n.alt=t.name,n.src=e},error:function(t,e){return t.previewElement.classList.add("dz-error"),t.previewElement.querySelector("[data-dz-errormessage]").textContent=e},errormultiple:s,processing:function(t){return t.previewElement.classList.add("dz-processing"),t._removeLink?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:s,uploadprogress:function(t,e){return t.previewElement.querySelector("[data-dz-uploadprogress]").style.width=e+"%"},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(t){return t.previewElement.classList.add("dz-success")},successmultiple:s,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:s,complete:function(t){return t._removeLink?t._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:s,maxfilesexceeded:s,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},n=function(){var t,e,n,i,r,o,s;for(i=arguments[0],o=0,s=(n=2<=arguments.length?u.call(arguments,1):[]).length;s>o;o++){e=n[o];for(t in e)r=e[t],i[t]=r}return i},e.prototype.getAcceptedFiles=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.files).length;n>e;e++)(t=i[e]).accepted&&r.push(t);return r},e.prototype.getRejectedFiles=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.files).length;n>e;e++)(t=i[e]).accepted||r.push(t);return r},e.prototype.getQueuedFiles=function(){var t,n,i,r,o;for(o=[],n=0,i=(r=this.files).length;i>n;n++)(t=r[n]).status===e.QUEUED&&o.push(t);return o},e.prototype.getUploadingFiles=function(){var t,n,i,r,o;for(o=[],n=0,i=(r=this.files).length;i>n;n++)(t=r[n]).status===e.UPLOADING&&o.push(t);return o},e.prototype.init=function(){var t,n,i,r,o,s,a,l=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(){return l.hiddenFileInput&&document.body.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),l.hiddenFileInput.setAttribute("multiple","multiple"),null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.body.appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var t;return(t=l.hiddenFileInput.files).length&&(l.emit("selectedfiles",t),l.handleFiles(t)),i()})})(),this.URL=null!=(s=window.URL)?s:window.webkitURL,r=0,o=(a=this.events).length;o>r;r++)t=a[r],this.on(t,this.options[t]);return this.on("uploadprogress",function(){return l.updateTotalUploadProgress()}),this.on("removedfile",function(){return l.updateTotalUploadProgress()}),this.on("canceled",function(t){return l.emit("complete",t)}),n=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return l.emit("dragstart",t)},dragenter:function(t){return n(t),l.emit("dragenter",t)},dragover:function(t){return n(t),l.emit("dragover",t)},dragleave:function(t){return l.emit("dragleave",t)},drop:function(t){return n(t),l.drop(t)},dragend:function(t){return l.emit("dragend",t)}}}],this.clickableElements.forEach(function(t){return l.listeners.push({element:t,events:{click:function(n){return t!==l.element||n.target===l.element||e.elementInside(n.target,l.element.querySelector(".dz-message"))?l.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},e.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone},e.prototype.updateTotalUploadProgress=function(){var t,e,n,i,r,o,s;if(n=0,e=0,this.getAcceptedFiles().length){for(r=0,o=(s=this.getAcceptedFiles()).length;o>r;r++)t=s[r],n+=t.upload.bytesSent,e+=t.upload.total;i=100*n/e}else i=100;return this.emit("totaluploadprogress",i,e,n)},e.prototype.getFallbackForm=function(){var t,n,i,r;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><button type="submit">Upload!</button></div>',n=e.createElement(i),"FORM"!==this.element.tagName?(r=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(n):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:n)},e.prototype.getExistingFallback=function(){var t,e,n,i,r,o;for(e=function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)if(e=t[n],/(^| )fallback($| )/.test(e.className))return e},i=0,r=(o=["div","form"]).length;r>i;i++)if(n=o[i],t=e(this.element.getElementsByTagName(n)))return t},e.prototype.setupEventListeners=function(){var t,e,n,i,r,o,s;for(s=[],i=0,r=(o=this.listeners).length;r>i;i++)t=o[i],s.push(function(){var i,r;i=t.events,r=[];for(e in i)n=i[e],r.push(t.element.addEventListener(e,n,!1));return r}());return s},e.prototype.removeEventListeners=function(){var t,e,n,i,r,o,s;for(s=[],i=0,r=(o=this.listeners).length;r>i;i++)t=o[i],s.push(function(){var i,r;i=t.events,r=[];for(e in i)n=i[e],r.push(t.element.removeEventListener(e,n,!1));return r}());return s},e.prototype.disable=function(){var t,e,n,i,r;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),r=[],e=0,n=(i=this.files).length;n>e;e++)t=i[e],r.push(this.cancelUpload(t));return r},e.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},e.prototype.filesize=function(t){var e;return t>=1e11?(t/=1e11,e="TB"):t>=1e8?(t/=1e8,e="GB"):t>=1e5?(t/=1e5,e="MB"):t>=100?(t/=100,e="KB"):(t*=10,e="b"),"<strong>"+Math.round(t)/10+"</strong> "+e},e.prototype._updateMaxFilesReachedClass=function(){return this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?this.element.classList.add("dz-max-files-reached"):this.element.classList.remove("dz-max-files-reached")},e.prototype.drop=function(t){var e,n;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("selectedfiles",e),e.length&&((n=t.dataTransfer.items)&&n.length&&(null!=n[0].webkitGetAsEntry||null!=n[0].getAsEntry)?this.handleItems(n):this.handleFiles(e)))},e.prototype.handleFiles=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(this.addFile(e));return r},e.prototype.handleItems=function(t){var e,n,i,r;for(i=0,r=t.length;r>i;i++)null!=(n=t[i]).webkitGetAsEntry?(e=n.webkitGetAsEntry()).isFile?this.addFile(n.getAsFile()):e.isDirectory&&this.addDirectory(e,e.name):this.addFile(n.getAsFile())},e.prototype.accept=function(t,n){return t.size>1048576*this.options.maxFilesize?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,n):n(this.options.dictInvalidFileType)},e.prototype.addFile=function(t){var n=this;return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1048576*this.options.maxThumbnailFilesize&&this.createThumbnail(t),this.accept(t,function(e){return e?(t.accepted=!1,n._errorProcessing([t],e)):n.enqueueFile(t)})},e.prototype.enqueueFiles=function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)e=t[n],this.enqueueFile(e);return null},e.prototype.enqueueFile=function(t){var n=this;if(t.accepted=!0,t.status!==e.ADDED)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=e.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return n.processQueue()},1):void 0},e.prototype.addDirectory=function(t,e){var n,i,r=this;return n=t.createReader(),i=function(n){var i,o;for(i=0,o=n.length;o>i;i++)(t=n[i]).isFile?t.file(function(t){return r.options.ignoreHiddenFiles&&"."===t.name.substring(0,1)?void 0:(t.fullPath=e+"/"+t.name,r.addFile(t))}):t.isDirectory&&r.addDirectory(t,e+"/"+t.name)},n.readEntries(i,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},e.prototype.removeFile=function(t){return t.status===e.UPLOADING&&this.cancelUpload(t),this.files=a(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},e.prototype.removeAllFiles=function(t){var n,i,r,o;for(null==t&&(t=!1),i=0,r=(o=this.files.slice()).length;r>i;i++)((n=o[i]).status!==e.UPLOADING||t)&&this.removeFile(n);return null},e.prototype.createThumbnail=function(t){var e,n=this;return e=new FileReader,e.onload=function(){var i;return i=new Image,i.onload=function(){var e,r,o,s,a,l,c,u;return t.width=i.width,t.height=i.height,null==(o=n.options.resize.call(n,t)).trgWidth&&(o.trgWidth=n.options.thumbnailWidth),null==o.trgHeight&&(o.trgHeight=n.options.thumbnailHeight),e=document.createElement("canvas"),r=e.getContext("2d"),e.width=o.trgWidth,e.height=o.trgHeight,r.drawImage(i,null!=(a=o.srcX)?a:0,null!=(l=o.srcY)?l:0,o.srcWidth,o.srcHeight,null!=(c=o.trgX)?c:0,null!=(u=o.trgY)?u:0,o.trgWidth,o.trgHeight),s=e.toDataURL("image/png"),n.emit("thumbnail",t,s)},i.src=e.result},e.readAsDataURL(t)},e.prototype.processQueue=function(){var t,e,n,i;if(e=this.options.parallelUploads,n=this.getUploadingFiles().length,t=n,!(n>=e)&&(i=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-n));for(;e>t;){if(!i.length)return;this.processFile(i.shift()),t++}}},e.prototype.processFile=function(t){return this.processFiles([t])},e.prototype.processFiles=function(t){var n,i,r;for(i=0,r=t.length;r>i;i++)n=t[i],n.processing=!0,n.status=e.UPLOADING,this.emit("processing",n);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},e.prototype._getFilesWithXhr=function(t){var e;return function(){var n,i,r,o;for(o=[],n=0,i=(r=this.files).length;i>n;n++)(e=r[n]).xhr===t&&o.push(e);return o}.call(this)},e.prototype.cancelUpload=function(t){var n,i,r,o,s,a,l;if(t.status===e.UPLOADING){for(r=0,s=(i=this._getFilesWithXhr(t.xhr)).length;s>r;r++)n=i[r],n.status=e.CANCELED;for(t.xhr.abort(),o=0,a=i.length;a>o;o++)n=i[o],this.emit("canceled",n);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else((l=t.status)===e.ADDED||l===e.QUEUED)&&(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},e.prototype.uploadFile=function(t){return this.uploadFiles([t])},e.prototype.uploadFiles=function(t){var i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w,x,_,C,S,k,E,T,A,M=this;for(m=new XMLHttpRequest,v=0,x=t.length;x>v;v++)i=t[v],i.xhr=m;m.open(this.options.method,this.options.url,!0),m.withCredentials=!!this.options.withCredentials,f=null,o=function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],r.push(M._errorProcessing(t,f||M.options.dictResponseError.replace("{{statusCode}}",m.status),m));return r},p=function(e){var n,r,o,s,a,l,c,u,h;if(null!=e)for(r=100*e.loaded/e.total,o=0,l=t.length;l>o;o++)i=t[o],i.upload={progress:r,total:e.total,bytesSent:e.loaded};else{for(n=!0,r=100,s=0,c=t.length;c>s;s++)(100!==(i=t[s]).upload.progress||i.upload.bytesSent!==i.upload.total)&&(n=!1),i.upload.progress=r,i.upload.bytesSent=i.upload.total;if(n)return}for(h=[],a=0,u=t.length;u>a;a++)i=t[a],h.push(M.emit("uploadprogress",i,r,i.upload.bytesSent));return h},m.onload=function(n){var i;if(t[0].status!==e.CANCELED&&4===m.readyState){if(f=m.responseText,m.getResponseHeader("content-type")&&~m.getResponseHeader("content-type").indexOf("application/json"))try{f=JSON.parse(f)}catch(t){n=t,f="Invalid JSON response from server."}return p(),200<=(i=m.status)&&300>i?M._finished(t,f,n):o()}},m.onerror=function(){return t[0].status!==e.CANCELED?o():void 0},(null!=(k=m.upload)?k:m).onprogress=p,l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(l,this.options.headers);for(s in l)a=l[s],m.setRequestHeader(s,a);if(r=new FormData,this.options.params){E=this.options.params;for(d in E)g=E[d],r.append(d,g)}for(y=0,_=t.length;_>y;y++)i=t[y],this.emit("sending",i,m,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,m,r),"FORM"===this.element.tagName)for(T=this.element.querySelectorAll("input, textarea, select, button"),b=0,C=T.length;C>b;b++)c=T[b],u=c.getAttribute("name"),(!(h=c.getAttribute("type"))||"checkbox"!==(A=h.toLowerCase())&&"radio"!==A||c.checked)&&r.append(u,c.value);for(w=0,S=t.length;S>w;w++)i=t[w],r.append(this.options.paramName+(this.options.uploadMultiple?"[]":""),i,i.name);return m.send(r)},e.prototype._finished=function(t,n,i){var r,o,s;for(o=0,s=t.length;s>o;o++)r=t[o],r.status=e.SUCCESS,this.emit("success",r,n,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e.prototype._errorProcessing=function(t,n,i){var r,o,s;for(o=0,s=t.length;s>o;o++)r=t[o],r.status=e.ERROR,this.emit("error",r,n,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e}()).version="3.7.1",t.options={},t.optionsForElement=function(e){return e.id?t.options[r(e.id)]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,n,i,r,o,s;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],(e=function(t){var e,n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],/(^| )dropzone($| )/.test(e.className)?o.push(i.push(e)):o.push(void 0);return o})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),s=[],r=0,o=i.length;o>r;r++)n=i[r],!1!==t.optionsForElement(n)?s.push(new t(n)):s.push(void 0);return s},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,n,i,r;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=t.blacklistedBrowsers,n=0,i=r.length;i>n;n++)r[n].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},a=function(t,e){var n,i,r,o;for(o=[],i=0,r=t.length;r>i;i++)(n=t[i])!==e&&o.push(n);return o},r=function(t){return t.replace(/[\-_](\w)/g,function(t){return t[1].toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},t.getElements=function(t,e){var n,i,r,o,s,a,l;if(t instanceof Array){i=[];try{for(r=0,s=t.length;s>r;r++)n=t[r],i.push(this.getElement(n,e))}catch(t){t,i=null}}else if("string"==typeof t)for(i=[],l=document.querySelectorAll(t),o=0,a=l.length;a>o;o++)n=l[o],i.push(n);else null!=t.nodeType&&(i=[t]);if(null==i||!i.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},t.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},t.isValidFile=function(t,e){var n,i,r,o,s;if(!e)return!0;for(e=e.split(","),n=(i=t.type).replace(/\/.*$/,""),o=0,s=e.length;s>o;o++)if(r=e[o],"."===(r=r.trim()).charAt(0)){if(-1!==t.name.indexOf(r,t.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),void 0!==n&&null!==n?n.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",o=function(t,e){var n,i,r,o,s,a,l,c,u;if(r=!1,u=!0,i=t.document,c=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",o=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?t:i)[l](a+n.type,o,!1),!r&&(r=!0)?e.call(t,n.type||n):void 0):void 0},s=function(){try{c.doScroll("left")}catch(t){return t,void setTimeout(s,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&c.doScroll){try{u=!t.frameElement}catch(t){}u&&s()}return i[n](a+"DOMContentLoaded",o,!1),i[n](a+"readystatechange",o,!1),t[n](a+"load",o,!1)}},t._autoDiscoverFunction=function(){return t.autoDiscover?t.discover():void 0},o(window,t._autoDiscoverFunction)}).call(this)}),t.alias("component-emitter/index.js","dropzone/deps/emitter/index.js"),t.alias("component-emitter/index.js","emitter/index.js"),"object"==typeof exports?module.exports=t("dropzone"):"function"==typeof define&&define.amd?define(function(){return t("dropzone")}):this.Dropzone=t("dropzone")}(),function(t){"use strict";function e(e,n){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input size="1" type="text" />').appendTo(this.$container),this.$element.after(this.$container),this.build(n)}function n(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(t){return t[n]}}}function i(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(){return n}}}function r(t){return t?a.text(t).html():""}function o(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}var s={tagClass:function(){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(t,e){e.hide().fadeIn()}};e.prototype={constructor:e,add:function(e,n){var i=this;if(!(i.options.maxTags&&i.itemsArray.length>=i.options.maxTags||!1!==e&&!e)){if("object"==typeof e&&!i.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(i.isSelect&&!i.multiple&&i.itemsArray.length>0&&i.remove(i.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var o=e.split(",");if(o.length>1){for(var s=0;s<o.length;s++)this.add(o[s],!0);return void(n||i.pushVal())}}var a=i.options.itemValue(e),l=i.options.itemText(e),c=i.options.tagClass(e),u=t.grep(i.itemsArray,function(t){return i.options.itemValue(t)===a})[0];if(u){if(i.options.onTagExists){var h=t(".tag",i.$container).filter(function(){return t(this).data("item")===u});i.options.onTagExists(e,h)}}else{i.itemsArray.push(e);var d=t('<span class="tag '+r(c)+'">'+r(l)+'<span data-role="remove"></span></span>');if(d.data("item",e),i.findInputWrapper().before(d),d.after(" "),i.isSelect&&!t('option[value="'+escape(a)+'"]',i.$element)[0]){var f=t("<option selected>"+r(l)+"</option>");f.data("item",e),f.attr("value",a),i.$element.append(f)}n||i.pushVal(),i.options.maxTags===i.itemsArray.length&&i.$container.addClass("bootstrap-tagsinput-max"),i.$element.trigger(t.Event("itemAdded",{item:e}))}}}},remove:function(e,n){var i=this;i.objectItems&&(e="object"==typeof e?t.grep(i.itemsArray,function(t){return i.options.itemValue(t)==i.options.itemValue(e)})[0]:t.grep(i.itemsArray,function(t){return i.options.itemValue(t)==e})[0]),e&&(t(".tag",i.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",i.$element).filter(function(){return t(this).data("item")===e}).remove(),i.itemsArray.splice(i.itemsArray.indexOf(e),1)),n||i.pushVal(),i.options.maxTags>i.itemsArray.length&&i.$container.removeClass("bootstrap-tagsinput-max"),i.$element.trigger(t.Event("itemRemoved",{item:e}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal(),e.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var n=t(this),i=n.data("item"),o=e.options.itemValue(i),s=e.options.itemText(i),a=e.options.tagClass(i);n.attr("class",null),n.addClass("tag "+r(a)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=r(s),e.isSelect&&t("option",e.$element).filter(function(){return t(this).data("item")===i}).attr("value",o)})},items:function(){return this.itemsArray},pushVal:function(){var e=this,n=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(n,!0).trigger("change")},build:function(e){var r=this;r.options=t.extend({},s,e);var a=r.options.typeahead||{};r.objectItems&&(r.options.freeInput=!1),n(r.options,"itemValue"),n(r.options,"itemText"),n(r.options,"tagClass"),r.options.source&&(a.source=r.options.source),a.source&&t.fn.typeahead&&(i(a,"source"),r.$input.typeahead({source:function(e,n){function i(t){for(var e=[],i=0;i<t.length;i++){var s=r.options.itemText(t[i]);o[s]=t[i],e.push(s)}n(e)}this.map={};var o=this.map,s=a.source(e);t.isFunction(s.success)?s.success(i):t.when(s).then(i)},updater:function(t){r.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}})),r.$container.on("click",t.proxy(function(){r.$input.focus()},r)),r.$container.on("keydown","input",t.proxy(function(e){var n=t(e.target),i=r.findInputWrapper();switch(e.which){case 8:if(0===o(n[0])){var s=i.prev();s&&r.remove(s.data("item"))}break;case 46:if(0===o(n[0])){var a=i.next();a&&r.remove(a.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var c=i.next();0===n.val().length&&c[0]&&(c.after(i),n.focus());break;default:r.options.freeInput&&r.options.confirmKeys.indexOf(e.which)>=0&&(r.add(n.val()),n.val(""),e.preventDefault())}n.attr("size",Math.max(1,n.val().length))},r)),r.$container.on("click","[data-role=remove]",t.proxy(function(e){r.remove(t(e.target).closest(".tag").data("item"))},r)),r.options.itemValue===s.itemValue&&("INPUT"===r.$element[0].tagName?r.add(r.$element.val()):t("option",r.$element).each(function(){r.add(t(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],n=this.$container[0];e&&e.parentNode!==n;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(n,i){var r=[];return this.each(function(){var o=t(this).data("tagsinput");if(o){var s=o[n](i);void 0!==s&&r.push(s)}else o=new e(this,n),t(this).data("tagsinput",o),r.push(o),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof n?r.length>1?r:r[0]:r},t.fn.tagsinput.Constructor=e;var a=t("<div />");t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(t){var e,n=function(){var t=document.createElement("input"),e="onpaste";return t.setAttribute(e,""),"function"==typeof t[e]?"paste":"input"}()+".mask",i=navigator.userAgent,r=/iphone/i.test(i),o=/android/i.test(i);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(i,s){var a,l,c,u,h;return!i&&this.length>0?t(this[0]).data(t.mask.dataName)():(s=t.extend({placeholder:t.mask.placeholder,completed:null},s),a=t.mask.definitions,l=[],c=h=i.length,u=null,t.each(i.split(""),function(t,e){"?"==e?(h--,c=t):a[e]?(l.push(RegExp(a[e])),null===u&&(u=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function d(t){for(;h>++t&&!l[t];);return t}function f(t){for(;--t>=0&&!l[t];);return t}function p(t,e){var n,i;if(!(0>t)){for(n=t,i=d(e);h>n;n++)if(l[n]){if(!(h>i&&l[n].test(w[i])))break;w[n]=w[i],w[i]=s.placeholder,i=d(i)}v(),b.caret(Math.max(u,t))}}function g(t){var e,n,i,r;for(e=t,n=s.placeholder;h>e;e++)if(l[e]){if(i=d(e),r=w[e],w[e]=n,!(h>i&&l[i].test(r)))break;n=r}}function m(t,e){var n;for(n=t;e>n&&h>n;n++)l[n]&&(w[n]=s.placeholder)}function v(){b.val(w.join(""))}function y(t){var e,n,i=b.val(),r=-1;for(e=0,pos=0;h>e;e++)if(l[e]){for(w[e]=s.placeholder;pos++<i.length;)if(n=i.charAt(pos-1),l[e].test(n)){w[e]=n,r=e;break}if(pos>i.length)break}else w[e]===i.charAt(pos)&&e!==c&&(pos++,r=e);return t?v():c>r+1?(b.val(""),m(0,h)):(v(),b.val(b.val().substring(0,r+1))),c?e:u}var b=t(this),w=t.map(i.split(""),function(t){return"?"!=t?a[t]?s.placeholder:t:void 0}),x=b.val();b.data(t.mask.dataName,function(){return t.map(w,function(t,e){return l[e]&&t!=s.placeholder?t:null}).join("")}),b.attr("readonly")||b.one("unmask",function(){b.unbind(".mask").removeData(t.mask.dataName)}).bind("focus.mask",function(){clearTimeout(e);var t;x=b.val(),t=y(),e=setTimeout(function(){v(),t==i.length?b.caret(0,t):b.caret(t)},10)}).bind("blur.mask",function(){y(),b.val()!=x&&b.change()}).bind("keydown.mask",function(t){var e,n,i,o=t.which;8===o||46===o||r&&127===o?(e=b.caret(),n=e.begin,0==(i=e.end)-n&&(n=46!==o?f(n):i=d(n-1),i=46===o?d(i):i),m(n,i),p(n,i-1),t.preventDefault()):27==o&&(b.val(x),b.caret(0,y()),t.preventDefault())}).bind("keypress.mask",function(e){var n,i,r,a=e.which,c=b.caret();e.ctrlKey||e.altKey||e.metaKey||32>a||a&&(0!=c.end-c.begin&&(m(c.begin,c.end),p(c.begin,c.end-1)),n=d(c.begin-1),h>n&&(i=String.fromCharCode(a),l[n].test(i)&&(g(n),w[n]=i,v(),r=d(n),o?setTimeout(t.proxy(t.fn.caret,b,r),0):b.caret(r),s.completed&&r>=h&&s.completed.call(b))),e.preventDefault())}).bind(n,function(){setTimeout(function(){var t=y(!0);b.caret(t),s.completed&&t==b.val().length&&s.completed.call(b)},0)}),y()}))}})}(jQuery),function(t){var e=function(e,n){e=t(e);var i=this,r=[],o=t.extend({},t.fn.bootstrapWizard.defaults,n),s=null,a=null;this.rebindClick=function(t,e){t.unbind("click",e).bind("click",e)},this.fixNavigationButtons=function(){if(s.length||(a.find("a:first").tab("show"),s=a.find('li:has([data-toggle="tab"]):first')),t(o.previousSelector,e).toggleClass("disabled",i.firstIndex()>=i.currentIndex()),t(o.nextSelector,e).toggleClass("disabled",i.currentIndex()>=i.navigationLength()),t(o.backSelector,e).toggleClass("disabled",0==r.length),i.rebindClick(t(o.nextSelector,e),i.next),i.rebindClick(t(o.previousSelector,e),i.previous),i.rebindClick(t(o.lastSelector,e),i.last),i.rebindClick(t(o.firstSelector,e),i.first),i.rebindClick(t(o.backSelector,e),i.back),o.onTabShow&&"function"==typeof o.onTabShow&&!1===o.onTabShow(s,a,i.currentIndex()))return!1},this.next=function(t){if(e.hasClass("last")||o.onNext&&"function"==typeof o.onNext&&!1===o.onNext(s,a,i.nextIndex()))return!1;t=i.currentIndex(),$index=i.nextIndex(),$index>i.navigationLength()||(r.push(t),a.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"))},this.previous=function(t){if(e.hasClass("first")||o.onPrevious&&"function"==typeof o.onPrevious&&!1===o.onPrevious(s,a,i.previousIndex()))return!1;t=i.currentIndex(),$index=i.previousIndex(),0>$index||(r.push(t),a.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"))},this.first=function(t){if(o.onFirst&&"function"==typeof o.onFirst&&!1===o.onFirst(s,a,i.firstIndex())||e.hasClass("disabled"))return!1;r.push(i.currentIndex()),a.find('li:has([data-toggle="tab"]):eq(0) a').tab("show")},this.last=function(t){if(o.onLast&&"function"==typeof o.onLast&&!1===o.onLast(s,a,i.lastIndex())||e.hasClass("disabled"))return!1;r.push(i.currentIndex()),a.find('li:has([data-toggle="tab"]):eq('+i.navigationLength()+") a").tab("show")},this.back=function(){if(0==r.length)return null;var t=r.pop();if(o.onBack&&"function"==typeof o.onBack&&!1===o.onBack(s,a,t))return r.push(t),!1;e.find('li:has([data-toggle="tab"]):eq('+t+") a").tab("show")},this.currentIndex=function(){return a.find('li:has([data-toggle="tab"])').index(s)},this.firstIndex=function(){return 0},this.lastIndex=function(){return i.navigationLength()},this.getIndex=function(t){return a.find('li:has([data-toggle="tab"])').index(t)},this.nextIndex=function(){return a.find('li:has([data-toggle="tab"])').index(s)+1},this.previousIndex=function(){return a.find('li:has([data-toggle="tab"])').index(s)-1},this.navigationLength=function(){return a.find('li:has([data-toggle="tab"])').length-1},this.activeTab=function(){return s},this.nextTab=function(){return a.find('li:has([data-toggle="tab"]):eq('+(i.currentIndex()+1)+")").length?a.find('li:has([data-toggle="tab"]):eq('+(i.currentIndex()+1)+")"):null},this.previousTab=function(){return 0>=i.currentIndex()?null:a.find('li:has([data-toggle="tab"]):eq('+parseInt(i.currentIndex()-1)+")")},this.show=function(t){0<(t=isNaN(t)?e.find('li:has([data-toggle="tab"]) a[href=#'+t+"]"):e.find('li:has([data-toggle="tab"]):eq('+t+") a")).length&&(r.push(i.currentIndex()),t.tab("show"))},this.disable=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").addClass("disabled")},this.enable=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").removeClass("disabled")},this.hide=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").hide()},this.display=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").show()},this.remove=function(e){var n=void 0!==e[1]&&e[1];e=a.find('li:has([data-toggle="tab"]):eq('+e[0]+")"),n&&(n=e.find("a").attr("href"),t(n).remove()),e.remove()};var l=function(e){var n=a.find('li:has([data-toggle="tab"])');if(e=n.index(t(e.currentTarget).parent('li:has([data-toggle="tab"])')),n=t(n[e]),o.onTabClick&&"function"==typeof o.onTabClick&&!1===o.onTabClick(s,a,i.currentIndex(),e,n))return!1},c=function(e){if($element=t(e.target).parent(),e=a.find('li:has([data-toggle="tab"])').index($element),$element.hasClass("disabled")||o.onTabChange&&"function"==typeof o.onTabChange&&!1===o.onTabChange(s,a,i.currentIndex(),e))return!1;s=$element,i.fixNavigationButtons()};this.resetWizard=function(){t('a[data-toggle="tab"]',a).off("click",l),t('a[data-toggle="tab"]',a).off("shown shown.bs.tab",c),a=e.find("ul:first",e),s=a.find('li:has([data-toggle="tab"]).active',e),t('a[data-toggle="tab"]',a).on("click",l),t('a[data-toggle="tab"]',a).on("shown shown.bs.tab",c),i.fixNavigationButtons()},a=e.find("ul:first",e),s=a.find('li:has([data-toggle="tab"]).active',e),a.hasClass(o.tabClass)||a.addClass(o.tabClass),o.onInit&&"function"==typeof o.onInit&&o.onInit(s,a,0),o.onShow&&"function"==typeof o.onShow&&o.onShow(s,a,i.nextIndex()),t('a[data-toggle="tab"]',a).on("click",l),t('a[data-toggle="tab"]',a).on("shown shown.bs.tab",c)};t.fn.bootstrapWizard=function(n){if("string"==typeof n){var i=Array.prototype.slice.call(arguments,1);return 1===i.length&&i.toString(),this.data("bootstrapWizard")[n](i)}return this.each(function(i){if(!(i=t(this)).data("bootstrapWizard")){var r=new e(i,n);i.data("bootstrapWizard",r),r.fixNavigationButtons()}})},t.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(this.length){var n=t.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(e.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(e){function i(){var i;return!n.settings.submitHandler||(n.submitButton&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&i.remove(),!1)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,n;return t(this[0]).is("form")?e=this.validate().form():(e=!0,n=t(this[0].form).validate(),this.each(function(){e=n.element(this)&&e})),e},removeAttrs:function(e){var n={},i=this;return t.each(e.split(/\s/),function(t,e){n[e]=i.attr(e),i.removeAttr(e)}),n},rules:function(e,n){var i,r,o,s,a,l,c=this[0];if(e)switch(i=t.data(c.form,"validator").settings,r=i.rules,o=t.validator.staticRules(c),e){case"add":t.extend(o,t.validator.normalizeRule(n)),delete o.messages,r[c.name]=o,n.messages&&(i.messages[c.name]=t.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),function(e,n){l[n]=o[n],delete o[n],"required"===n&&t(c).removeAttr("aria-required")}),l):(delete r[c.name],o)}return(s=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c)).required&&(a=s.required,delete s.required,s=t.extend({required:a},s),t(c).attr("aria-required","true")),s.remote&&(a=s.remote,delete s.remote,s=t.extend(s,{remote:a})),s}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this[0].form,"validator"),i="on"+e.type.replace(/^validate/,""),r=n.settings;r[i]&&!this.is(r.ignore)&&r[i].call(n,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})}),n=this.settings.rules,t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",e).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n=this.clean(e),i=this.validationTargetFor(n),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=t(i),(r=!1!==this.check(i))?delete this.invalid[i.name]:this.invalid[i.name]=!0),t(e).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var n in e)this.errorList.push({message:e[n],element:this.findByName(n)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in n||!e.objectLength(t(this).rules()))&&(n[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,i=t(e),r=e.type;return"radio"===r||"checkbox"===r?t("input[name='"+e.name+"']:checked").val():"number"===r&&void 0!==e.validity?!e.validity.badInput&&i.val():"string"==typeof(n=i.val())?n.replace(/\r/g,""):n},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i,r,o=t(e).rules(),s=t.map(o,function(t,e){return e}).length,a=!1,l=this.elementValue(e);for(i in o){r={method:i,parameters:o[i]};try{if("dependency-mismatch"===(n=t.validator.methods[i].call(this,l,e,r.parameters))&&1===s){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t),t}}if(!a)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,n){return this.findDefined(this.customMessage(e.name,n),this.customDataMessage(e,n),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,n){var i=this.defaultMessage(e,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,e):r.test(i)&&(i=t.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:e,method:n.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i,r,o,s=this.errorsFor(e),a=this.idOrName(e),l=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(s=t("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(n||""),i=s,this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e),s.is("label")?s.attr("for",a):0===s.parents("label[for='"+a+"']").length&&(o=s.attr("id"),l?l.match(new RegExp("\b"+o+"\b"))||(l+=" "+o):l=o,t(e).attr("aria-describedby",l),(r=this.groups[e.name])&&t.each(this.groups,function(e,n){n===r&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var n=this.idOrName(e),i=t(e).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+i.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,n){return!!t(e,n.form).length},function:function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,n){--this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},attributeRules:function(e){var n,i,r={},o=t(e),s=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(""===(i=e.getAttribute(n))&&(i=!0),i=!!i):i=o.attr(n),/min|max/.test(n)&&(null===s||/number|range|text/.test(s))&&(i=Number(i)),i||0===i?r[n]=i:s===n&&"range"!==s&&(r[n]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var n,i,r={},o=t(e);for(n in t.validator.methods)void 0!==(i=o.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()))&&(r[n]=i);return r},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,r){if(!1!==r){if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!t(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?e[i]=void 0===r.param||r.param:delete e[i]}}else delete e[i]}),t.each(e,function(i,r){e[i]=t.isFunction(r)?r(n):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=t(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(e,n)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,i,r=0,o=0,s=!1;if((t=t.replace(/\D/g,"")).length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)i=t.charAt(n),o=parseInt(i,10),s&&(o*=2)>9&&(o-=9),r+=o,s=!s;return r%10==0},minlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||r>=i},maxlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||i>=r},rangelength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},equalTo:function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(n).valid()}),e===r.val()},remote:function(e,n,i){if(this.optional(n))return"dependency-mismatch";var r,o,s=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),s.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=s.message,i="string"==typeof i&&{url:i}||i,s.old===e?s.valid:(s.old=e,r=this,this.startRequest(n),o={},o[n.name]=e,t.ajax(t.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,context:r.currentForm,success:function(i){var o,a,l,c=!0===i||"true"===i;r.settings.messages[n.name].remote=s.originalMessage,c?(l=r.formSubmitted,r.prepareElement(n),r.formSubmitted=l,r.successList.push(n),delete r.invalid[n.name],r.showErrors()):(o={},a=i||r.defaultMessage(n,"remote"),o[n.name]=s.message=t.isFunction(a)?a(e):a,r.invalid[n.name]=!0,r.showErrors(o)),s.valid=c,r.stopRequest(n,c)}},i)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var e,n={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,i){var r=t.port;"abort"===t.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(e=t.ajax,t.ajax=function(i){var r=("mode"in i?i:t.ajaxSettings).mode,o=("port"in i?i:t.ajaxSettings).port;return"abort"===r?(n[o]&&n[o].abort(),n[o]=e.apply(this,arguments),n[o]):e.apply(this,arguments)}),t.extend(t.fn,{validateDelegate:function(e,n,i){return this.bind(n,function(n){var r=t(n.target);return r.is(e)?i.apply(r,arguments):void 0})}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var n,i,r=this.length>>>0,o=!1;for(1<arguments.length&&(i=e,o=!0),n=0;r>n;++n)this.hasOwnProperty(n)&&(o?i=t(i,this[n],n,this):(i=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return i}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],r=arguments.length>=2?arguments[1]:void 0,o=0;n>o;o++)if(o in e){var s=e[o];t.call(r,s,o,e)&&i.push(s)}return i});var e,n="function"==typeof define&&define.amd,i={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,isFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:n,hasCodeMirror:n?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:function(e){var n="Comic Sans MS"===e?"Courier New":"Comic Sans MS",i=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),r=i.css("fontFamily",n).width(),o=i.css("fontFamily",e+","+n).width();return i.remove(),r!==o},isW3CRangeSupport:!!document.createRange},r=function(){var e=0;return{eq:function(t){return function(e){return t===e}},eq2:function(t,e){return t===e},peq2:function(t){return function(e,n){return e[t]===n[t]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(t,e){return function(n){return t(n)&&e(n)}},uniqueId:function(t){var n=++e+"";return t?t+n:n},rect2bnd:function(e){var n=t(document);return{top:e.top+n.scrollTop(),left:e.left+n.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}}}(),o=function(){var t=function(t){return t[0]},e=function(t){return t[t.length-1]},n=function(t){return t.slice(1)};return{head:t,last:e,initial:function(t){return t.slice(0,t.length-1)},tail:n,find:function(t,e){for(var n=0,i=t.length;i>n;n++){var r=t[n];if(e(r))return r}},contains:function(t,e){return-1!==t.indexOf(e)},all:function(t,e){for(var n=0,i=t.length;i>n;n++)if(!e(t[n]))return!1;return!0},sum:function(t,e){return e=e||r.self,t.reduce(function(t,n){return t+e(n)},0)},from:function(t){for(var e=[],n=-1,i=t.length;++n<i;)e[n]=t[n];return e},clusterBy:function(i,r){return i.length?n(i).reduce(function(t,n){var i=e(t);return r(e(i),n)?i[i.length]=n:t[t.length]=[n],t},[[t(i)]]):[]},compact:function(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n]&&e.push(t[n]);return e},unique:function(t){for(var e=[],n=0,i=t.length;i>n;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}}}(),s=String.fromCharCode(160),a=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},n=function(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}},l=function(t){return t&&3===t.nodeType},c=function(t){return t&&/^BR|^IMG|^HR/.test(t.nodeName.toUpperCase())},u=function(t){return!e(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))},h=n("LI"),d=function(t){return!m(t)&&!f(t)&&!u(t)},f=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},p=function(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())},g=n("BLOCKQUOTE"),m=function(t){return p(t)||g(t)||e(t)},v=n("A"),y=n("BODY"),b=i.isMSIE?"&nbsp;":"<br>",w=function(t){return l(t)?t.nodeValue.length:t.childNodes.length},x=function(t){var e=w(t);return 0===e||!a.isText(t)&&1===e&&t.innerHTML===b},_=function(t){c(t)||w(t)||(t.innerHTML=b)},C=function(t,n){for(;t;){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},S=function(t,n){n=n||r.fail;var i=[];return C(t,function(t){return e(t)||i.push(t),n(t)}),i},k=function(t,e){e=e||r.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n},E=function(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t},T=function(e,n){return t.each(n,function(t,n){e.appendChild(n)}),e},A=function(t){return 0===t.offset},M=function(t){return t.offset===w(t.node)},N=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},D=function(t){return!!(t&&t.childNodes&&t.childNodes.length)},I=function(t,n){var i,r;if(0===t.offset){if(e(t.node))return null;i=t.node.parentNode,r=N(t.node)}else D(t.node)?(i=t.node.childNodes[t.offset-1],r=w(i)):(i=t.node,r=n?0:t.offset-1);return{node:i,offset:r}},L=function(t,n){var i,r;if(w(t.node)===t.offset){if(e(t.node))return null;i=t.node.parentNode,r=N(t.node)+1}else D(t.node)?(i=t.node.childNodes[t.offset],r=0):(i=t.node,r=n?w(t.node):t.offset+1);return{node:i,offset:r}},P=function(t,e){return t.node===e.node&&t.offset===e.offset},O=function(t,e){if(l(t.node))return A(t)?t.node:M(t)?t.node.nextSibling:t.node.splitText(t.offset);var n=t.node.childNodes[t.offset],i=E(t.node.cloneNode(!1),t.node);return T(i,k(n)),e||(_(t.node),_(i)),i},R=function(t){return document.createElement(t)},H=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){var i,r,o=[];for(i=0,r=t.childNodes.length;r>i;i++)o.push(t.childNodes[i]);for(i=0,r=o.length;r>i;i++)n.insertBefore(o[i],t)}n.removeChild(t)}},F=n("TEXTAREA");return{NBSP_CHAR:s,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:b,emptyPara:"<p>"+b+"</p>",isEditable:e,isControlSizing:function(e){return e&&t(e).hasClass("note-control-sizing")},buildLayoutInfo:function(e){var n;if(e.hasClass("note-air-editor")){var i=o.last(e.attr("id").split("-"));return n=function(e){return function(){return t(e+i)}},{editor:function(){return e},editable:function(){return e},popover:n("#note-popover-"),handle:n("#note-handle-"),dialog:n("#note-dialog-")}}return n=function(t){return function(){return e.find(t)}},{editor:function(){return e},dropzone:n(".note-dropzone"),toolbar:n(".note-toolbar"),editable:n(".note-editable"),codable:n(".note-codable"),statusbar:n(".note-statusbar"),popover:n(".note-popover"),handle:n(".note-handle"),dialog:n(".note-dialog")}},isText:l,isPara:u,isPurePara:function(t){return u(t)&&!h(t)},isInline:d,isBodyInline:function(t){return d(t)&&!C(t,u)},isBody:y,isParaInline:function(t){return d(t)&&!!C(t,u)},isList:f,isTable:n("TABLE"),isCell:p,isBlockquote:g,isBodyContainer:m,isAnchor:v,isDiv:n("DIV"),isLi:h,isSpan:n("SPAN"),isB:n("B"),isU:n("U"),isS:n("S"),isI:n("I"),isImg:n("IMG"),isTextarea:F,isEmpty:x,isEmptyAnchor:r.and(v,x),nodeLength:w,isLeftEdgePoint:A,isRightEdgePoint:M,isEdgePoint:function(t){return A(t)||M(t)},isLeftEdgeOf:function(t,e){for(;t&&t!==e;){if(0!==N(t))return!1;t=t.parentNode}return!0},isRightEdgeOf:function(t,e){for(;t&&t!==e;){if(N(t)!==w(t.parentNode)-1)return!1;t=t.parentNode}return!0},prevPoint:I,nextPoint:L,isSamePoint:P,isVisiblePoint:function(t){if(l(t.node)||!D(t.node)||x(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!c(e)||n&&!c(n))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=I(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=L(t)}return null},walkPoint:function(t,e,n,i){for(var r=t;r&&(n(r),!P(r,e));){var o=i&&t.node!==r.node&&e.node!==r.node;r=L(r,o)}},ancestor:C,listAncestor:S,lastAncestor:function(t,e){var n=S(t);return o.last(n.filter(e))},listNext:k,listPrev:function(t,e){e=e||r.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n},listDescendant:function(t,e){var n=[];return e=e||r.ok,function i(r){t!==r&&e(r)&&n.push(r);for(var o=0,s=r.childNodes.length;s>o;o++)i(r.childNodes[o])}(t),n},commonAncestor:function(e,n){for(var i=S(e),r=n;r;r=r.parentNode)if(t.inArray(r,i)>-1)return r;return null},wrap:function(e,n){var i=e.parentNode,r=t("<"+n+">")[0];return i.insertBefore(r,e),r.appendChild(e),r},insertAfter:E,appendChildNodes:T,position:N,hasChildren:D,makeOffsetPath:function(e,n){var i=S(n,r.eq(e));return t.map(i,N).reverse()},fromOffsetPath:function(t,e){for(var n=t,i=0,r=e.length;r>i;i++)n=n.childNodes.length<=e[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[i]];return n},splitTree:function(t,e,n){var i=S(e.node,r.eq(t));return i.length?1===i.length?O(e,n):i.reduce(function(t,i){var r=E(i.cloneNode(!1),i);return t===e.node&&(t=O(e,n)),T(r,k(t)),n||(_(i),_(r)),r}):null},create:R,createText:function(t){return document.createTextNode(t)},remove:H,removeWhile:function(t,n){for(;t&&!e(t)&&n(t);){var i=t.parentNode;H(t),t=i}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=R(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),T(n,o.from(t.childNodes)),E(n,t),H(t),n},html:function(e,n){var i=F(e[0])?e.val():e.html();if(n){var r=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(r,function(t,e,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(i||r?"\n":"")}),i=t.trim(i)}return i},value:function(t){return t.val().replace(/[\n\r]/g,"")}}}(),l={version:"0.5.9",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],fontSizes:["8","9","10","11","12","14","18","24","36"],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,onCreateLink:function(t){return-1!==t.indexOf("@")&&-1===t.indexOf(":")?t="mailto:"+t:-1===t.indexOf("://")&&(t="http://"+t),t},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},c={readFileAsDataURL:function(e){return t.Deferred(function(n){t.extend(new FileReader,{onload:function(t){var e=t.target.result;n.resolve(e)},onerror:function(){n.reject(this)}}).readAsDataURL(e)}).promise()},createImage:function(e,n){return t.Deferred(function(i){t("<img>").one("load",function(){i.resolve(t(this))}).one("error abort",function(){i.reject(t(this))}).css({display:"none"}).appendTo(document.body).attr("src",e).attr("data-filename",n)}).promise()}},u={isEdit:function(t){return-1!==[8,9,13,32].indexOf(t)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},h=function(){var e=function(e,n){if(i.jqueryVersion<1.9){var r={};return t.each(n,function(t,n){r[n]=e.css(n)}),r}return e.css.call(e,n)};this.stylePara=function(e,n){t.each(e.nodes(a.isPara,{includeAncestor:!0}),function(e,i){t(i).css(n)})},this.current=function(n,i){var r=t(a.isText(n.sc)?n.sc.parentNode:n.sc),o=e(r,["font-family","font-size","text-align","list-style-type","line-height"])||{};if(o["font-size"]=parseInt(o["font-size"],10),o["font-bold"]=document.queryCommandState("bold")?"bold":"normal",o["font-italic"]=document.queryCommandState("italic")?"italic":"normal",o["font-underline"]=document.queryCommandState("underline")?"underline":"normal",o["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",o["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",o["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",n.isOnList()){var s=["circle","disc","disc-leading-zero","square"],l=t.inArray(o["list-style-type"],s)>-1;o["list-style"]=l?"unordered":"ordered"}else o["list-style"]="none";var c=a.ancestor(n.sc,a.isPara);if(c&&c.style["line-height"])o["line-height"]=c.style.lineHeight;else{var u=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=u.toFixed(1)}return o.image=a.isImg(i)&&i,o.anchor=n.isOnAnchor()&&a.ancestor(n.sc,a.isAnchor),o.ancestors=a.listAncestor(n.sc,a.isEditable),o.range=n,o}},d=function(){var e=function(t,e){var n,i,r=t.parentElement(),s=document.body.createTextRange(),l=o.from(r.childNodes);for(n=0;n<l.length;n++)if(!a.isText(l[n])){if(s.moveToElementText(l[n]),s.compareEndPoints("StartToStart",t)>=0)break;i=l[n]}if(0!==n&&a.isText(l[n-1])){var c=document.body.createTextRange(),u=null;c.moveToElementText(i||r),c.collapse(!i),u=i?i.nextSibling:r.firstChild;var h=t.duplicate();h.setEndPoint("StartToStart",c);for(var d=h.text.replace(/[\r\n]/g,"").length;d>u.nodeValue.length&&u.nextSibling;)d-=u.nodeValue.length,u=u.nextSibling;u.nodeValue,e&&u.nextSibling&&a.isText(u.nextSibling)&&d===u.nodeValue.length&&(d-=u.nodeValue.length,u=u.nextSibling),r=u,n=d}return{cont:r,offset:n}},n=function(t){var e=function(t,n){var i,s;if(a.isText(t)){var l=a.listPrev(t,r.not(a.isText)),c=o.last(l).previousSibling;i=c||t.parentNode,n+=o.sum(o.tail(l),a.nodeLength),s=!c}else{if(i=t.childNodes[n]||t,a.isText(i))return e(i,0);n=0,s=!1}return{node:i,collapseToStart:s,offset:n}},n=document.body.createTextRange(),i=e(t.node,t.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n},s=function(e,l,c,u){this.sc=e,this.so=l,this.ec=c,this.eo=u;var h=function(){if(i.isW3CRangeSupport){var t=document.createRange();return t.setStart(e,l),t.setEnd(c,u),t}var r=n({node:e,offset:l});return r.setEndPoint("EndToEnd",n({node:c,offset:u})),r};this.getPoints=function(){return{sc:e,so:l,ec:c,eo:u}},this.getStartPoint=function(){return{node:e,offset:l}},this.getEndPoint=function(){return{node:c,offset:u}},this.select=function(){var t=h();if(i.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select()},this.normalize=function(){var t=function(t){return a.isVisiblePoint(t)||(a.isLeftEdgePoint(t)?t=a.nextPointUntil(t,a.isVisiblePoint):a.isRightEdgePoint(t)&&(t=a.prevPointUntil(t,a.isVisiblePoint))),t},e=t(this.getStartPoint()),n=t(this.getStartPoint());return new s(e.node,e.offset,n.node,n.offset)},this.nodes=function(t,e){t=t||r.ok;var n=e&&e.includeAncestor,i=e&&e.fullyContains,s=this.getStartPoint(),l=this.getEndPoint(),c=[],u=[];return a.walkPoint(s,l,function(e){if(!a.isEditable(e.node)){var r;i?(a.isLeftEdgePoint(e)&&u.push(e.node),a.isRightEdgePoint(e)&&o.contains(u,e.node)&&(r=e.node)):r=n?a.ancestor(e.node,t):e.node,r&&t(r)&&c.push(r)}},!0),o.unique(c)},this.commonAncestor=function(){return a.commonAncestor(e,c)},this.expand=function(t){var n=a.ancestor(e,t),i=a.ancestor(c,t);if(!n&&!i)return new s(e,l,c,u);var r=this.getPoints();return n&&(r.sc=n,r.so=0),i&&(r.ec=i,r.eo=a.nodeLength(i)),new s(r.sc,r.so,r.ec,r.eo)},this.collapse=function(t){return t?new s(e,l,e,l):new s(c,u,c,u)},this.splitText=function(){var t=e===c,n=this.getPoints();return a.isText(c)&&!a.isEdgePoint(this.getEndPoint())&&c.splitText(u),a.isText(e)&&!a.isEdgePoint(this.getStartPoint())&&(n.sc=e.splitText(l),n.so=0,t&&(n.ec=n.sc,n.eo=u-l)),new s(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),n=e.nodes(null,{fullyContains:!0}),i=a.prevPointUntil(e.getStartPoint(),function(t){return!o.contains(n,t.node)}),r=[];return t.each(n,function(t,e){var n=e.parentNode;i.node!==n&&1===a.nodeLength(n)&&r.push(n),a.remove(e,!1)}),t.each(r,function(t,e){a.remove(e,!1)}),new s(i.node,i.offset,i.node,i.offset)};var d=function(t){return function(){var n=a.ancestor(e,t);return!!n&&n===a.ancestor(c,t)}};this.isOnEditable=d(a.isEditable),this.isOnList=d(a.isList),this.isOnAnchor=d(a.isAnchor),this.isOnCell=d(a.isCell),this.isLeftEdgeOf=function(t){if(!a.isLeftEdgePoint(this.getStartPoint()))return!1;var e=a.ancestor(this.sc,t);return e&&a.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return e===c&&l===u},this.wrapBodyInlineWithPara=function(){if(a.isEditable(e)&&!e.childNodes[l])return new s(e.appendChild(t(a.emptyPara)[0]),0);if(!a.isInline(e)||a.isParaInline(e))return this;var n=a.listAncestor(e,r.not(a.isInline)),i=o.last(n);a.isInline(i)||(i=n[n.length-2]||e.childNodes[l]);var c=a.listPrev(i,a.isParaInline).reverse();if((c=c.concat(a.listNext(i.nextSibling,a.isParaInline))).length){var u=a.wrap(o.head(c),"p");a.appendChildNodes(u,o.tail(c))}return this},this.insertNode=function(t,e){var n,i,r,s=this.wrapBodyInlineWithPara().getStartPoint();if(e)i=a.isPara(s.node)?s.node:s.node.parentNode,r=a.isPara(s.node)?s.node.childNodes[s.offset]:a.splitTree(s.node,s);else{var l=a.listAncestor(s.node,a.isBodyContainer),c=o.last(l)||s.node;a.isBodyContainer(c)?(n=l[l.length-2],i=c):(n=c,i=n.parentNode),r=n&&a.splitTree(n,s)}return r?r.parentNode.insertBefore(t,r):i.appendChild(t),t},this.toString=function(){var t=h();return i.isW3CRangeSupport?t.toString():t.text},this.bookmark=function(t){return{s:{path:a.makeOffsetPath(t,e),offset:l},e:{path:a.makeOffsetPath(t,c),offset:u}}},this.getClientRects=function(){return h().getClientRects()}};return{create:function(t,n,r,o){if(arguments.length)2===arguments.length&&(r=t,o=n);else if(i.isW3CRangeSupport){var l=document.getSelection();if(0===l.rangeCount)return null;if(a.isBody(l.anchorNode))return null;var c=l.getRangeAt(0);t=c.startContainer,n=c.startOffset,r=c.endContainer,o=c.endOffset}else{var u=document.selection.createRange(),h=u.duplicate();h.collapse(!1);var d=u;d.collapse(!0);var f=e(d,!0),p=e(h,!1);t=f.cont,n=f.offset,r=p.cont,o=p.offset}return new s(t,n,r,o)},createFromNode:function(t){return this.create(t,0,t,1)},createFromBookmark:function(t,e){var n=a.fromOffsetPath(t,e.s.path),i=e.s.offset,r=a.fromOffsetPath(t,e.e.path),o=e.e.offset;return new s(n,i,r,o)}}}(),f=function(){this.insertTab=function(t,e,n){var i=a.createText(new Array(n+1).join(a.NBSP_CHAR));(e=e.deleteContents()).insertNode(i,!0),(e=d.create(i,n)).select()},this.insertParagraph=function(){var e=d.create();e=(e=e.deleteContents()).wrapBodyInlineWithPara();var n=a.ancestor(e.sc,a.isPara),i=a.splitTree(n,e.getStartPoint()),r=a.listDescendant(n,a.isEmptyAnchor);r=r.concat(a.listDescendant(i,a.isEmptyAnchor)),t.each(r,function(t,e){a.remove(e)}),d.create(i,0).normalize().select()}},p=function(){this.tab=function(t,e){var n=a.ancestor(t.commonAncestor(),a.isCell),i=a.ancestor(n,a.isTable),r=a.listDescendant(i,a.isCell),s=o[e?"prev":"next"](r,n);s&&d.create(s,0).select()},this.createTable=function(e,n){for(var i,r=[],o=0;e>o;o++)r.push("<td>"+a.blank+"</td>");i=r.join("");for(var s,l=[],c=0;n>c;c++)l.push("<tr>"+i+"</tr>");return s=l.join(""),t('<table class="table table-bordered">'+s+"</table>")[0]}},g=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var e=this,n=d.create().wrapBodyInlineWithPara(),i=n.nodes(a.isPara,{includeAncestor:!0}),s=o.clusterBy(i,r.peq2("parentNode"));t.each(s,function(n,i){var r=o.head(i);a.isLi(r)?e.wrapList(i,r.parentNode.nodeName):t.each(i,function(e,n){t(n).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),n.select()},this.outdent=function(){var e=this,n=d.create().wrapBodyInlineWithPara(),i=n.nodes(a.isPara,{includeAncestor:!0}),s=o.clusterBy(i,r.peq2("parentNode"));t.each(s,function(n,i){var r=o.head(i);a.isLi(r)?e.releaseList([i]):t.each(i,function(e,n){t(n).css("marginLeft",function(t,e){return(e=parseInt(e,10)||0)>25?e-25:""})})}),n.select()},this.toggleList=function(e){var n=this,i=d.create().wrapBodyInlineWithPara(),s=i.nodes(a.isPara,{includeAncestor:!0}),l=o.clusterBy(s,r.peq2("parentNode"));if(o.find(s,a.isPurePara))t.each(l,function(t,i){n.wrapList(i,e)});else{var c=i.nodes(a.isList,{includeAncestor:!0}).filter(function(n){return!t.nodeName(n,e)});c.length?t.each(c,function(t,n){a.replace(n,e)}):this.releaseList(l,!0)}i.select()},this.wrapList=function(e,n){var i=o.head(e),r=o.last(e),s=a.isList(i.previousSibling)&&i.previousSibling,l=a.isList(r.nextSibling)&&r.nextSibling,c=s||a.insertAfter(a.create(n||"UL"),r);e=t.map(e,function(t){return a.isPurePara(t)?a.replace(t,"LI"):t}),a.appendChildNodes(c,e),l&&(a.appendChildNodes(c,o.from(l.childNodes)),a.remove(l))},this.releaseList=function(e,n){var i=[];return t.each(e,function(e,r){var s=o.head(r),l=o.last(r),c=n?a.lastAncestor(s,a.isList):s.parentNode,u=c.childNodes.length>1?a.splitTree(c,{node:l.parentNode,offset:a.position(l)+1},!0):null,h=a.splitTree(c,{node:s.parentNode,offset:a.position(s)},!0);r=n?a.listDescendant(h,a.isLi):o.from(h.childNodes).filter(a.isLi),(n||!a.isList(c.parentNode))&&(r=t.map(r,function(t){return a.replace(t,"P")})),t.each(o.from(r).reverse(),function(t,e){a.insertAfter(e,c)});var d=o.compact([c,h,u]);t.each(d,function(e,n){var i=[n].concat(a.listDescendant(n,a.isList));t.each(i.reverse(),function(t,e){a.nodeLength(e)||a.remove(e,!0)})}),i=i.concat(r)}),i}},m=function(){var e=new h,n=new p,r=new f,s=new g;this.saveRange=function(t,e){t.focus(),t.data("range",d.create()),e&&d.create().collapse().select()},this.restoreRange=function(t){var e=t.data("range");e&&(e.select(),t.focus())},this.currentStyle=function(t){var n=d.create();return!!n&&(n.isOnEditable()&&e.current(n,t))};var l=this.triggerOnChange=function(t){var e=t.data("callbacks").onChange;e&&e(t.html(),t)};this.undo=function(t){t.data("NoteHistory").undo(),l(t)},this.redo=function(t){t.data("NoteHistory").redo(),l(t)};for(var u=this.afterCommand=function(t){t.data("NoteHistory").recordUndo(),l(t)},m=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],v=0,y=m.length;y>v;v++)this[m[v]]=function(t){return function(e,n){document.execCommand(t,!1,n),u(e)}}(m[v]);this.tab=function(t,e){var i=d.create();i.isCollapsed()&&i.isOnCell()?n.tab(i):(r.insertTab(t,i,e.tabsize),u(t))},this.untab=function(){var t=d.create();t.isCollapsed()&&t.isOnCell()&&n.tab(t,!0)},this.insertParagraph=function(t){r.insertParagraph(t),u(t)},this.insertOrderedList=function(t){s.insertOrderedList(t),u(t)},this.insertUnorderedList=function(t){s.insertUnorderedList(t),u(t)},this.indent=function(t){s.indent(t),u(t)},this.outdent=function(t){s.outdent(t),u(t)},this.insertImage=function(t,e,n){c.createImage(e,n).then(function(e){e.css({display:"",width:Math.min(t.width(),e.width())}),d.create().insertNode(e[0]),u(t)}).fail(function(){var e=t.data("callbacks");e.onImageUploadError&&e.onImageUploadError()})},this.insertVideo=function(e,n){var i,r=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,o=n.match(r),s=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/,a=n.match(s),l=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,c=n.match(l),h=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,f=n.match(h),p=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,g=n.match(p),m=/\/\/v\.youku\.com\/v_show\/id_(\w+)\.html/,v=n.match(m);if(o&&11===o[2].length){var y=o[2];i=t("<iframe>").attr("src","//www.youtube.com/embed/"+y).attr("width","640").attr("height","360")}else a&&a[0].length?i=t("<iframe>").attr("src",a[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):c&&c[0].length?i=t("<iframe>").attr("src",c[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):f&&f[3].length?i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+f[3]).attr("width","640").attr("height","360"):g&&g[2].length?i=t("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+g[2]).attr("width","640").attr("height","360"):v&&v[1].length&&(i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+v[1]));i&&(i.attr("frameborder",0),d.create().insertNode(i[0]),u(e))},this.formatBlock=function(t,e){e=i.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e),u(t)},this.formatPara=function(t){this.formatBlock(t,"P"),u(t)};for(v=1;6>=v;v++)this["formatH"+v]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(v);this.fontSize=function(t,e){document.execCommand("fontSize",!1,3),i.isFF?t.find("font[size=3]").removeAttr("size").css("font-size",e+"px"):t.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",e+"px"),u(t)},this.lineHeight=function(t,n){e.stylePara(d.create(),{lineHeight:n}),u(t)},this.unlink=function(t){var e=d.create();if(e.isOnAnchor()){var n=a.ancestor(e.sc,a.isAnchor);(e=d.createFromNode(n)).select(),document.execCommand("unlink"),u(t)}},this.createLink=function(e,n,i){var r=n.url,o=n.text,s=n.newWindow,a=n.range;i.onCreateLink&&(r=i.onCreateLink(r));var l=(a=a.deleteContents()).insertNode(t("<A>"+o+"</A>")[0],!0);t(l).attr({href:r,target:s?"_blank":""}),d.createFromNode(l).select(),u(e)},this.getLinkInfo=function(e){e.focus();var n=d.create().expand(a.isAnchor),i=t(o.head(n.nodes(a.isAnchor)));return{range:n,text:n.toString(),isNewWindow:!i.length||"_blank"===i.attr("target"),url:i.length?i.attr("href"):""}},this.getVideoInfo=function(t){t.focus();var e=d.create();if(e.isOnAnchor()){var n=a.ancestor(e.sc,a.isAnchor);e=d.createFromNode(n)}return{text:e.toString()}},this.color=function(t,e){var n=JSON.parse(e),i=n.foreColor,r=n.backColor;i&&document.execCommand("foreColor",!1,i),r&&document.execCommand("backColor",!1,r),u(t)},this.insertTable=function(t,e){var i=e.split("x"),r=d.create();(r=r.deleteContents()).insertNode(n.createTable(i[0],i[1])),u(t)},this.floatMe=function(t,e,n){n.css("float",e),u(t)},this.resize=function(t,e,n){n.css({width:t.width()*e+"px",height:""}),u(t)},this.resizeTo=function(t,e,n){var i;if(n){var r=t.y/t.x,o=e.data("ratio");i={width:o>r?t.x:t.y/o,height:o>r?t.x*o:t.y}}else i={width:t.x,height:t.y};e.css(i)},this.removeMedia=function(t,e,n){n.detach(),u(t)}},v=function(t){var e=[],n=0,i=t[0],r=function(){var e=d.create(),n={s:{path:[0],offset:0},e:{path:[0],offset:0}};return{contents:t.html(),bookmark:e?e.bookmark(i):n}},o=function(e){null!==e.contents&&t.html(e.contents),null!==e.bookmark&&d.createFromBookmark(i,e.bookmark).select()};this.undo=function(){n>0&&(n--,o(e[n]))},this.redo=function(){e.length-1>n&&(n++,o(e[n]))},this.recordUndo=function(){e.length>n&&(e=e.slice(0,n)),e.push(r()),n++},this.recordUndo()},y=function(){this.update=function(e,n){var i=function(e,n){e.find(".dropdown-menu li a").each(function(){var e=t(this).data("value")+""==n+"";this.className=e?"checked":""})},r=function(t,n){e.find(t).toggleClass("active",n())},s=e.find(".note-fontname");if(s.length){var a=n["font-family"];a&&(a=o.head(a.split(",")),a=a.replace(/\'/g,""),s.find(".note-current-fontname").text(a),i(s,a))}var l=e.find(".note-fontsize");l.find(".note-current-fontsize").text(n["font-size"]),i(l,parseFloat(n["font-size"])),i(e.find(".note-height"),parseFloat(n["line-height"])),r('button[data-event="bold"]',function(){return"bold"===n["font-bold"]}),r('button[data-event="italic"]',function(){return"italic"===n["font-italic"]}),r('button[data-event="underline"]',function(){return"underline"===n["font-underline"]}),r('button[data-event="strikethrough"]',function(){return"strikethrough"===n["font-strikethrough"]}),r('button[data-event="superscript"]',function(){return"superscript"===n["font-superscript"]}),r('button[data-event="subscript"]',function(){return"subscript"===n["font-subscript"]}),r('button[data-event="justifyLeft"]',function(){return"left"===n["text-align"]||"start"===n["text-align"]}),r('button[data-event="justifyCenter"]',function(){return"center"===n["text-align"]}),r('button[data-event="justifyRight"]',function(){return"right"===n["text-align"]}),r('button[data-event="justifyFull"]',function(){return"justify"===n["text-align"]}),r('button[data-event="insertUnorderedList"]',function(){return"unordered"===n["list-style"]}),r('button[data-event="insertOrderedList"]',function(){return"ordered"===n["list-style"]})},this.updateRecentColor=function(e,n,i){var r=t(e).closest(".note-color").find(".note-recent-color"),o=JSON.parse(r.attr("data-value"));o[n]=i,r.attr("data-value",JSON.stringify(o));var s="backColor"===n?"background-color":"color";r.find("i").css(s,i)}},b=function(){var t=new y;this.update=function(e,n){t.update(e,n)},this.updateRecentColor=function(e,n,i){t.updateRecentColor(e,n,i)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(t,e){t.find('button[data-event="fullscreen"]').toggleClass("active",e)},this.updateCodeview=function(t,e){t.find('button[data-event="codeview"]').toggleClass("active",e)}},w=function(){var e=new y,n=function(e,n){var i=t(e),r=n?i.offset():i.position(),o=i.outerHeight(!0);return{left:r.left,top:r.top+o}},i=function(t,e){t.css({display:"block",left:e.left,top:e.top})};this.update=function(s,a,l){e.update(s,a);var c=s.find(".note-link-popover");if(a.anchor){var u=c.find("a"),h=t(a.anchor).attr("href");u.attr("href",h).html(h),i(c,n(a.anchor,l))}else c.hide();var d=s.find(".note-image-popover");a.image?i(d,n(a.image,l)):d.hide();var f=s.find(".note-air-popover");if(l&&!a.range.isCollapsed()){var p=r.rect2bnd(o.last(a.range.getClientRects()));i(f,{left:Math.max(p.left+p.width/2-20,0),top:p.top+p.height})}else f.hide()},this.updateRecentColor=function(t,e,n){t.updateRecentColor(t,e,n)},this.hide=function(t){t.children().hide()}},x=function(){this.update=function(e,n,i){var r=e.find(".note-control-selection");if(n.image){var o=t(n.image),s=i?o.offset():o.position(),a={w:o.outerWidth(!0),h:o.outerHeight(!0)};r.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",n.image);var l=a.w+"x"+a.h;r.find(".note-control-selection-info").text(l)}else r.hide()},this.hide=function(t){t.children().hide()}},_=function(){var e=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)};this.showImageDialog=function(n,i){return t.Deferred(function(t){var n=i.find(".note-image-dialog"),r=i.find(".note-image-input"),o=i.find(".note-image-url"),s=i.find(".note-image-btn");n.one("shown.bs.modal",function(){r.replaceWith(r.clone().on("change",function(){t.resolve(this.files),n.modal("hide")}).val("")),s.click(function(e){e.preventDefault(),t.resolve(o.val()),n.modal("hide")}),o.on("keyup paste",function(t){var n;n="paste"===t.type?t.originalEvent.clipboardData.getData("text"):o.val(),e(s,n)}).val("").trigger("focus")}).one("hidden.bs.modal",function(){r.off("change"),o.off("keyup paste"),s.off("click"),"pending"===t.state()&&t.reject()}).modal("show")})},this.showVideoDialog=function(n,i,r){return t.Deferred(function(t){var n=i.find(".note-video-dialog"),o=n.find(".note-video-url"),s=n.find(".note-video-btn");n.one("shown.bs.modal",function(){o.val(r.text).keyup(function(){e(s,o.val())}).trigger("keyup").trigger("focus"),s.click(function(e){e.preventDefault(),t.resolve(o.val()),n.modal("hide")})}).one("hidden.bs.modal",function(){o.off("keyup"),s.off("click"),"pending"===t.state()&&t.reject()}).modal("show")})},this.showLinkDialog=function(n,i,r){return t.Deferred(function(t){var n=i.find(".note-link-dialog"),o=n.find(".note-link-text"),s=n.find(".note-link-url"),a=n.find(".note-link-btn"),l=n.find("input[type=checkbox]");n.one("shown.bs.modal",function(){o.val(r.text),o.keyup(function(){r.text=o.val()}),r.url||(r.url=r.text,e(a,r.text)),s.keyup(function(){e(a,s.val()),r.text||o.val(s.val())}).val(r.url).trigger("focus").trigger("select"),l.prop("checked",r.newWindow),a.one("click",function(e){e.preventDefault(),t.resolve({range:r.range,url:s.val(),text:o.val(),newWindow:l.is(":checked")}),n.modal("hide")})}).one("hidden.bs.modal",function(){o.off("keyup"),s.off("keyup"),a.off("click"),"pending"===t.state()&&t.reject()}).modal("show")}).promise()},this.showHelpDialog=function(e,n){return t.Deferred(function(t){n.find(".note-help-dialog").one("hidden.bs.modal",function(){t.resolve()}).modal("show")}).promise()}};i.hasCodeMirror&&(i.isSupportAmd?require(["CodeMirror"],function(t){e=t}):e=window.CodeMirror);t.summernote=t.summernote||{},t.extend(t.summernote,l);var C=new function(){var e=function(t,e){var n=e.event,i=e.value,r=e.title,o=e.className,s=e.dropdown,a=e.hide;return'<button type="button" class="btn btn-default btn-sm btn-small'+(o?" "+o:"")+(s?" dropdown-toggle":"")+'"'+(s?' data-toggle="dropdown"':"")+(r?' title="'+r+'"':"")+(n?' data-event="'+n+'"':"")+(i?" data-value='"+i+"'":"")+(a?" data-hide='"+a+"'":"")+' tabindex="-1">'+t+(s?' <span class="caret"></span>':"")+"</button>"+(s||"")},n=function(t,n){return e('<i class="'+t+'"></i>',n)},o=function(t,e){return'<div class="'+t+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content">'+e+"</div></div>"},s=function(t,e,n,i){return'<div class="'+t+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(e?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+e+"</h4></div>":"")+'<form class="note-modal-form"><div class="modal-body"><div class="row-fluid">'+n+"</div></div>"+(i?'<div class="modal-footer">'+i+"</div>":"")+"</form></div></div></div>"},l={picture:function(t){return n("fa fa-picture-o icon-picture",{event:"showImageDialog",title:t.image.image,hide:!0})},link:function(t){return n("fa fa-link icon-link",{event:"showLinkDialog",title:t.link.link,hide:!0})},video:function(t){return n("fa fa-youtube-play icon-play",{event:"showVideoDialog",title:t.video.video,hide:!0})},table:function(t){return n("fa fa-table icon-table",{title:t.table.table,dropdown:'<ul class="note-table dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'})},style:function(t,e){var i=e.styleTags.reduce(function(e,n){var i=t.style["p"===n?"normal":n];return e+'<li><a data-event="formatBlock" href="#" data-value="'+n+'">'+("p"===n||"pre"===n?i:"<"+n+">"+i+"</"+n+">")+"</a></li>"},"");return n("fa fa-magic icon-magic",{title:t.style.style,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},fontname:function(t,n){var r=n.fontNames.reduce(function(t,e){return i.isFontInstalled(e)?t+'<li><a data-event="fontName" href="#" data-value="'+e+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>":t},""),o='<span class="note-current-fontname">'+n.defaultFontName+"</span>";return e(o,{title:t.font.name,dropdown:'<ul class="dropdown-menu">'+r+"</ul>"})},fontsize:function(t,n){var i=n.fontSizes.reduce(function(t,e){return t+'<li><a data-event="fontSize" href="#" data-value="'+e+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>"},"");return e('<span class="note-current-fontsize">11</span>',{title:t.font.size,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},color:function(t){var n=e('<i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i>',{className:"note-recent-color",title:t.color.recent,event:"color",value:'{"backColor":"yellow"}'}),i='<ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+t.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+t.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">'+t.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>';return n+e("",{title:t.color.more,dropdown:i})},bold:function(t){return n("fa fa-bold icon-bold",{event:"bold",title:t.font.bold})},italic:function(t){return n("fa fa-italic icon-italic",{event:"italic",title:t.font.italic})},underline:function(t){return n("fa fa-underline icon-underline",{event:"underline",title:t.font.underline})},strikethrough:function(t){return n("fa fa-strikethrough icon-strikethrough",{event:"strikethrough",title:t.font.strikethrough})},superscript:function(t){return n("fa fa-superscript icon-superscript",{event:"superscript",title:t.font.superscript})},subscript:function(t){return n("fa fa-subscript icon-subscript",{event:"subscript",title:t.font.subscript})},clear:function(t){return n("fa fa-eraser icon-eraser",{event:"removeFormat",title:t.font.clear})},ul:function(t){return n("fa fa-list-ul icon-list-ul",{event:"insertUnorderedList",title:t.lists.unordered})},ol:function(t){return n("fa fa-list-ol icon-list-ol",{event:"insertOrderedList",title:t.lists.ordered})},paragraph:function(t){var e=n("fa fa-align-left icon-align-left",{title:t.paragraph.left,event:"justifyLeft"}),i=n("fa fa-align-center icon-align-center",{title:t.paragraph.center,event:"justifyCenter"}),r=n("fa fa-align-right icon-align-right",{title:t.paragraph.right,event:"justifyRight"}),o=n("fa fa-align-justify icon-align-justify",{title:t.paragraph.justify,event:"justifyFull"}),s=n("fa fa-outdent icon-indent-left",{title:t.paragraph.outdent,event:"outdent"}),a='<div class="dropdown-menu"><div class="note-align btn-group">'+e+i+r+o+'</div><div class="note-list btn-group">'+n("fa fa-indent icon-indent-right",{title:t.paragraph.indent,event:"indent"})+s+"</div></div>";return n("fa fa-align-left icon-align-left",{title:t.paragraph.paragraph,dropdown:a})},height:function(t,e){var i=e.lineHeights.reduce(function(t,e){return t+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(e)+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>"},"");return n("fa fa-text-height icon-text-height",{title:t.font.height,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},help:function(t){return n("fa fa-question icon-question",{event:"showHelpDialog",title:t.options.help,hide:!0})},fullscreen:function(t){return n("fa fa-arrows-alt icon-fullscreen",{event:"fullscreen",title:t.options.fullscreen})},codeview:function(t){return n("fa fa-code icon-code",{event:"codeview",title:t.options.codeview})},undo:function(t){return n("fa fa-undo icon-undo",{event:"undo",title:t.history.undo})},redo:function(t){return n("fa fa-repeat icon-repeat",{event:"redo",title:t.history.redo})},hr:function(t){return n("fa fa-minus icon-hr",{event:"insertHorizontalRule",title:t.hr.insert})}},c=function(t,i){return'<div class="note-popover">'+function(){var e=n("fa fa-edit icon-edit",{title:t.link.edit,event:"showLinkDialog",hide:!0}),i=n("fa fa-unlink icon-unlink",{title:t.link.unlink,event:"unlink"});return o("note-link-popover",'<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+e+i+"</div>")}()+function(){var i=e('<span class="note-fontsize-10">100%</span>',{title:t.image.resizeFull,event:"resize",value:"1"}),r=e('<span class="note-fontsize-10">50%</span>',{title:t.image.resizeHalf,event:"resize",value:"0.5"}),s=e('<span class="note-fontsize-10">25%</span>',{title:t.image.resizeQuarter,event:"resize",value:"0.25"}),a=n("fa fa-align-left icon-align-left",{title:t.image.floatLeft,event:"floatMe",value:"left"}),l=n("fa fa-align-right icon-align-right",{title:t.image.floatRight,event:"floatMe",value:"right"}),c=n("fa fa-align-justify icon-align-justify",{title:t.image.floatNone,event:"floatMe",value:"none"}),u=n("fa fa-trash-o icon-trash",{title:t.image.remove,event:"removeMedia",value:"none"});return o("note-image-popover",'<div class="btn-group">'+i+r+s+'</div><div class="btn-group">'+a+l+c+'</div><div class="btn-group">'+u+"</div>")}()+(i.airMode?function(){for(var e="",n=0,r=i.airPopover.length;r>n;n++){var s=i.airPopover[n];e+='<div class="note-'+s[0]+' btn-group">';for(var a=0,c=s[1].length;c>a;a++)e+=l[s[1][a]](t,i);e+="</div>"}return o("note-air-popover",e)}():"")+"</div>"},u=function(t,e){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t+"</th></tr></thead><tbody>"+e+"</tbody></table>"},h=function(t){var e="<tr><td>⌘ + B</td><td>"+t.font.bold+"</td></tr><tr><td>⌘ + I</td><td>"+t.font.italic+"</td></tr><tr><td>⌘ + U</td><td>"+t.font.underline+"</td></tr><tr><td>⌘ + ⇧ + S</td><td>"+t.font.strikethrough+"</td></tr><tr><td>⌘ + \\</td><td>"+t.font.clear+"</td></tr>";return u(t.shortcut.textFormatting,e)},d=function(t){var e="<tr><td>⌘ + Z</td><td>"+t.history.undo+"</td></tr><tr><td>⌘ + ⇧ + Z</td><td>"+t.history.redo+"</td></tr><tr><td>⌘ + ]</td><td>"+t.paragraph.indent+"</td></tr><tr><td>⌘ + [</td><td>"+t.paragraph.outdent+"</td></tr><tr><td>⌘ + ENTER</td><td>"+t.hr.insert+"</td></tr>";return u(t.shortcut.action,e)},f=function(t){var e="<tr><td>⌘ + ⇧ + L</td><td>"+t.paragraph.left+"</td></tr><tr><td>⌘ + ⇧ + E</td><td>"+t.paragraph.center+"</td></tr><tr><td>⌘ + ⇧ + R</td><td>"+t.paragraph.right+"</td></tr><tr><td>⌘ + ⇧ + J</td><td>"+t.paragraph.justify+"</td></tr><tr><td>⌘ + ⇧ + NUM7</td><td>"+t.lists.ordered+"</td></tr><tr><td>⌘ + ⇧ + NUM8</td><td>"+t.lists.unordered+"</td></tr>";return u(t.shortcut.paragraphFormatting,e)},p=function(t){var e="<tr><td>⌘ + NUM0</td><td>"+t.style.normal+"</td></tr><tr><td>⌘ + NUM1</td><td>"+t.style.h1+"</td></tr><tr><td>⌘ + NUM2</td><td>"+t.style.h2+"</td></tr><tr><td>⌘ + NUM3</td><td>"+t.style.h3+"</td></tr><tr><td>⌘ + NUM4</td><td>"+t.style.h4+"</td></tr><tr><td>⌘ + NUM5</td><td>"+t.style.h5+"</td></tr><tr><td>⌘ + NUM6</td><td>"+t.style.h6+"</td></tr>";return u(t.shortcut.documentStyle,e)},g=function(t,e){var n=e.extraKeys,i="";for(var r in n)n.hasOwnProperty(r)&&(i+="<tr><td>"+r+"</td><td>"+n[r]+"</td></tr>");return u(t.shortcut.extraKeys,i)},m=function(t,e){var n='<table class="note-shortcut-layout"><tbody><tr><td>'+d(t)+"</td><td>"+h(t)+"</td></tr><tr><td>"+p(t)+"</td><td>"+f(t)+"</td></tr>";return e.extraKeys&&(n+='<tr><td colspan="2">'+g(t,e)+"</td></tr>"),n+="</tbody></table>"},v=function(t){return t.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")},y=function(t,e){return'<div class="note-dialog">'+function(){var e='<div class="note-group-select-from-files"><h5>'+t.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /></div><h5>'+t.image.url+'</h5><input class="note-image-url form-control span12" type="text" />',n='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+t.image.insert+"</button>";return s("note-image-dialog",t.image.insert,e,n)}()+function(){var n='<div class="form-group"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control span12" type="text" /></div><div class="form-group"><label>'+t.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>"),i='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+t.link.insert+"</button>";return s("note-link-dialog",t.link.insert,n,i)}()+function(){var e='<div class="form-group"><label>'+t.video.url+'</label>&nbsp;<small class="text-muted">'+t.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div>',n='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+t.video.insert+"</button>";return s("note-video-dialog",t.video.insert,e,n)}()+function(){var n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(i.isMac?m(t,e):v(m(t,e)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.9</a> · <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> · <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p>';return s("note-help-dialog","",n,"")}()+"</div>"},b=function(t){return i.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧")),t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")},w=function(e,n,i){var o=r.invertObject(n);e.find("button").each(function(e,n){var i=t(n),r=o[i.data("event")];r&&i.attr("title",function(t,e){return e+" ("+b(r)+")"})}).tooltip({container:"body",trigger:"hover",placement:i||"top"}).on("click",function(){t(this).tooltip("hide")})},x=function(e,n){var i=n.colors;e.find(".note-color-palette").each(function(){for(var e=t(this),n=e.attr("data-target-event"),r=[],o=0,s=i.length;s>o;o++){for(var a=i[o],l=[],c=0,u=a.length;u>c;c++){var h=a[c];l.push(['<button type="button" class="note-color-btn" style="background-color:',h,';" data-event="',n,'" data-value="',h,'" title="',h,'" data-toggle="button" tabindex="-1"></button>'].join(""))}r.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(r.join(""))})};this.createLayoutByAirMode=function(e,n){var o=n.keyMap[i.isMac?"mac":"pc"],s=t.summernote.lang[n.lang],a=r.uniqueId();e.addClass("note-air-editor note-editable"),e.attr({id:"note-editor-"+a,contentEditable:!0});var l=document.body,u=t(c(s,n));u.addClass("note-air-layout"),u.attr("id","note-popover-"+a),u.appendTo(l),w(u,o),x(u,n);var h=t('<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>');h.addClass("note-air-layout"),h.attr("id","note-handle-"+a),h.appendTo(l);var d=t(y(s,n));d.addClass("note-air-layout"),d.attr("id","note-dialog-"+a),d.find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),d.appendTo(l)},this.createLayoutByFrame=function(e,n){var r=t('<div class="note-editor"></div>');n.width&&r.width(n.width),n.height>0&&t('<div class="note-statusbar">'+(n.disableResizeEditor?"":'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>')+"</div>").prependTo(r);var o=!e.is(":disabled"),s=t('<div class="note-editable" contentEditable="'+o+'"></div>').prependTo(r);n.height&&s.height(n.height),n.direction&&s.attr("dir",n.direction),s.html(a.html(e)||a.emptyPara),t('<textarea class="note-codable"></textarea>').prependTo(r);for(var u=t.summernote.lang[n.lang],h="",d=0,f=n.toolbar.length;f>d;d++){var p=n.toolbar[d][0],g=n.toolbar[d][1];h+='<div class="note-'+p+' btn-group">';for(var m=0,v=g.length;v>m;m++)t.isFunction(l[g[m]])&&(h+=l[g[m]](u,n));h+="</div>"}var b=t(h='<div class="note-toolbar btn-toolbar">'+h+"</div>").prependTo(r),_=n.keyMap[i.isMac?"mac":"pc"];x(b,n),w(b,_,"bottom");var C=t(c(u,n)).prependTo(r);x(C,n),w(C,_),t('<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>').prependTo(r),t(y(u,n)).prependTo(r).find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),t('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(r),r.insertAfter(e),e.hide()},this.noteEditorFromHolder=function(e){return e.hasClass("note-air-editor")?e:e.next().hasClass("note-editor")?e.next():t()},this.createLayout=function(t,e){this.noteEditorFromHolder(t).length||(e.airMode?this.createLayoutByAirMode(t,e):this.createLayoutByFrame(t,e))},this.layoutInfoFromHolder=function(t){var e=this.noteEditorFromHolder(t);if(e.length){var n=a.buildLayoutInfo(e);for(var i in n)n.hasOwnProperty(i)&&(n[i]=n[i].call());return n}},this.removeLayout=function(t,e,n){n.airMode?(t.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),e.popover.remove(),e.handle.remove(),e.dialog.remove()):(t.html(e.editable.html()),e.editor.remove(),t.show())}},S=new function(){var n=t(window),r=t(document),s=t("html, body"),l=new m,h=new b,d=new w,f=new x,p=new _,g=function(e){var n=t(e).closest(".note-editor, .note-air-editor, .note-air-layout");if(!n.length)return null;var i;return i=n.is(".note-editor, .note-air-editor")?n:t("#note-editor-"+o.last(n.attr("id").split("-"))),a.buildLayoutInfo(i)},y=function(e,n){l.restoreRange(e);var i=e.data("callbacks");i.onImageUpload?i.onImageUpload(n,l,e):t.each(n,function(t,n){var r=n.name;c.readFileAsDataURL(n).then(function(t){l.insertImage(e,t,r)}).fail(function(){i.onImageUploadError&&i.onImageUploadError()})})},C={showLinkDialog:function(t){var e=t.editor(),n=t.dialog(),i=t.editable(),r=l.getLinkInfo(i),o=e.data("options");l.saveRange(i),p.showLinkDialog(i,n,r).then(function(e){l.restoreRange(i),l.createLink(i,e,o),d.hide(t.popover())}).fail(function(){l.restoreRange(i)})},showImageDialog:function(t){var e=t.dialog(),n=t.editable();l.saveRange(n),p.showImageDialog(n,e).then(function(t){l.restoreRange(n),"string"==typeof t?l.insertImage(n,t):y(n,t)}).fail(function(){l.restoreRange(n)})},showVideoDialog:function(t){var e=t.dialog(),n=t.editable(),i=l.getVideoInfo(n);l.saveRange(n),p.showVideoDialog(n,e,i).then(function(t){l.restoreRange(n),l.insertVideo(n,t)}).fail(function(){l.restoreRange(n)})},showHelpDialog:function(t){var e=t.dialog(),n=t.editable();l.saveRange(n,!0),p.showHelpDialog(n,e).then(function(){l.restoreRange(n)})},fullscreen:function(t){var e=t.editor(),i=t.toolbar(),r=t.editable(),o=t.codable(),a=e.data("options"),l=function(t){e.css("width",t.w),r.css("height",t.h),o.css("height",t.h),o.data("cmeditor")&&o.data("cmeditor").setsize(null,t.h)};e.toggleClass("fullscreen");var c=e.hasClass("fullscreen");c?(r.data("orgheight",r.css("height")),n.on("resize",function(){l({w:n.width(),h:n.height()-i.outerHeight()})}).trigger("resize"),s.css("overflow","hidden")):(n.off("resize"),l({w:a.width||"",h:r.data("orgheight")}),s.css("overflow","visible")),h.updateFullscreen(i,c)},codeview:function(t){var n,r,o=t.editor(),s=t.toolbar(),l=t.editable(),c=t.codable(),u=t.popover(),f=o.data("options");o.toggleClass("codeview");var p=o.hasClass("codeview");p?(c.val(a.html(l,!0)),c.height(l.height()),h.deactivate(s),d.hide(u),c.focus(),i.hasCodeMirror&&(n=e.fromTextArea(c[0],f.codemirror),f.codemirror.tern&&(r=new e.TernServer(f.codemirror.tern),n.ternServer=r,n.on("cursorActivity",function(t){r.updateArgHints(t)})),n.setSize(null,l.outerHeight()),c.data("cmEditor",n))):(i.hasCodeMirror&&(n=c.data("cmEditor"),c.val(n.getValue()),n.toTextArea()),l.html(a.value(c)||a.emptyPara),l.height(f.height?c.height():"auto"),h.activate(s),l.focus()),h.updateCodeview(t.toolbar(),p)}},S=function(t){a.isImg(t.target)&&t.preventDefault()},k=function(t){setTimeout(function(){var e=g(t.currentTarget||t.target),n=l.currentStyle(t.target);if(n){var i=e.editor().data("options").airMode;i||h.update(e.toolbar(),n),d.update(e.popover(),n,i),f.update(e.handle(),n,i)}},0)},E=function(t){var e=g(t.currentTarget||t.target);d.hide(e.popover()),f.hide(e.handle())},T=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var n=g(t.currentTarget||t.target),i=o.head(e.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&y(n.editable(),[i.getAsFile()])}},A=function(e){if(a.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var n=g(e.target),i=n.handle(),o=n.popover(),s=n.editable(),c=n.editor(),u=i.find(".note-control-selection").data("target"),h=t(u),p=h.offset(),m=r.scrollTop(),v=c.data("options").airMode;r.on("mousemove",function(t){l.resizeTo({x:t.clientX-p.left,y:t.clientY-(p.top-m)},h,!t.shiftKey),f.update(i,{image:u},v),d.update(o,{image:u},v)}).one("mouseup",function(){r.off("mousemove")}),h.data("ratio")||h.data("ratio",h.height()/h.width()),l.afterCommand(s)}},M=function(e){t(e.target).closest("[data-event]").length&&e.preventDefault()},N=function(e){var n=t(e.target).closest("[data-event]");if(n.length){var i=n.attr("data-event"),r=n.attr("data-value"),s=n.attr("data-hide"),a=g(e.target);e.preventDefault();var c;if(-1!==t.inArray(i,["resize","floatMe","removeMedia"])){var u=a.handle().find(".note-control-selection");c=t(u.data("target"))}if(s&&n.parents(".popover").hide(),l[i]){var f=a.editable();f.trigger("focus"),l[i](f,r,c)}else C[i]&&C[i].call(this,a);if(-1!==t.inArray(i,["backColor","foreColor"])){var p=a.editor().data("options",p);(p.airMode?d:h).updateRecentColor(o.head(n),i,r)}k(e)}},D=function(t){t.preventDefault(),t.stopPropagation();var e=g(t.target).editable(),n=e.offset().top-r.scrollTop(),i=g(t.currentTarget||t.target).editor().data("options");r.on("mousemove",function(t){var r=t.clientY-(n+24);r=i.minHeight>0?Math.max(r,i.minHeight):r,r=i.maxHeight>0?Math.min(r,i.maxHeight):r,e.height(r)}).one("mouseup",function(){r.off("mousemove")})},I=function(e,n){var i,r=t(e.target.parentNode),o=r.next(),s=r.find(".note-dimension-picker-mousecatcher"),a=r.find(".note-dimension-picker-highlighted"),l=r.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var c=t(e.target).offset();i={x:e.pageX-c.left,y:e.pageY-c.top}}else i={x:e.offsetX,y:e.offsetY};var u={c:Math.ceil(i.x/18)||1,r:Math.ceil(i.y/18)||1};a.css({width:u.c+"em",height:u.r+"em"}),s.attr("data-value",u.c+"x"+u.r),3<u.c&&u.c<n.insertTableMaxSize.col&&l.css({width:u.c+1+"em"}),3<u.r&&u.r<n.insertTableMaxSize.row&&l.css({height:u.r+1+"em"}),o.html(u.c+" x "+u.r)},L=function(t,e){e?r.on("drop",function(t){t.preventDefault()}):P(t)},P=function(e){var n=t(),i=e.dropzone,o=e.dropzone.find(".note-dropzone-message");r.on("dragenter",function(t){e.editor.hasClass("codeview")||n.length||(e.editor.addClass("dragover"),i.width(e.editor.width()),i.height(e.editor.height()),o.text("Drag Image Here")),n=n.add(t.target)}).on("dragleave",function(t){(n=n.not(t.target)).length||e.editor.removeClass("dragover")}).on("drop",function(){n=t(),e.editor.removeClass("dragover")}),i.on("dragenter",function(){i.addClass("hover"),o.text("Drop Image")}).on("dragleave",function(){i.removeClass("hover"),o.text("Drag Image Here")}),i.on("drop",function(t){t.preventDefault();var e=t.originalEvent.dataTransfer;if(e&&e.files){var n=g(t.currentTarget||t.target);n.editable().focus(),y(n.editable(),e.files)}}).on("dragover",!1)};this.bindKeyMap=function(t,e){var n=t.editor,i=t.editable;t=g(i),i.on("keydown",function(r){var o=[];r.metaKey&&o.push("CMD"),r.ctrlKey&&!r.altKey&&o.push("CTRL"),r.shiftKey&&o.push("SHIFT");var s=u.nameFromCode[r.keyCode];s&&o.push(s);var a=e[o.join("+")];a?(r.preventDefault(),l[a]?l[a](i,n.data("options")):C[a]&&C[a].call(this,t)):u.isEdit(r.keyCode)&&l.afterCommand(i)})},this.attach=function(t,e){this.bindKeyMap(t,e.keyMap[i.isMac?"mac":"pc"]),t.editable.on("mousedown",S),t.editable.on("keyup mouseup",k),t.editable.on("scroll",E),t.editable.on("paste",T),t.handle.on("mousedown",A),t.popover.on("click",N),t.popover.on("mousedown",M),e.airMode||(L(t,e.disableDragAndDrop),t.toolbar.on("click",N),t.toolbar.on("mousedown",M),e.disableResizeEditor||t.statusbar.on("mousedown",D)),(e.airMode?t.popover:t.toolbar).find(".note-dimension-picker-mousecatcher").css({width:e.insertTableMaxSize.col+"em",height:e.insertTableMaxSize.row+"em"}).on("mousemove",function(t){I(t,e)}),t.editor.data("options",e),e.styleWithSpan&&!i.isMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)},0);var n=new v(t.editable);if(t.editable.data("NoteHistory",n),e.onenter&&t.editable.keypress(function(t){t.keyCode===u.ENTER&&e.onenter(t)}),e.onfocus&&t.editable.focus(e.onfocus),e.onblur&&t.editable.blur(e.onblur),e.onkeyup&&t.editable.keyup(e.onkeyup),e.onkeydown&&t.editable.keydown(e.onkeydown),e.onpaste&&t.editable.on("paste",e.onpaste),e.onToolbarClick&&t.toolbar.click(e.onToolbarClick),e.onChange){var r=function(){l.triggerOnChange(t.editable)};i.isMSIE?t.editable.on("DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted",r):t.editable.on("input",r)}t.editable.data("callbacks",{onChange:e.onChange,onAutoSave:e.onAutoSave,onImageUpload:e.onImageUpload,onImageUploadError:e.onImageUploadError,onFileUpload:e.onFileUpload,onFileUploadError:e.onFileUpload})},this.dettach=function(t,e){t.editable.off(),t.popover.off(),t.handle.off(),t.dialog.off(),e.airMode||(t.dropzone.off(),t.toolbar.off(),t.statusbar.off())}};t.fn.extend({summernote:function(e){return e=t.extend({},t.summernote.options,e),this.each(function(n,i){var r=t(i);C.createLayout(r,e);var o=C.layoutInfoFromHolder(r);S.attach(o,e),a.isTextarea(r[0])&&r.closest("form").submit(function(){r.val(r.code())})}),this.first().length&&e.focus&&C.layoutInfoFromHolder(this.first()).editable.focus(),this.length&&e.oninit&&e.oninit(),this},code:function(e){if(void 0===e){var n=this.first();if(!n.length)return;var r=C.layoutInfoFromHolder(n);if(r&&r.editable){var o=r.editor.hasClass("codeview");return o&&i.hasCodeMirror&&r.codable.data("cmEditor").save(),o?r.codable.val():r.editable.html()}return a.isTextarea(n[0])?n.val():n.html()}return this.each(function(n,i){var r=C.layoutInfoFromHolder(t(i));r&&r.editable&&r.editable.html(e)}),this},destroy:function(){return this.each(function(e,n){var i=t(n),r=C.layoutInfoFromHolder(i);if(r&&r.editable){var o=r.editor.data("options");S.dettach(r,o),C.removeLayout(i,r,o)}}),this}})}),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return xt.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(t){!1===mt.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function o(t,e){var n=!0;return h(function(){return n&&(r(t),n=!1),e.apply(this,arguments)},e)}function s(t,e){he[t]||(r(e),he[t]=!0)}function a(t,e){return function(n){return p(t.call(this,n),e)}}function l(){}function c(t,e){!1!==e&&M(t),d(this,t),this._d=new Date(+t._d)}function u(t){var e=C(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=mt.localeData(),this._bubble()}function h(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e){var n,i,r;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=e._pf),void 0!==e._locale&&(t._locale=e._locale),Nt.length>0)for(n in Nt)i=Nt[n],void 0!==(r=e[i])&&(t[i]=r);return t}function f(t){return 0>t?Math.ceil(t):Math.floor(t)}function p(t,e,n){for(var i=""+Math.abs(t),r=t>=0;i.length<e;)i="0"+i;return(r?n?"+":"":"-")+i}function g(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function m(t,e){var n;return e=P(e,t),t.isBefore(e)?n=g(t,e):(n=g(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function v(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(s(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=mt.duration(n,i),y(this,r,t),this}}function y(t,e,n,i){var r=e._milliseconds,o=e._days,s=e._months;i=null==i||i,r&&t._d.setTime(+t._d+r*n),o&&ht(t,"Date",ut(t,"Date")+o*n),s&&ct(t,ut(t,"Month")+s*n),i&&mt.updateOffset(t,o||s)}function b(t){return"[object Array]"===Object.prototype.toString.call(t)}function w(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function x(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&S(t[i])!==S(e[i]))&&s++;return s+o}function _(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=re[t]||oe[e]||e}return t}function C(t){var e,i,r={};for(i in t)n(t,i)&&(e=_(i))&&(r[e]=t[i]);return r}function S(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function k(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function E(t,e,n){return ot(mt([t,11,31+e-n]),e,n).week}function T(t){return A(t)?366:365}function A(t){return t%4==0&&t%100!=0||t%400==0}function M(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Ct]<0||t._a[Ct]>11?Ct:t._a[St]<1||t._a[St]>k(t._a[_t],t._a[Ct])?St:t._a[kt]<0||t._a[kt]>23?kt:t._a[Et]<0||t._a[Et]>59?Et:t._a[Tt]<0||t._a[Tt]>59?Tt:t._a[At]<0||t._a[At]>999?At:-1,t._pf._overflowDayOfYear&&(_t>e||e>St)&&(e=St),t._pf.overflow=e)}function N(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function D(t){return t?t.toLowerCase().replace("_","-"):t}function I(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=D(t[o]).split("-")).length,n=(n=D(t[o+1]))?n.split("-"):null;e>0;){if(i=L(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&x(r,n,!0)>=e-1)break;e--}o++}return null}function L(t){var e=null;if(!Mt[t]&&Dt)try{e=mt.locale(),require("./locale/"+t),mt.locale(e)}catch(t){}return Mt[t]}function P(t,e){return e._isUTC?mt(t).zone(e._offset||0):mt(t).local()}function O(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function R(t){var e,n,i=t.match(Ot);for(e=0,n=i.length;n>e;e++)i[e]=ue[i[e]]?ue[i[e]]:O(i[e]);return function(r){var o="";for(e=0;n>e;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function H(t,e){return t.isValid()?(e=F(e,t.localeData()),se[e]||(se[e]=R(e)),se[e](t)):t.localeData().invalidDate()}function F(t,e){var n=5;for(Rt.lastIndex=0;n>=0&&Rt.test(t);)t=t.replace(Rt,function(t){return e.longDateFormat(t)||t}),Rt.lastIndex=0,n-=1;return t}function z(t,e){var n=e._strict;switch(t){case"Q":return Yt;case"DDDD":return Gt;case"YYYY":case"GGGG":case"gggg":return n?Kt:zt;case"Y":case"G":case"g":return Zt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Qt:Bt;case"S":if(n)return Yt;case"SS":if(n)return Xt;case"SSS":if(n)return Gt;case"DDD":return Ft;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return jt;case"a":case"A":return e._locale._meridiemParse;case"X":return Ut;case"Z":case"ZZ":return $t;case"T":return qt;case"SSSS":return Wt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Xt:Ht;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ht;case"Do":return Vt;default:return new RegExp(X(Y(t.replace("\\",""))))}}function B(t){var e=(t=t||"").match($t)||[],n=((e[e.length-1]||[])+"").match(ne)||["-",0,0],i=60*n[1]+S(n[2]);return"+"===n[0]?-i:i}function W(t,e,n){var i,r=n._a;switch(t){case"Q":null!=e&&(r[Ct]=3*(S(e)-1));break;case"M":case"MM":null!=e&&(r[Ct]=S(e)-1);break;case"MMM":case"MMMM":null!=(i=n._locale.monthsParse(e))?r[Ct]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[St]=S(e));break;case"Do":null!=e&&(r[St]=S(parseInt(e,10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=S(e));break;case"YY":r[_t]=mt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":r[_t]=S(e);break;case"a":case"A":n._isPm=n._locale.isPM(e);break;case"H":case"HH":case"h":case"hh":r[kt]=S(e);break;case"m":case"mm":r[Et]=S(e);break;case"s":case"ss":r[Tt]=S(e);break;case"S":case"SS":case"SSS":case"SSSS":r[At]=S(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=B(e);break;case"dd":case"ddd":case"dddd":null!=(i=n._locale.weekdaysParse(e))?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=S(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=mt.parseTwoDigitYear(e)}}function j(t){var n,i,r,o,s,a,l;null!=(n=t._w).GG||null!=n.W||null!=n.E?(s=1,a=4,i=e(n.GG,t._a[_t],ot(mt(),1,4).year),r=e(n.W,1),o=e(n.E,1)):(s=t._locale._week.dow,a=t._locale._week.doy,i=e(n.gg,t._a[_t],ot(mt(),s,a).year),r=e(n.w,1),null!=n.d?(o=n.d,s>o&&++r):o=null!=n.e?n.e+s:s),l=st(i,r,o,a,s),t._a[_t]=l.year,t._dayOfYear=l.dayOfYear}function $(t){var n,i,r,o,s=[];if(!t._d){for(r=U(t),t._w&&null==t._a[St]&&null==t._a[Ct]&&j(t),t._dayOfYear&&(o=e(t._a[_t],r[_t]),t._dayOfYear>T(o)&&(t._pf._overflowDayOfYear=!0),i=et(o,0,t._dayOfYear),t._a[Ct]=i.getUTCMonth(),t._a[St]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=s[n]=r[n];for(;7>n;n++)t._a[n]=s[n]=null==t._a[n]?2===n?1:0:t._a[n];t._d=(t._useUTC?et:tt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm)}}function q(t){var e;t._d||(e=C(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],$(t))}function U(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function V(t){if(t._f!==mt.ISO_8601){t._a=[],t._pf.empty=!0;var e,n,i,r,o,s=""+t._i,a=s.length,l=0;for(i=F(t._f,t._locale).match(Ot)||[],e=0;e<i.length;e++)r=i[e],(n=(s.match(z(r,t))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&t._pf.unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),ue[r]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(r),W(r,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=a-l,s.length>0&&t._pf.unusedInput.push(s),t._isPm&&t._a[kt]<12&&(t._a[kt]+=12),!1===t._isPm&&12===t._a[kt]&&(t._a[kt]=0),$(t),M(t)}else K(t)}function Y(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(t){var e,n,r,o,s;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)s=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[o],V(e),N(e)&&(s+=e._pf.charsLeftOver,s+=10*e._pf.unusedTokens.length,e._pf.score=s,(null==r||r>s)&&(r=s,n=e));h(t,n||e)}function K(t){var e,n,i=t._i,r=Jt.exec(i);if(r){for(t._pf.iso=!0,e=0,n=te.length;n>e;e++)if(te[e][1].exec(i)){t._f=te[e][0]+(r[6]||" ");break}for(e=0,n=ee.length;n>e;e++)if(ee[e][1].exec(i)){t._f+=ee[e][0];break}i.match($t)&&(t._f+="Z"),V(t)}else t._isValid=!1}function Q(t){K(t),!1===t._isValid&&(delete t._isValid,mt.createFromInputFallback(t))}function Z(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function J(e){var n,i=e._i;i===t?e._d=new Date:w(i)?e._d=new Date(+i):null!==(n=It.exec(i))?e._d=new Date(+n[1]):"string"==typeof i?Q(e):b(i)?(e._a=Z(i.slice(0),function(t){return parseInt(t,10)}),$(e)):"object"==typeof i?q(e):"number"==typeof i?e._d=new Date(i):mt.createFromInputFallback(e)}function tt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return 1970>t&&a.setFullYear(t),a}function et(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function nt(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}function it(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function rt(t,e,n){var i=mt.duration(t).abs(),r=wt(i.as("s")),o=wt(i.as("m")),s=wt(i.as("h")),a=wt(i.as("d")),l=wt(i.as("M")),c=wt(i.as("y")),u=r<ae.s&&["s",r]||1===o&&["m"]||o<ae.m&&["mm",o]||1===s&&["h"]||s<ae.h&&["hh",s]||1===a&&["d"]||a<ae.d&&["dd",a]||1===l&&["M"]||l<ae.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,it.apply({},u)}function ot(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=mt(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function st(t,e,n,i,r){var o,s,a=et(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:r,o=r-a+(a>i?7:0)-(r>a?7:0),s=7*(e-1)+(n-r)+o+1,{year:s>0?t:t-1,dayOfYear:s>0?s:T(t-1)+s}}function at(e){var n=e._i,i=e._f;return e._locale=e._locale||mt.localeData(e._l),null===n||i===t&&""===n?mt.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),mt.isMoment(n)?new c(n,!0):(i?b(i)?G(e):V(e):J(e),new c(e)))}function lt(t,e){var n,i;if(1===e.length&&b(e[0])&&(e=e[0]),!e.length)return mt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function ct(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(n=Math.min(t.date(),k(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ut(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function ht(t,e,n){return"Month"===e?ct(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function dt(t,e){return function(n){return null!=n?(ht(this,t,n),mt.updateOffset(this,e),this):ut(this,t)}}function ft(t){return 400*t/146097}function pt(t){return 146097*t/400}function gt(t){"undefined"==typeof ender&&(vt=bt.moment,bt.moment=t?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",mt):mt)}for(var mt,vt,yt,bt="undefined"!=typeof global?global:this,wt=Math.round,xt=Object.prototype.hasOwnProperty,_t=0,Ct=1,St=2,kt=3,Et=4,Tt=5,At=6,Mt={},Nt=[],Dt="undefined"!=typeof module&&module.exports,It=/^\/?Date\((\-?\d+)/i,Lt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Pt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ot=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Rt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ht=/\d\d?/,Ft=/\d{1,3}/,zt=/\d{1,4}/,Bt=/[+\-]?\d{1,6}/,Wt=/\d+/,jt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,$t=/Z|[\+\-]\d\d:?\d\d/gi,qt=/T/i,Ut=/[\+\-]?\d+(\.\d{1,3})?/,Vt=/\d{1,2}/,Yt=/\d/,Xt=/\d\d/,Gt=/\d{3}/,Kt=/\d{4}/,Qt=/[+-]?\d{6}/,Zt=/[+-]?\d+/,Jt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,te=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ee=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ne=/([\+\-]|\d\d)/gi,ie=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),re={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},oe={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},se={},ae={s:45,m:45,h:22,d:26,M:11},le="DDD w W M D d".split(" "),ce="M D H h m s w W".split(" "),ue={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var t=this.year();return(t>=0?"+":"-")+p(Math.abs(t),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return p(S(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+p(S(t/60),2)+":"+p(S(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+p(S(t/60),2)+p(S(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},he={},de=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];le.length;)yt=le.pop(),ue[yt+"o"]=function(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}(ue[yt],yt);for(;ce.length;)yt=ce.pop(),ue[yt+yt]=a(ue[yt],2);for(ue.DDDD=a(ue.DDD,3),h(l.prototype,{set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=mt.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=mt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ot(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(mt=function(e,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=t),s={},s._isAMomentObject=!0,s._i=e,s._f=n,s._l=r,s._strict=o,s._isUTC=!1,s._pf=i(),at(s)}).suppressDeprecationWarnings=!1,mt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i)}),mt.min=function(){return lt("isBefore",[].slice.call(arguments,0))},mt.max=function(){return lt("isAfter",[].slice.call(arguments,0))},mt.utc=function(e,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=t),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=r,s._i=e,s._f=n,s._strict=o,s._pf=i(),at(s).utc()},mt.unix=function(t){return mt(1e3*t)},mt.duration=function(t,e){var i,r,o,s,a=t,l=null;return mt.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=Lt.exec(t))?(i="-"===l[1]?-1:1,a={y:0,d:S(l[St])*i,h:S(l[kt])*i,m:S(l[Et])*i,s:S(l[Tt])*i,ms:S(l[At])*i}):(l=Pt.exec(t))?(i="-"===l[1]?-1:1,o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},a={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(s=m(mt(a.from),mt(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),r=new u(a),mt.isDuration(t)&&n(t,"_locale")&&(r._locale=t._locale),r},mt.version="2.8.3",mt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",mt.ISO_8601=function(){},mt.momentProperties=Nt,mt.updateOffset=function(){},mt.relativeTimeThreshold=function(e,n){return ae[e]!==t&&(n===t?ae[e]:(ae[e]=n,!0))},mt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return mt.locale(t,e)}),mt.locale=function(t,e){var n;return t&&(n=void 0!==e?mt.defineLocale(t,e):mt.localeData(t))&&(mt.duration._locale=mt._locale=n),mt._locale._abbr},mt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Mt[t]||(Mt[t]=new l),Mt[t].set(e),mt.locale(t),Mt[t]):(delete Mt[t],null)},mt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(t){return mt.localeData(t)}),mt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return mt._locale;if(!b(t)){if(e=L(t))return e;t=[t]}return I(t)},mt.isMoment=function(t){return t instanceof c||null!=t&&n(t,"_isAMomentObject")},mt.isDuration=function(t){return t instanceof u},yt=de.length-1;yt>=0;--yt)!function(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}mt[e]=function(r,o){var s,a,l=mt._locale[e],c=[];if("number"==typeof r&&(o=r,r=t),a=function(t){var e=mt().utc().set(i,t);return l.call(mt._locale,e,r||"")},null!=o)return a(o);for(s=0;n>s;s++)c.push(a(s));return c}}(de[yt]);mt.normalizeUnits=function(t){return _(t)},mt.invalid=function(t){var e=mt.utc(NaN);return null!=t?h(e._pf,t):e._pf.userInvalidated=!0,e},mt.parseZone=function(){return mt.apply(null,arguments).parseZone()},mt.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)},h(mt.fn=c.prototype,{clone:function(){return mt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=mt(this).utc();return 0<t.year()&&t.year()<=9999?H(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return N(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&x(this._a,(this._isUTC?mt.utc(this._a):mt(this._a)).toArray())>0)},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=H(this,t||mt.defaultFormat);return this.localeData().postformat(e)},add:v(1,"add"),subtract:v(-1,"subtract"),diff:function(t,e,n){var i,r,o,s=P(t,this),a=6e4*(this.zone()-s.zone());return"year"===(e=_(e))||"month"===e?(i=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),o=this-mt(this).startOf("month")-(s-mt(s).startOf("month")),o-=6e4*(this.zone()-mt(this).startOf("month").zone()-(s.zone()-mt(s).startOf("month").zone())),r+=o/i,"year"===e&&(r/=12)):(i=this-s,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?r:f(r)},from:function(t,e){return mt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(mt(),t)},calendar:function(t){var e=P(t||mt(),this).startOf("day"),n=this.diff(e,"days",!0),i=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this))},isLeapYear:function(){return A(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=nt(t,this.localeData()),this.add(t-e,"d")):e},month:dt("Month",!0),startOf:function(t){switch(t=_(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=_(t),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,e){return"millisecond"===(e=_(void 0!==e?e:"millisecond"))?(t=mt.isMoment(t)?t:mt(t),+this>+t):+this.clone().startOf(e)>+mt(t).startOf(e)},isBefore:function(t,e){return"millisecond"===(e=_(void 0!==e?e:"millisecond"))?+(t=mt.isMoment(t)?t:mt(t))>+this:+this.clone().startOf(e)<+mt(t).startOf(e)},isSame:function(t,e){return"millisecond"===(e=_(e||"millisecond"))?(t=mt.isMoment(t)?t:mt(t),+this==+t):+this.clone().startOf(e)==+P(t,this).startOf(e)},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=mt.apply(null,arguments),this>t?this:t}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return(t=mt.apply(null,arguments))>this?this:t}),zone:function(t,e){var n,i=this._offset||0;return null==t?this._isUTC?i:this._dateTzOffset():("string"==typeof t&&(t=B(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==t&&(!e||this._changeInProgress?y(this,mt.duration(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,mt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?mt(t).zone():0,(this.zone()-t)%60==0},daysInMonth:function(){return k(this.year(),this.month())},dayOfYear:function(t){var e=wt((mt(this).startOf("day")-mt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ot(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ot(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ot(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return E(this.year(),t.dow,t.doy)},get:function(t){return t=_(t),this[t]()},set:function(t,e){return t=_(t),"function"==typeof this[t]&&this[t](e),this},locale:function(e){var n;return e===t?this._locale._abbr:(null!=(n=mt.localeData(e))&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Use moment().localeData() instead.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),mt.fn.millisecond=mt.fn.milliseconds=dt("Milliseconds",!1),mt.fn.second=mt.fn.seconds=dt("Seconds",!1),mt.fn.minute=mt.fn.minutes=dt("Minutes",!1),mt.fn.hour=mt.fn.hours=dt("Hours",!0),mt.fn.date=dt("Date",!0),mt.fn.dates=o("dates accessor is deprecated. Use date instead.",dt("Date",!0)),mt.fn.year=dt("FullYear",!0),mt.fn.years=o("years accessor is deprecated. Use year instead.",dt("FullYear",!0)),mt.fn.days=mt.fn.day,mt.fn.months=mt.fn.month,mt.fn.weeks=mt.fn.week,mt.fn.isoWeeks=mt.fn.isoWeek,mt.fn.quarters=mt.fn.quarter,mt.fn.toJSON=mt.fn.toISOString,h(mt.duration.fn=u.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,r=this._days,o=this._months,s=this._data,a=0;s.milliseconds=i%1e3,t=f(i/1e3),s.seconds=t%60,e=f(t/60),s.minutes=e%60,n=f(e/60),s.hours=n%24,r+=f(n/24),o+=f((r-=f(pt(a=f(ft(r)))))/30),r%=30,a+=f(o/12),o%=12,s.days=r,s.months=o,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)},humanize:function(t){var e=rt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=mt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=mt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=_(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if("month"===(t=_(t))||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*ft(e),"month"===t?n:n/12;switch(e=this._days+pt(this._months/12),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:mt.fn.lang,locale:mt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),mt.duration.fn.toString=mt.duration.fn.toISOString;for(yt in ie)n(ie,yt)&&function(t){mt.duration.fn[t]=function(){return this._data[t]}}(yt.toLowerCase());mt.duration.fn.asMilliseconds=function(){return this.as("ms")},mt.duration.fn.asSeconds=function(){return this.as("s")},mt.duration.fn.asMinutes=function(){return this.as("m")},mt.duration.fn.asHours=function(){return this.as("h")},mt.duration.fn.asDays=function(){return this.as("d")},mt.duration.fn.asWeeks=function(){return this.as("weeks")},mt.duration.fn.asMonths=function(){return this.as("M")},mt.duration.fn.asYears=function(){return this.as("y")},mt.locale("en",{ordinal:function(t){var e=t%10;return t+(1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),Dt?module.exports=mt:"function"==typeof define&&define.amd?(define("moment",function(t,e,n){return n.config&&n.config()&&!0===n.config().noGlobal&&(bt.moment=vt),mt}),gt(!0)):gt()}.call(this),function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return!!(i=n.call(null,r,t,e))&&void 0}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return!(i=n.call(null,r,t,e))&&void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function n(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||a,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function s(t){var e,n,i=[],r=a.length;for(e=0;r>e;e++)(n=a.key(e)).match(t)&&i.push(n.replace(t,""));return i}var a;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(t){a=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,n,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(i()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(n)&&i()>n)}}),n}(),s=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new r(0):a}var i=0,o={},s=6,a=new r(10);return n.setMaxPendingRequests=function(t){s=t},n.resetCache=function(){a.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),c._cache.set(a,t)}function r(){e(!0)}var a,l,c=this;a=this._fingerprint(t),this.cancelled||a!==this.lastReq||((l=o[a])?l.done(n).fail(r):s>i?(i++,o[a]=this._send(t).done(n).fail(r).always(function(){i--,delete o[a],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,o;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),a=window.SearchIndex=function(){"use strict";function n(n){(n=n||{}).datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[l]=[],t[a]={},t}function o(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,s=e.length;o>n&&s>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(r.push(t[n]),n++,i++);return r}var a="c",l="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,s;n.datums[o=n.identify(t)]=t,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)(e=e[a][s]||(e[a][s]=r()))[l].push(o)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,r,c=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=c.trie,n=t.split("");e&&(i=n.shift());)e=e[a][i];return e&&0===n.length?(o=e[l].slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?e.map(o(r),function(t){return c.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){var e,n=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail(function(){t(!0)}).done(function(e){t(null,n.transform(e))}))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){var n,i=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,function(t,n){e(t?[]:i.transform(n))})},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function i(i){var r;return i?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,!(i=e.mixin(r,i)).url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?a(i.transport):t.ajax,i):null}function r(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,!(n=e.mixin(i,n)).url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=o(n),n.limiter=s(n),n.transport=n.transport?a(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function o(t){var e,n,i;return e=t.prepare,n=t.replace,i=t.wildcard,e||(e=n?function(t,e){return e.url=n(e.url,t),e}:t.wildcard?function(t,e){return e.url=e.url.replace(i,encodeURIComponent(t)),e}:function(t,e){return e})}function s(t){var n,i,r;return n=t.limiter,i=t.rateLimitBy,r=t.rateLimitWait,n||(n=/^throttle$/i.test(i)?function(t){return function(n){return e.throttle(n,t)}}(r):function(t){return function(n){return e.debounce(n,t)}}(r)),n}function a(n){return function(i){var r=t.Deferred();return n(i,function(t){e.defer(function(){r.resolve(t)})},function(t){e.defer(function(){r.reject(t)})}),r}}return function(n){var o,s;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(n=e.mixin(o,n||{})).datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(t){return t.sort(s)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=r(n.remote),n}}();return function(){"use strict";function n(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var r;return r=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=r),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){var t=this;return this.remote?function(e,n,i){return t.search(e,n,i)}:function(e,n){return t.search(e,n)}},_loadPrefetch:function(){var e,n,i=this;return e=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),e.resolve()):this.prefetch.fromNetwork(function(t,n){return t?e.reject():(i.add(n),i.prefetch.store(i.index.serialize()),void e.resolve())}):e.resolve(),e.promise()},_initialize:function(){var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){t.add(t.local)}),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){var r,o=this;return r=this.sorter(this.index.search(t)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,function(t){var n=[];e.each(t,function(t){!e.some(r,function(e){return o.identify(t)===o.identify(e)})&&n.push(t)}),i&&i(n)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return!!(i=n.call(null,r,t,e))&&void 0}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return!(i=n.call(null,r,t,e))&&void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function i(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(o){var s,a;return a=e.mixin({},r,o),s={css:i(),classes:a,html:t(a),selectors:n(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,r,o){var s;if(!r)return this;for(e=e.split(i),r=o?n(r,o):r,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(r);return this}function e(t,e,n){return function(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=!1===t[r].apply(e,n);return!i}}function n(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var i=/\s+/,r=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)};return{onSync:function(e,n,i){return t.call(this,"sync",e,n,i)},onAsync:function(e,n,i){return t.call(this,"async",e,n,i)},off:function(t){var e;if(!this._callbacks)return this;for(t=t.split(i);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var n,o,s,a,l;if(!this._callbacks)return this;for(t=t.split(i),s=[].slice.call(arguments,1);(n=t.shift())&&(o=this._callbacks[n]);)a=e(o.sync,this,[n].concat(s)),l=e(o.async,this,[n].concat(s)),a()&&r(l);return this}}}(),o=function(t){"use strict";function n(t,n,i){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(e.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(t,e){for(var n,i=0;i<t.childNodes.length;i++)3===(n=t.childNodes[i]).nodeType?i+=e(n)?1:0:o(n,e)}var s;(r=e.mixin({},i,r)).node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],s=n(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,function(e){var n,i,o;return(n=s.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),(i=e.splitText(n.index)).splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}))}}(window.document),s=function(){"use strict";function n(n,r){(n=n||{}).input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!s(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;i=!!(n=o(t,this.query))&&this.query.length!==t.length,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,o=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),a=function(){"use strict";function n(n,r){(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!a(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){return t=t||e.stringify,e.isFunction(t)?t:function(e){return e[t]}}function s(n,i){return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||function(e){return t("<div>").text(i(e))}}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,s=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,o;o=s._injectQuery(n,e),i=t(s.templates.suggestion(o)).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(i[0])}),this.highlight&&o({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){o||(o=!0,t=(t||[]).slice(0,i.limit),s=t.length,i._overwrite(e,t),s<i.limit&&i.async&&i.trigger("asyncRequested",e))}var i=this,r=!1,o=!1,s=0;this.cancel(),this.cancel=function(){r=!0,i.cancel=t.noop,i.async&&i.trigger("asyncCanceled",e)},this.source(e,n,function(n){n=n||[],!r&&s<i.limit&&(i.cancel=t.noop,s+=n.length,i._append(e,n.slice(0,i.limit-s)),i.async&&i.trigger("asyncReceived",e))}),!o&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){var r=this;(n=n||{}).node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,function(e){var n=r.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(r.$node),new a(e,i)})}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,function(t){return t.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,-1===(r=-1>r?e.length-1:r)?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,function(e){e.update(t)})),n},empty:function(){e.each(this.datasets,function(t){t.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,function(t){t.destroy()})}}),n}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function n(n,r){var o,s,a,l,c,u,h,d,f,p,g;(n=n||{}).input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),a=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),u=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),d=i(this,"isActive","isOpen","_onLeftKeyed"),f=i(this,"isActive","isOpen","_onRightKeyed"),p=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,o,s;r=document.activeElement,o=i.is(r),s=i.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,n,i,r,o,a,l;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(i),o=e.escapeRegExChars(r),a=new RegExp("^(?:"+o+")(.+$)","i"),(l=a.exec(n.val))&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),!(!(n&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,r;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(g.typeahead))&&n(e,i)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var n,i;n=t.data(g.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(g.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function f(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),(r=i?t(n).first():[]).length?r:null}var p,g,m;p=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,h){var d;return h=e.isArray(h)?h:[].slice.call(arguments,1),r=r||{},d=n(r.classNames),this.each(function(){var n,p,m,v,y,b,w,x,_,C,S;e.each(h,function(t){t.highlight=!!r.highlight}),n=t(this),p=t(d.html.wrapper),m=f(r.hint),v=f(r.menu),y=!1!==r.hint&&!m,b=!1!==r.menu&&!v,y&&(m=o(n,d)),b&&(v=t(d.html.menu).css(d.css.menu)),m&&m.val(""),n=a(n,d),(y||b)&&(p.css(d.css.wrapper),n.css(y?d.css.input:d.css.inputWithNoHint),n.wrap(p).parent().prepend(y?m:null).append(b?v:null)),S=b?c:l,w=new i({el:n}),x=new s({hint:m,input:n},d),_=new S({node:v,datasets:h},d),C=new u({input:x,menu:_,eventBus:w,minLength:r.minLength},d),n.data(g.www,d),n.data(g.typeahead,C)})},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=p,this}}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return!!(i=n.call(null,r,t,e))&&void 0}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return!(i=n.call(null,r,t,e))&&void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function i(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(o){var s,a;return a=e.mixin({},r,o),s={css:i(),classes:a,html:t(a),selectors:n(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,r,o){var s;if(!r)return this;for(e=e.split(i),r=o?n(r,o):r,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(r);return this}function e(t,e,n){return function(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=!1===t[r].apply(e,n);return!i}}function n(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var i=/\s+/,r=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)};return{onSync:function(e,n,i){return t.call(this,"sync",e,n,i)},onAsync:function(e,n,i){return t.call(this,"async",e,n,i)},off:function(t){var e;if(!this._callbacks)return this;for(t=t.split(i);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var n,o,s,a,l;if(!this._callbacks)return this;for(t=t.split(i),s=[].slice.call(arguments,1);(n=t.shift())&&(o=this._callbacks[n]);)a=e(o.sync,this,[n].concat(s)),l=e(o.async,this,[n].concat(s)),a()&&r(l);return this}}}(),o=function(t){"use strict";function n(t,n,i){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(e.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(t,e){for(var n,i=0;i<t.childNodes.length;i++)3===(n=t.childNodes[i]).nodeType?i+=e(n)?1:0:o(n,e)}var s;(r=e.mixin({},i,r)).node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],s=n(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,function(e){var n,i,o;return(n=s.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),(i=e.splitText(n.index)).splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}))}}(window.document),s=function(){"use strict";function n(n,r){(n=n||{}).input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!s(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;i=!!(n=o(t,this.query))&&this.query.length!==t.length,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,o=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),a=function(){"use strict";function n(n,r){(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!a(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){return t=t||e.stringify,e.isFunction(t)?t:function(e){return e[t]}}function s(n,i){return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||function(e){return t("<div>").text(i(e))}}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,s=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,o;o=s._injectQuery(n,e),i=t(s.templates.suggestion(o)).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(i[0])}),this.highlight&&o({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){o||(o=!0,t=(t||[]).slice(0,i.limit),s=t.length,i._overwrite(e,t),s<i.limit&&i.async&&i.trigger("asyncRequested",e))}var i=this,r=!1,o=!1,s=0;this.cancel(),this.cancel=function(){r=!0,i.cancel=t.noop,i.async&&i.trigger("asyncCanceled",e)},this.source(e,n,function(n){n=n||[],!r&&s<i.limit&&(i.cancel=t.noop,s+=n.length,i._append(e,n.slice(0,i.limit-s)),i.async&&i.trigger("asyncReceived",e))}),!o&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){var r=this;(n=n||{}).node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,function(e){var n=r.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(r.$node),new a(e,i)})}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,function(t){return t.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,-1===(r=-1>r?e.length-1:r)?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,function(e){e.update(t)})),n},empty:function(){e.each(this.datasets,function(t){t.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,function(t){t.destroy()})}}),n}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function n(n,r){var o,s,a,l,c,u,h,d,f,p,g;(n=n||{}).input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),a=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),u=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),d=i(this,"isActive","isOpen","_onLeftKeyed"),f=i(this,"isActive","isOpen","_onRightKeyed"),p=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,o,s;r=document.activeElement,o=i.is(r),s=i.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,n,i,r,o,a,l;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(i),o=e.escapeRegExChars(r),a=new RegExp("^(?:"+o+")(.+$)","i"),(l=a.exec(n.val))&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),!(!(n&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,r;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(g.typeahead))&&n(e,i)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var n,i;n=t.data(g.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(g.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function f(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),(r=i?t(n).first():[]).length?r:null}var p,g,m;p=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,h){var d;return h=e.isArray(h)?h:[].slice.call(arguments,1),r=r||{},d=n(r.classNames),this.each(function(){var n,p,m,v,y,b,w,x,_,C,S;e.each(h,function(t){t.highlight=!!r.highlight}),n=t(this),p=t(d.html.wrapper),m=f(r.hint),v=f(r.menu),y=!1!==r.hint&&!m,b=!1!==r.menu&&!v,y&&(m=o(n,d)),b&&(v=t(d.html.menu).css(d.css.menu)),m&&m.val(""),n=a(n,d),(y||b)&&(p.css(d.css.wrapper),n.css(y?d.css.input:d.css.inputWithNoHint),n.wrap(p).parent().prepend(y?m:null).append(b?v:null)),S=b?c:l,w=new i({el:n}),x=new s({hint:m,input:n},d),_=new S({node:v,datasets:h},d),C=new u({input:x,menu:_,eventBus:w,minLength:r.minLength},d),n.data(g.www,d),n.data(g.typeahead,C)})},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=p,this}}()}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(){var t=d();return t.compile=function(e,n){return l.compile(e,n,t)},t.precompile=function(e,n){return l.precompile(e,n,t)},t.AST=s.default,t.Compiler=l.Compiler,t.JavaScriptCompiler=c.default,t.Parser=a.parser,t.parse=a.parse,t}var r=n(1).default;e.__esModule=!0;var o=r(n(2)),s=r(n(21)),a=n(22),l=n(27),c=r(n(28)),u=r(n(25)),h=r(n(20)),d=o.default.create,f=i();f.create=i,h.default(f),f.Visitor=u.default,f.default=f,e.default=f,t.exports=e.default},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,n){"use strict";function i(){var t=new s.HandlebarsEnvironment;return c.extend(t,s),t.SafeString=a.default,t.Exception=l.default,t.Utils=c,t.escapeExpression=c.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var r=n(3).default,o=n(1).default;e.__esModule=!0;var s=r(n(4)),a=o(n(18)),l=o(n(6)),c=r(n(5)),u=r(n(19)),h=o(n(20)),d=i();d.create=i,h.default(d),d.default=d,e.default=d,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__esModule=!0},function(t,e,n){"use strict";function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var r=n(1).default;e.__esModule=!0,e.HandlebarsEnvironment=i;var o=n(5),s=r(n(6)),a=n(7),l=n(15),c=r(n(17));e.VERSION="4.0.5";e.COMPILER_REVISION=7;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=u;i.prototype={constructor:i,logger:c.default,log:c.default.log,registerHelper:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===o.toString.call(t))o.extend(this.partials,t);else{if(void 0===e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var h=c.default.log;e.log=h,e.createFrame=o.createFrame,e.logger=c.default},function(t,e){"use strict";function n(t){return r[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}e.__esModule=!0,e.extend=i,e.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return s.test(t)?t.replace(o,n):t},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=i({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,s=/[&<>"'`=]/,a=Object.prototype.toString;e.toString=a;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===a.call(t)};e.isArray=c},function(t,e){"use strict";function n(t,e){var r=e&&e.loc,o=void 0,s=void 0;r&&(t+=" - "+(o=r.start.line)+":"+(s=r.start.column));for(var a=Error.prototype.constructor.call(this,t),l=0;l<i.length;l++)this[i[l]]=a[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),r&&(this.lineNumber=o,this.column=s)}e.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e.default=n,t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){r.default(t),o.default(t),s.default(t),a.default(t),l.default(t),c.default(t),u.default(t)};var r=i(n(8)),o=i(n(9)),s=i(n(10)),a=i(n(11)),l=i(n(12)),c=i(n(13)),u=i(n(14))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var r=n.inverse,o=n.fn;if(!0===e)return o(this);if(!1===e||null==e)return r(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(e,n)})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=n(5),o=i(n(6));e.default=function(t){t.registerHelper("each",function(t,e){function n(e,n,o){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!o,u&&(c.contextPath=u+e)),l+=i(t[e],{data:c,blockParams:r.blockParams([t[e],e],[u+e,null])})}if(!e)throw new o.default("Must pass iterator to #each");var i=e.fn,s=e.inverse,a=0,l="",c=void 0,u=void 0;if(e.data&&e.ids&&(u=r.appendContextPath(e.data.contextPath,e.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),e.data&&(c=r.createFrame(e.data)),t&&"object"==typeof t)if(r.isArray(t))for(var h=t.length;a<h;a++)a in t&&n(a,a,a===t.length-1);else{var d=void 0;for(var f in t)t.hasOwnProperty(f)&&(void 0!==d&&n(d,a-1),d=f,a++);void 0!==d&&n(d,a-1,!0)}return 0===a&&(l=s(this)),l})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=i(n(6));e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("if",function(t,e){return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),e[0]=r,t.log.apply(t,e)})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("with",function(t,e){i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=i.createFrame(e.data)).contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){r.default(t)};var r=i(n(16))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerDecorator("inline",function(t,e,n,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,e.partials);var a=t(r,o);return n.partials=s,a}),e.partials[r.args[0]]=r.fn,o})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[e].apply(console,i)}}};e.default=r,t.exports=e.default},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){function l(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&e!==a[0]&&(s=[e].concat(a)),n(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),s)}return l=s(n,l,t,a,i,o),l.program=e,l.depth=a?a.length:0,l.blockParams=r||0,l}function r(){return""}function o(t,e){return e&&"root"in e||((e=e?h.createFrame(e):{}).root=t),e}function s(t,e,n,i,r,o){if(t.decorator){var s={};e=t.decorator(e,s,n,i&&i[0],r,o,i),c.extend(e,s)}return e}var a=n(3).default,l=n(1).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=h.COMPILER_REVISION;if(e!==n){if(e<n){var i=h.REVISION_CHANGES[n],r=h.REVISION_CHANGES[e];throw new u.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new u.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){function n(e){function i(e){return""+t.main(r,e,r.helpers,r.partials,l,u,c)}var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=a.data;n._setup(a),!a.partial&&t.useData&&(l=o(e,l));var c=void 0,u=t.useBlockParams?[]:void 0;return t.useDepths&&(c=a.depths?e!==a.depths[0]?[e].concat(a.depths):a.depths:[e]),(i=s(t.main,i,r,a.depths||[],l,u))(e,a)}if(!e)throw new u.default("No environment passed to template");if(!t||!t.main)throw new u.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new u.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:c.escapeExpression,invokePartial:function(n,i,r){r.hash&&(i=c.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=r.indent+s[a];o=s.join("\n")}return o}throw new u.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var s=this.programs[t],a=this.fn(t);return e||o||r||n?s=i(this,t,a,e,n,r,o):s||(s=this.programs[t]=i(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=c.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=r.merge(n.decorators,e.decorators)))},n._child=function(e,n,o,s){if(t.useBlockParams&&!o)throw new u.default("must pass block params");if(t.useDepths&&!s)throw new u.default("must pass parent depths");return i(r,e,t[e],n,0,o,s)},n},e.wrapProgram=i,e.resolvePartial=function(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t},e.invokePartial=function(t,e,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==r&&(n.data=h.createFrame(n.data),(i=n.data["partial-block"]=n.fn).partials&&(n.partials=c.extend({},n.partials,i.partials))),void 0===t&&i&&(t=i),void 0===t)throw new u.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=r;var c=a(n(5)),u=l(n(6)),h=n(4)},function(t,e){(function(n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var n={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e.default=n,t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default,r=n(3).default;e.__esModule=!0,e.parse=function(t,e){return"Program"===t.type?t:(o.default.yy=c,c.locInfo=function(t){return new c.SourceLocation(e&&e.srcName,t)},new s.default(e).accept(o.default.parse(t)))};var o=i(n(23)),s=i(n(24)),a=r(n(26)),l=n(5);e.parser=o.default;var c={};l.extend(c,a)},function(t,e){"use strict";var n=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 2:this.$=i.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[a]),strip:i.stripFlags(o[a],o[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var l=i.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),c=i.prepareProgram([l],o[a-1].loc);c.chained=!0,this.$={strip:o[a-2].strip,program:c,chain:!0};break;case 20:this.$=o[a];break;case 21:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:i.stripFlags(o[a-4],o[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:i.stripFlags(o[a-4],o[a])};break;case 27:case 28:this.$=o[a];break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[a-2]),value:o[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[a-1]);break;case 33:case 34:this.$=o[a];break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=o[a];break;case 42:this.$=i.preparePath(!0,o[a],this._$);break;case 43:this.$=i.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:i.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:i.id(o[a]),original:o[a]}];break;case 46:this.$=[];break;case 47:o[a-1].push(o[a]);break;case 48:this.$=[o[a]];break;case 49:o[a-1].push(o[a]);break;case 50:this.$=[];break;case 51:o[a-1].push(o[a]);break;case 58:this.$=[];break;case 59:o[a-1].push(o[a]);break;case 64:this.$=[];break;case 65:o[a-1].push(o[a]);break;case 70:this.$=[];break;case 71:o[a-1].push(o[a]);break;case 78:this.$=[];break;case 79:o[a-1].push(o[a]);break;case 82:this.$=[];break;case 83:o[a-1].push(o[a]);break;case 86:this.$=[];break;case 87:o[a-1].push(o[a]);break;case 90:this.$=[];break;case 91:o[a-1].push(o[a]);break;case 94:this.$=[];break;case 95:o[a-1].push(o[a]);break;case 98:this.$=[o[a]];break;case 99:o[a-1].push(o[a]);break;case 100:this.$=[o[a]];break;case 101:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,n=[0],i=[null],r=[],o=this.table,s="",a=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,p,g,m,v,y,b,w,x={};;){if(p=n[n.length-1],this.defaultActions[p]?g=this.defaultActions[p]:(null!==d&&void 0!==d||(d=function(){var t;return"number"!=typeof(t=e.lexer.lex()||1)&&(t=e.symbols_[t]||t),t}()),g=o[p]&&o[p][d]),void 0===g||!g.length||!g[0]){var _="";if(!c){w=[];for(v in o[p])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");_=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+d);switch(g[0]){case 1:n.push(d),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(g[1]),d=null,f?(d=f,f=null):(l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[g[1]][1],x.$=i[i.length-y],x._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},h&&(x._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),void 0!==(m=this.performAction.call(x,s,l,a,this.yy,g[1],i,r)))return m;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),r=r.slice(0,-1*y)),n.push(this.productions_[g[1]][0]),i.push(x.$),r.push(x._$),b=o[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||e&&!(n[0].length>e[0].length)||(e=n,i=s,this.options.flex));s++);return e?((r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,i){function r(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e.yytext=e.yytext.substr(5,e.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},t}();return e.lexer=n,t.prototype=e,e.Parser=t,new t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function r(t,e,n){void 0===e&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function o(t,e,n){void 0===e&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function s(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function a(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var l=n(1).default;e.__esModule=!0;var c=l(n(25));(i.prototype=new c.default).Program=function(t){var e=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=t.body,l=0,c=i.length;l<c;l++){var u=i[l],h=this.accept(u);if(h){var d=r(i,l,n),f=o(i,l,n),p=h.openStandalone&&d,g=h.closeStandalone&&f,m=h.inlineStandalone&&d&&f;h.close&&s(i,l,!0),h.open&&a(i,l,!0),e&&m&&(s(i,l),a(i,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),e&&p&&(s((u.program||u.inverse).body),a(i,l)),e&&g&&(s(i,l),a((u.inverse||u.program).body))}}return t},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:o(e.body),closeStandalone:r((i||e).body)};if(t.openStrip.close&&s(e.body,null,!0),n){var u=t.inverseStrip;u.open&&a(e.body,null,!0),u.close&&s(i.body,null,!0),t.closeStrip.open&&a(l.body,null,!0),!this.options.ignoreStandalone&&r(e.body)&&o(i.body)&&(a(e.body),s(i.body))}else t.closeStrip.open&&a(e.body,null,!0);return c},i.prototype.Decorator=i.prototype.MustacheStatement=function(t){return t.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(){this.parents=[]}function r(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function o(t){r.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function s(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var a=n(1).default;e.__esModule=!0;var l=a(n(6));i.prototype={constructor:i,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&!i.prototype[n.type])throw new l.default('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new l.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){if(!this[t.type])throw new l.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:r,Decorator:r,BlockStatement:o,DecoratorBlock:o,PartialStatement:s,PartialBlockStatement:function(t){s.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:r,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var n={loc:t.path.loc};throw new o.default(t.path.original+" doesn't match "+e,n)}}var r=n(1).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,n){n=this.locInfo(n);for(var i=t?"@":"",r=[],s=0,a=0,l=e.length;a<l;a++){var c=e[a].part,u=e[a].original!==c;if(i+=(e[a].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)r.push(c);else{if(r.length>0)throw new o.default("Invalid path: "+i,{loc:n});".."===c&&s++}}return{type:"PathExpression",data:t,depth:s,parts:r,original:i,loc:n}},e.prepareMustache=function(t,e,n,i,r,o){var s=i.charAt(3)||i.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:t,params:e,hash:n,escaped:a,strip:r,loc:this.locInfo(o)}},e.prepareRawBlock=function(t,e,n,r){i(t,n);var o={type:"Program",body:e,strip:{},loc:r=this.locInfo(r)};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},e.prepareBlock=function(t,e,n,r,s,a){r&&r.path&&i(t,r);var l=/\*/.test(t.open);e.blockParams=t.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new o.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),u=n.strip,c=n.program}return s&&(s=c,c=e,e=s),{type:l?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:c,openStrip:t.strip,inverseStrip:u,closeStrip:r&&r.strip,loc:this.locInfo(a)}},e.prepareProgram=function(t,e){if(!e&&t.length){var n=t[0].loc,i=t[t.length-1].loc;n&&i&&(e={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,n,r){return i(t,n),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var o=r(n(6))},function(t,e,n){"use strict";function i(){}function r(t,e){if(t===e)return!0;if(l.isArray(t)&&l.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}}function o(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var s=n(1).default;e.__esModule=!0,e.Compiler=i,e.precompile=function(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new a.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var i=n.parse(t,e),r=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(r,e)},e.compile=function(t,e,n){function i(){var i=n.parse(t,e),r=(new n.Compiler).compile(i,e),o=(new n.JavaScriptCompiler).compile(r,e,void 0,!0);return n.template(o)}function r(t,e){return o||(o=i()),o.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new a.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var o=void 0;return r._setup=function(t){return o||(o=i()),o._setup(t)},r._child=function(t,e,n,r){return o||(o=i()),o._child(t,e,n,r)},r};var a=s(n(6)),l=n(5),c=s(n(21)),u=[].slice;i.prototype={compiler:i,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(o=0;o<e;o++){var n=this.opcodes[o],i=t.opcodes[o];if(n.opcode!==i.opcode||!r(n.args,i.args))return!1}e=this.children.length;for(var o=0;o<e;o++)if(!this.children[o].equals(t.children[o]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(e.knownHelpers[i]=n[i]);return this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function(t){if(!this[t.type])throw new a.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,i=0;i<n;i++)this.accept(e[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){o(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,e,void 0),i=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new a.default("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,r="SubExpression"===t.name.type;r&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var o=t.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",r,i,o),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){o(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var i=t.path,r=i.parts[0],o=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),r=t.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new a.default("You specified knownHelpersOnly, but used the unknown helper "+o,t);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,c.default.helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=c.default.helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,n=0,i=e.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=c.default.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&c.default.helpers.helperExpression(t),r=!n&&(i||e);if(r&&!i){var o=t.path.parts[0],s=this.options;s.knownHelpers[o]?i=!0:s.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=void 0;if(!t.parts||c.default.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var i=this.options.blockParams[e],r=i&&l.indexOf(i,t);if(i&&r>=0)return[e,r]}}}},function(t,e,n){"use strict";function i(t){this.value=t}function r(){}function o(t,e,n,i){var r=e.popStack(),o=0,s=n.length;for(t&&s--;o<s;o++)r=e.nameLookup(r,n[o],i);return t?[e.aliasable("container.strict"),"(",r,", ",e.quotedString(n[o]),")"]:r}var s=n(1).default;e.__esModule=!0;var a=n(4),l=s(n(6)),c=n(5),u=s(n(29));r.prototype={nameLookup:function(t,e){return r.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=a.COMPILER_REVISION;return[t,a.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,n){return c.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,o=void 0,s=void 0,a=void 0,c=void 0;for(a=0,c=r.length;a<c;a++)o=r[a],this.source.currentLocation=o.loc,s=s||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var h={compiler:this.compilerInfo(),main:u};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var d=this.context,f=d.programs,p=d.decorators;for(a=0,c=f.length;a<c;a++)f[a]&&(h[a]=f[a],p[a]&&(h[a+"_d"]=p[a],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),i?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName})).map=h.map&&h.map.toString():h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new u.default(this.options.srcName),this.decorators=new u.default(this.options.srcName)},createFunctionContext:function(t){var e="",n=this.stackVars.concat(this.registers.list);n.length>0&&(e+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(e+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var a=this.mergeSource(e);return t?(s.push(a),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,s=void 0;return this.source.each(function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,s=t):(o&&(r?o.prepend("buffer += "):i=!0,s.add(";"),o=s=void 0),r=!0,e||(n=!1))}),n?o?(o.prepend("return "),s.add(";")):r||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[r++])),this.resolvePath("context",t,r,e,n)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,n)},resolvePath:function(t,e,n,i,r){var s=this;if(this.options.strict||this.options.assumeObjects)this.push(o(this.options.strict&&r,this,e,t));else for(var a=e.length;n<a;n++)this.replaceStack(function(r){var o=s.nameLookup(r,e[n],t);return i?[" && ",o]:[" != null ? ",o," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var n=this.nameLookup("decorators",e,"decorator"),i=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(t,e,n){var i=this.popStack(),r=this.setupHelper(t,e),o=n?[r.name," || "]:"",s=["("].concat(o,i);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",r.callParams))},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,n){var i=[],r=this.setupParams(e,1,i);t&&(e=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",t?i.unshift(e):i.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(t){var e=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[t]=n),i&&(o.types[t]=i),r&&(o.ids[t]=r),o.values[t]=e},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(t,e){for(var n=t.children,i=void 0,r=void 0,o=0,s=n.length;o<s;o++){i=n[o],r=new this.compiler;var a=this.matchExistingProgram(i);null==a?(this.context.programs.push(""),a=this.context.programs.length,i.index=a,i.name="program"+a,this.context.programs[a]=r.compile(i,e,this.context,!this.precompile),this.context.decorators[a]=r.decorators,this.context.environments[a]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams):(i.index=a,i.name="program"+a,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof i||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],n=void 0,r=void 0,o=void 0;if(!this.isInline())throw new l.default("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof i)e=["(",n=[s.value]],o=!0;else{r=!0;var a=this.incrStack();e=["((",this.push(a)," = ",s,")"],n=this.topStack()}var c=t.call(this,n);o||this.popStack(),r&&this.stackSlot--,this.push(e.concat(c,")"))},incrStack:function(){return++this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r instanceof i)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new l.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof i?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(e,t,i,n),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}")].concat(i)}},setupParams:function(t,e,n){var i={},r=[],o=[],s=[],a=!n,l=void 0;a&&(n=[]),i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var h=e;h--;)l=this.popStack(),n[h]=l,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(o[h]=this.popStack(),r[h]=this.popStack());return a&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(s)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(t,e,n,i){var r=this.setupParams(t,e,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=r.RESERVED_WORDS={},n=0,i=t.length;n<i;n++)e[t[n]]=!0}(),r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=r,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){if(o.isArray(t)){for(var i=[],r=0,s=t.length;r<s;r++)i.push(e.wrap(t[r],n));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function r(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var o=n(5),s=void 0;try{}catch(t){}s||((s=function(t,e,n,i){this.src="",i&&this.add(i)}).prototype={add:function(t){o.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){o.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new s(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof s?t:(t=i(t,this,e),new s(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var r=i(t[n],this);"undefined"!==r&&e.push([this.quotedString(n),":",r])}var o=this.generateList(e);return o.prepend("{"),o.add("}"),o},generateList:function(t){for(var e=this.empty(),n=0,r=t.length;n<r;n++)n&&e.add(","),e.add(i(t[n],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=r,t.exports=e.default}])});